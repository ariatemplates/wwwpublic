/*
 * Aria Templates 1.0.0 - 29 Oct 2013
 *
 * Copyright 2009-2013 Amadeus s.a.s.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
//***MULTI-PART
//*******************
//LOGICAL-PATH:aria/DomEvent.js
//*******************
(function(){var e,t,i={target:"srcElement",type:"type",clientX:"clientX",clientY:"clientY",altKey:"altKey",ctrlKey:"ctrlKey",shiftKey:"shiftKey",pageX:"pageX",pageY:"pageY",relatedTarget:"relatedTarget",button:"button",direction:"direction",distance:"distance",duration:"duration",startX:"startX",startY:"startY",endX:"endX",endY:"endY",detail:"detail",wheelDelta:"wheelDelta",wheelDeltaX:"wheelDeltaX",wheelDeltaY:"wheelDeltaY",screenX:"screenX",screenY:"screenY",touches:"touches",changedTouches:"changedTouches",targetTouches:"targetTouches",isPrimary:"isPrimary"},a={focusin:"focus",focusout:"blur",dommousescroll:"mousewheel",webkitanimationstart:"animationstart",oanimationstart:"animationstart",msanimationstart:"animationstart",webkitanimationiteration:"animationiteration",oanimationiteration:"animationiteration",msanimationiteration:"animationiteration",webkitanimationend:"animationend",oanimationend:"animationend",msanimationend:"animationend",webkittransitionend:"transitionend",otransitionend:"transitionend",mstransitionend:"transitionend"},n=function(e){return e=e.toLowerCase(),a[e]||e};Aria.classDefinition({$classpath:"aria.DomEvent",$dependencies:["aria.core.Browser"],$onload:function(){e=aria.core.Browser.isIE6||aria.core.Browser.isIE7||aria.core.Browser.isIE8,t=!(aria.core.Browser.isIE||aria.core.Browser.isOpera||aria.core.Browser.isChrome||aria.core.Browser.isSafari)},$constructor:function(a){var r=null!=a.$DomEvent;if(!r&&e&&Aria.$window.event){a=Aria.$window.event;for(var o in i)i.hasOwnProperty(o)&&(this[o]=a[i[o]]);"mouseout"==a.type?this.relatedTarget=a.toElement:"mouseover"==a.type&&(this.relatedTarget=a.fromElement)}else for(var o in i)i.hasOwnProperty(o)&&(this[o]=a[o]);if(this.type=n(a.type),this.charCode=0,this.keyCode=0,"keydown"==this.type||"keyup"==this.type)this.keyCode=a.keyCode,this.isSpecialKey=this.isSpecialKey(this.keyCode,a);else if("keypress"==this.type){var s=a.keyCode||a.charCode,C=t&&a.keyCode;this.keyCode=s,C||(this.keyCode=s,s>32&&38>s&&(this.keyCode=s+16),s>41&&48>s&&(this.keyCode=s+64),s>47&&58>s&&(this.keyCode=s+48),s>96&&123>s&&(this.keyCode=s-32)),this.charCode=s,this.isSpecialKey=this.isSpecialKey(this.keyCode,a)}this.hasStopPropagation=!1,this.hasPreventDefault=!1,this.preventDefault=a.preventDefault?function(e){this.hasPreventDefault=!0,a.preventDefault(),e===!0&&this.stopPropagation()}:function(e){this.hasPreventDefault=!0,a.returnValue=!1,e===!0&&this.stopPropagation()},this.stopPropagation=a.stopPropagation?function(){this.hasStopPropagation=!0,a.stopPropagation()}:function(){this.hasStopPropagation=!0,a.cancelBubble=!0},this._dispose=function(){a=null,this.preventDefault=null,this.stopPropagation=null}},$destructor:function(){this._dispose&&(this.target=null,this.delegateTarget=null,this._dispose())},$prototype:{_ariaDomEvent:!0,_wrapperNumber:0,disposeWrapper:function(){0===this._wrapperNumber?this.$dispose():this._wrapperNumber--},setTarget:function(e){this.target=e}},$statics:{getWrapper:function(e){return e&&e._ariaDomEvent?(e._wrapperNumber++,e):new aria.DomEvent(e)},KC_BACKSPACE:8,KC_TAB:9,KC_NUM_CENTER:12,KC_ENTER:13,KC_RETURN:13,KC_SHIFT:16,KC_CTRL:17,KC_CONTROL:17,KC_ALT:18,KC_PAUSE:19,KC_CAPS_LOCK:20,KC_ESCAPE:27,KC_SPACE:32,KC_PAGEUP:33,KC_PAGE_UP:33,KC_PAGEDOWN:34,KC_PAGE_DOWN:34,KC_END:35,KC_HOME:36,KC_LEFT:37,KC_ARROW_LEFT:37,KC_UP:38,KC_ARROW_UP:38,KC_RIGHT:39,KC_ARROW_RIGHT:39,KC_DOWN:40,KC_ARROW_DOWN:40,KC_PRINT_SCREEN:44,KC_INSERT:45,KC_DELETE:46,KC_ZERO:48,KC_ONE:49,KC_TWO:50,KC_THREE:51,KC_FOUR:52,KC_FIVE:53,KC_SIX:54,KC_SEVEN:55,KC_EIGHT:56,KC_NINE:57,KC_A:65,KC_B:66,KC_C:67,KC_D:68,KC_E:69,KC_F:70,KC_G:71,KC_H:72,KC_I:73,KC_J:74,KC_K:75,KC_L:76,KC_M:77,KC_N:78,KC_O:79,KC_P:80,KC_Q:81,KC_R:82,KC_S:83,KC_T:84,KC_U:85,KC_V:86,KC_W:87,KC_X:88,KC_Y:89,KC_Z:90,KC_CONTEXT_MENU:93,KC_NUM_ZERO:96,KC_NUM_ONE:97,KC_NUM_TWO:98,KC_NUM_THREE:99,KC_NUM_FOUR:100,KC_NUM_FIVE:101,KC_NUM_SIX:102,KC_NUM_SEVEN:103,KC_NUM_EIGHT:104,KC_NUM_NINE:105,KC_MULTIPLY:106,KC_PLUS:107,KC_MINUS:109,KC_PERIOD:110,KC_DIVISION:111,KC_DIVIDE:111,KC_F1:112,KC_F2:113,KC_F3:114,KC_F4:115,KC_F5:116,KC_F6:117,KC_F7:118,KC_F8:119,KC_F9:120,KC_F10:121,KC_F11:122,KC_F12:123,isSpecialKey:function(e,t){return e>32&&41>e?!0:8==e||9==e||13==e||27==e?!0:45==e||46==e?!1:t.ctrlKey&&e!=this.KC_CTRL?!0:t.altKey&&e!=this.KC_ALT?!0:!1},isNavigationKey:function(e){return e>32&&41>e?!0:9==e||13==e||27==e?!0:!1},getFakeEvent:function(e,t){var i=new aria.DomEvent({type:e});return i.type=e,i.target=t,i}}})})();
//*******************
//LOGICAL-PATH:aria/utils/Callback.js
//*******************
Aria.classDefinition({$classpath:"aria.utils.Callback",$dependencies:["aria.utils.Type"],$statics:{INVALID_CALLBACK:"The callback function is invalid or missing or it was called after $dispose."},$constructor:function(t){t=this.$normCallback(t);var e=aria.utils.Type.isFunction(t.fn);this._scope=e?t.scope:this,this._function=e?t.fn:this._warnDisposed,this._args=t.args,this._resIndex=t.resIndex,this._apply=t.apply},$destructor:function(){this._scope=this,this._function=this._warnDisposed,this._args=null},$prototype:{call:function(t){var e=this._apply===!0&&aria.utils.Type.isArray(this._args)?this._args.slice():[this._args],i=void 0===this._resIndex?0:this._resIndex;return i>-1&&e.splice(i,0,t),this._function.apply(this._scope,e)},_warnDisposed:function(){this.$logError(this.INVALID_CALLBACK)},apply:function(t){this.call(t)}}});
//*******************
//LOGICAL-PATH:aria/utils/Event.js
//*******************
(function(){var t="focusin",e="focusout",i=[],n=2,r=3,s=0,a=1,o=null,l=null,u=4,c=5,h=6;Aria.classDefinition({$classpath:"aria.utils.Event",$dependencies:["aria.utils.Type","aria.utils.Callback","aria.core.Browser"],$singleton:!0,$statics:{INVALID_TARGET:"Unable to add '%2' event on element %1"},$constructor:function(){this.typesUtil=aria.utils.Type,this.UA=aria.core.Browser,this.isIE=this.UA.ie;var t=this;this._unload=function(e){t._unloadEvent(e)}},$destructor:function(){this.reset(),this._unload=null},$prototype:{reset:function(){l&&(l=null,this._simpleRemove(Aria.$window,"unload",this._unload));for(var t=i.length-1;t>=0;t--){var e=i[t];e&&this.removeListener(e[s],e[a],e[n],t)}},_checkUnloadListeners:function(){null==l&&(l=[],this._simpleAdd(Aria.$window,"unload",this._unload))},_unloadEvent:function(t){for(var e=l.slice(),i=0,n=e.length;n>i;++i){var r=e[i];r&&(r[c].call(this.getEvent(t)),e[i]=null,r=null)}e=null},addListener:function(i,n,r,s,a,o){if(!r)return!1;"mousewheel"==n&&(this.UA.isIE?i==Aria.$window&&(i=i.document):this.UA.isOpera||this.UA.isSafari||this.UA.isWebkit||(n="DOMMouseScroll")),this.typesUtil.isFunction(r)||(o=s);var l=n!=t&&n!=e||this.UA.ie?o:!0;return this._addListener(i,this._getType(n),r,s,a,l)},_simpleAdd:function(){if(Aria.$window){if(Aria.$window.addEventListener)return function(t,e,i,n){t.addEventListener(e,i,n)};if(Aria.$window.attachEvent)return function(t,e,i){t.attachEvent("on"+e,i)}}return function(){}}(),_addListener:function(t,e,n,r,s,a){if(this._isValidCollection(t)){for(var o=!0,u=0,c=t.length;c>u;++u)o=this._addListener(t[u],e,n,r,s,a)&&o;return o}if(this.typesUtil.isString(t)){var h=Aria.$window.document.getElementById(t);if(!h)return this.$logError(this.INVALID_TARGET,[t,e]),t=h,!1;t=h}if(!this.typesUtil.isHTMLElement(t))return!1;var _=n;if(!n.$Callback){if(!_.fn||!this.typesUtil.isFunction(_.fn))return!1;_.scope||(_.scope=t)}var d=n;n.$Callback||(d=new aria.utils.Callback(_));var C;if("mousemove"==e&&aria.core.Browser.isWebkit){var p=null;C=function(e){e=aria.utils.Event.getEvent(e,t);var i=e.pageX,n=e.pageY,r="";if(e.touches)for(var s=0;e.touches.length>s;s+=1)r+=e.touches[s].pageX+"."+e.touches[s].pageY+"|";return!p||p.x!==i||p.y!==n||r&&r!==p.touches?(p={x:i,y:n,touches:r},d.call(e)):void 0}}else C=function(e){return d.call(aria.utils.Event.getEvent(e,t))};var f=function(){d={call:Aria.empty},C=null,f=null,K=null,t=null},K=[t,e,n,C,a,d,f];if("unload"==e&&s!==this)return this._checkUnloadListeners(),l[l.length]=K,!0;var E=i.length;i[E]=K;try{this._simpleAdd(t,e,C,a)}catch(v){return this.$logError(this.INVALID_TARGET,[t,e],v),this.removeListener(t,e,n),!1}return!0},_isValidCollection:function(t){try{return t&&"string"!=typeof t&&t.length&&!t.tagName&&!t.alert&&t[0]!==void 0}catch(e){return!1}},getEvent:function(t){var e=t||Aria.$window.event;if(!e)for(var i=Aria.$window.Event,n=this.getEvent.caller;n&&(e=n.arguments[0],!e||i!=e.constructor);)n=n.caller;return e},_getType:function(t){return this._specialTypes[t]||t},_specialTypes:{focusin:aria.core.Browser.isIE?"focusin":"focus",focusout:aria.core.Browser.isIE?"focusout":"blur"},removeListener:function(t,e,s){var a,_;if("mousewheel"==e&&(this.UA.isIE?t==Aria.$window&&(t=t.document):this.UA.isOpera||this.UA.isSafari||(e="DOMMouseScroll")),e=this._getType(e),this.typesUtil.isString(t)){if(t=Aria.$window.document.getElementById(t),!t)return!1}else if(this._isValidCollection(t)){var d=!0;for(a=t.length-1;a>-1;a--)d=this.removeListener(t[a],e,s)&&d;return d}if(!s||!s.call&&!s.fn)return this.purgeElement(t,!1,e);if("unload"==e){if(l)for(a=l.length-1;a>-1;a--){_=l[a];var C;if(C=_&&aria.utils.Type.isObject(_[n])&&!_[n].$Callback?"fn"in s&&_[n].fn==s.fn:_[n]==s,_&&_[0]==t&&_[1]==e&&C)return _[n]!=_[c]&&_[c].$dispose(),_[h](),delete _[h],l.splice(a,1),!0}return!1}var p=null,f=arguments[3];if(f===void 0&&(f=this._getCacheIndex(i,t,e,s)),f>=0&&(p=i[f]),!t||!p)return!1;var K=p[u]===!0?!0:!1;try{this._simpleRemove(t,e,p[r],K)}catch(E){return o=E,!1}return delete i[f][r],i[f][n]!=i[f][c]&&i[f][c].$dispose(),i[f][h](),delete i[f][h],i.splice(f,1),!0},_getCacheIndex:function(t,e,i,r){for(var o,l=0,u=t.length;u>l;l+=1){var c=t[l];if(o=c&&this.typesUtil.isObject(c[n])&&!c[n].$Callback?"fn"in r&&c[n].fn==r.fn:c[n]==r,c&&o&&c[s]==e&&c[a]==i)return l}return-1},_simpleRemove:function(){if(Aria.$window){if(Aria.$window.removeEventListener)return function(t,e,i,n){t.removeEventListener(e,i,n)};if(Aria.$window.detachEvent)return function(t,e,i){t.detachEvent("on"+e,i)}}return function(){}}(),purgeElement:function(t,e,i){var n,r,s=this.typesUtil.isString(t)?Aria.$window.document.getElementById(t):t,a=this.getListeners(s,i);if(a)for(n=a.length-1;n>-1;n--){var o=a[n];this.removeListener(s,o.type,o.fn)}if(e&&s&&s.childNodes)for(n=0,r=s.childNodes.length;r>n;++n)this.purgeElement(s.childNodes[n],e,i)},getListeners:function(t,e){var r,o=[];e?"unload"===e?r=[l]:(e=this._getType(e),r=[i]):r=[i,l];for(var u=this.typesUtil.isString(t)?Aria.$window.document.getElementById(t):t,c=0;r.length>c;c+=1){var h=r[c];if(h)for(var _=0,d=h.length;d>_;++_){var C=h[_];!C||C[s]!==u||e&&e!==C[a]||o.push({type:C[a],fn:C[n],index:_})}}return o.length?o:null}}})})();
//*******************
//LOGICAL-PATH:aria/utils/AriaWindow.js
//*******************
Aria.classDefinition({$classpath:"aria.utils.AriaWindow",$dependencies:["aria.utils.Event"],$singleton:!0,$constructor:function(){this._windowUsages=0},$destructor:function(){this._unloadWindow()},$events:{attachWindow:"",unloadWindow:"",detachWindow:""},$statics:{NEGATIVE_WINDOW_USAGES:"Calls to attachWindow/detachWindow lead to a negative counter: %1. The counter will be reset to 0.",WINDOW_STILL_USED_AFTER_UNLOAD:"Counter is not null after raising unloadWindow: %1. The counter will be reset to 0.",ALREADY_UNLOADING_WINDOW:"Aria.$window is already being unloaded."},$prototype:{attachWindow:function(){this._windowUsages++,1===this._windowUsages&&(aria.utils.Event.addListener(Aria.$window,"unload",{fn:this._unloadWindow,scope:this}),this.$raiseEvent("attachWindow"))},detachWindow:function(){0>=this._windowUsages?this.$logError(this.NEGATIVE_WINDOW_USAGES,[this._windowUsages-1]):this._windowUsages--,0!==this._windowUsages||this._isUnloadingWindow||this._raiseDetachWindow()},_raiseDetachWindow:function(){this.$assert(42,0===this._windowUsages),this.$raiseEvent("detachWindow"),aria.utils.Event.removeListener(Aria.$window,"unload",{fn:this._unloadWindow,scope:this}),aria.utils.Event.reset()},_unloadWindow:function(){if(this._isUnloadingWindow)return this.$logError(this.ALREADY_UNLOADING_WINDOW),void 0;if(this.isWindowUsed()){this._isUnloadingWindow=!0;try{this.$raiseEvent("unloadWindow"),this._windowUsages>0&&(this.$logError(this.WINDOW_STILL_USED_AFTER_UNLOAD,[this._windowUsages]),this._windowUsages=0),this._raiseDetachWindow()}finally{this._isUnloadingWindow=!1}}},setWindow:function(t){t!==Aria.$window&&(this._unloadWindow(),Aria.$window=t)},isWindowUsed:function(){return this._windowUsages>0}}});
//*******************
//LOGICAL-PATH:aria/utils/IdManager.js
//*******************
Aria.classDefinition({$classpath:"aria.utils.IdManager",$dependencies:["aria.utils.Array"],$constructor:function(t){this._freeIdMap={},this._idCounter=0,this.prefix=t||""},$destructor:function(){this._freeIdMap=null},$prototype:{getId:function(){for(var t in this._freeIdMap)if(this._freeIdMap.hasOwnProperty(t))return delete this._freeIdMap[t],t;var i=this.prefix+this._idCounter;return this._idCounter++,i},releaseId:function(t){t&&(this._freeIdMap[t]=!0)}}});
//*******************
//LOGICAL-PATH:aria/utils/CSSLoader.js
//*******************
Aria.classDefinition({$classpath:"aria.utils.CSSLoader",$singleton:!0,$dependencies:["aria.utils.IdManager","aria.utils.Type","aria.utils.Object","aria.core.DownloadMgr"],$statics:{TAG_PREFIX:"xCss",DEFAULT_MEDIA:"all"},$constructor:function(){this._store={},this._idManager=new aria.utils.IdManager(this.TAG_PREFIX)},$destructor:function(){this.removeAll(),this._store=null,this._idManager.$dispose()},$prototype:{add:function(t,e){e=e||this.DEFAULT_MEDIA,aria.utils.Type.isString(t)&&(t=[t]);for(var i,n,s=[],r=0,a=t.length;a>r;r++)if(i=t[r],n=this._getStoreId(i,e),this._store[n])this._store[n].count++,s.push(this._store[n].tag);else{var o=this._addLinkTag(i,e,this._idManager.getId());s.push(o),this._store[n]={count:1,tag:o}}return s},remove:function(t,e){e=e||this.DEFAULT_MEDIA,aria.utils.Type.isString(t)&&(t=[t]);for(var i,n,s=0,r=t.length;r>s;s++)i=t[s],n=this._getStoreId(i,e),this._remove(n)},_remove:function(t,e){var i,n=this._store[t];n&&(!e&&n.count>1?n.count--:(i=n.tag,i.parentNode.removeChild(i),i=null,delete this._store[t]))},removeAll:function(){for(var t=aria.utils.Object.keys(this._store),e=0,i=t.length;i>e;e++)this._remove(t[e],!0)},_addLinkTag:function(t,e,i){var n=Aria.$window.document,s=n.getElementsByTagName("head")[0],r=n.createElement("link");return r.id=i,r.type="text/css",r.media=e,r.rel="stylesheet",r.href=aria.core.DownloadMgr.resolveURL(t),s.appendChild(r),r=s.lastChild},_getStoreId:function(t,e){return[t,"_",e].join("")}}});
//*******************
//LOGICAL-PATH:aria/utils/Caret.js
//*******************
Aria.classDefinition({$classpath:"aria.utils.Caret",$singleton:!0,$prototype:{getPosition:function(t){var e={start:0,end:0};if("selectionStart"in t)e.start=t.selectionStart,e.end=t.selectionEnd;else{var i=Aria.$window.document;if(i.selection){var n=i.selection.createRange(),s=n.text.length;n.moveStart("character",-t.value.length);var r=n.text.length;e.start=r-s,e.end=r}}return e},setPosition:function(t,e,i){if("selectionStart"in t)t.selectionStart=e,t.selectionEnd=i;else{var n=Aria.$window.document;if(n.selection){var s=t.createTextRange();s.moveStart("character",e),s.moveEnd("character",-t.value.length+i),s.select()}}},select:function(t){var e=0,i=t.value.length?t.value.length:0;i&&this.setPosition(t,e,i)}}});
//*******************
//LOGICAL-PATH:aria/utils/ClassList.js
//*******************
Aria.classDefinition({$classpath:"aria.utils.ClassList",$constructor:function(t){this.setClassName=function(e){t.className=e},this.getClassName=function(){return t.className},this._dispose=function(){t=null,this._dispose=null}},$destructor:function(){this._dispose&&this._dispose()},$prototype:{add:function(t){this._replace(!1,t)},remove:function(t){this._replace(t,!1)},toggle:function(t){this.contains(t)?this.remove(t):this.add(t)},contains:function(t){for(var e=this.getClassName().split(" "),i=0,n=e.length;n>i;i++)if(e[i]==t)return!0;return!1},_replace:function(t,e){var i=[],n=[];t&&(i="string"==typeof t?t.split(" "):t),e&&(n="string"==typeof e?e.split(" "):e);for(var s=this.getClassName(),r=!1,a=s?s.split(" "):[],o=a.length-1;o>=0;o-=1)if(a[o]){for(var l=n.length-1;l>=0;l-=1)a[o]==n[l]&&a.splice(o,1);for(var c=i.length-1;c>=0;c-=1)a[o]==i[c]&&(a.splice(o,1),r=!0)}else a.splice(o,1);(r||0!==n.length)&&(a.push.apply(a,n),this.setClassName(a.join(" ")))},setClassName:function(){},getClassName:function(){}}});
//*******************
//LOGICAL-PATH:aria/utils/Delegate.js
//*******************
Aria.classDefinition({$classpath:"aria.utils.Delegate",$dependencies:["aria.utils.Event","aria.DomEvent","aria.utils.IdManager","aria.utils.Callback","aria.utils.Array","aria.core.Browser","aria.utils.AriaWindow"],$singleton:!0,$events:{elementFocused:"",elementBlurred:""},$constructor:function(){this.depth=-1,this.checkCSSPrefix=function(){if(Aria.$window&&Aria.$window.document)for(var e=Aria.$window.document.createElement("div"),t=["ms","O","Webkit","Moz",""],i=0;t.length>i;i+=1){var a=t[i];if(void 0!==e.style[a+"Transition"])return a}return null},this.delegatedOnBody=["click","focus","blur","focusin","focusout","mousedown","mouseup","mousemove","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove","mousewheel"],this.vendorPrefix=this.checkCSSPrefix(),null!==this.vendorPrefix&&this.delegatedOnBody.push("transitionend","animationstart","animationiteration","animationend"),"O"===this.vendorPrefix&&this.delegatedOnBody.push("oanimationstart","oanimationiteration","oanimationend","otransitionEnd"),"ms"===this.vendorPrefix&&this.delegatedOnBody.push("MSAnimationStart","MSAnimationIteration","MSAnimationEnd","MSTransitionEnd"),"Webkit"===this.vendorPrefix&&this.delegatedOnBody.push("webkitAnimationIteration","webkitAnimationEnd","webkitAnimationStart","webkitTransitionEnd"),this.delegatedOnWindow=["keydown","keyup","keypress"],this.delegatedGestures={tap:"aria.touch.Tap",tapstart:"aria.touch.Tap",tapcancel:"aria.touch.Tap",singletap:"aria.touch.SingleTap",singletapstart:"aria.touch.SingleTap",singletapcancel:"aria.touch.SingleTap",doubletap:"aria.touch.DoubleTap",doubletapstart:"aria.touch.DoubleTap",doubletapcancel:"aria.touch.DoubleTap",longpress:"aria.touch.LongPress",longpressstart:"aria.touch.LongPress",longpresscancel:"aria.touch.LongPress",dragstart:"aria.touch.Drag",dragmove:"aria.touch.Drag",drag:"aria.touch.Drag",dragcancel:"aria.touch.Drag",swipe:"aria.touch.Swipe",swipestart:"aria.touch.Swipe",swipemove:"aria.touch.Swipe",swipecancel:"aria.touch.Swipe",pinch:"aria.touch.Pinch",pinchstart:"aria.touch.Pinch",pinchmove:"aria.touch.Pinch",pinchcancel:"aria.touch.Pinch"},this.rootListener=null,this.supportedEvents={dblclick:!0,mouseleave:!0,mouseenter:!0,copy:!0,change:!0,paste:!0,cut:!0,submit:!0,error:!0,mousewheel:!0,scroll:!0},aria.core.Browser.isIE||this.delegatedOnBody.push("change","paste","cut"),this._delegatedMap={};var e,t;for(e=0,t=this.delegatedOnBody.length;t>e;e++){var i=this.delegatedOnBody[e];this._delegatedMap[i]=!0}for(e=0,t=this.delegatedOnWindow.length;t>e;e++){var i=this.delegatedOnWindow[e];this._delegatedMap[i]=!0}for(var a in this.delegatedGestures)this.delegatedGestures.hasOwnProperty(a)&&(this._delegatedMap[a]=!0);for(var a in this._delegatedMap)this._delegatedMap.hasOwnProperty(a)&&(this.supportedEvents[a]=!0);this.delegateExpando="atdelegate",this.__delegateMapping=null,this.__idMgr=new aria.utils.IdManager("d"),this.__stackCache=null,this._changed=null,this._focusTracking=null,aria.utils.AriaWindow.$on({unloadWindow:this.reset,scope:this})},$destructor:function(){this.reset(),this.__idMgr.$dispose(),this.__idMgr=null,aria.utils.AriaWindow.$unregisterListeners(this)},$statics:{DELEGATE_UTIL_CALLBACK_FAIL:"Error caught in callback for event %1"},$prototype:{reset:function(){this.cleanCache();var e=this.__delegateMapping;if(e){for(var t in e)e.hasOwnProperty(t)&&this.remove(t);var i,a,n=Aria.$window.document.body,s=aria.utils.Event;for(i=0,a=this.delegatedOnBody.length;a>i;i++)s.removeListener(n,this.delegatedOnBody[i],{fn:this.delegate});for(i=0,a=this.delegatedOnWindow.length;a>i;i++)s.removeListener(this.rootListener,this.delegatedOnWindow[i],{fn:this.delegate});this.__delegateMapping=null,this.rootListener=null,this._focusTracking=null,aria.utils.AriaWindow.detachWindow()}},isDelegated:function(e){return this._delegatedMap[e]},add:function(e){if(this.cleanCache(),!this.__delegateMapping){aria.utils.AriaWindow.attachWindow();var t=Aria.$window.document.body;this.rootListener=aria.core.Browser.isIE?t:Aria.$window,this.__delegateMapping={};var i,a,n=aria.utils.Event;for(i=0,a=this.delegatedOnBody.length;a>i;i++)n.addListener(t,this.delegatedOnBody[i],{fn:this.delegate,scope:this});for(i=0,a=this.delegatedOnWindow.length;a>i;i++)n.addListener(this.rootListener,this.delegatedOnWindow[i],{fn:this.delegate,scope:this})}for(var s=this.__idMgr.getId();this._changed&&this._changed[s];)this._changed[s]=!1,s=this.__idMgr.getId();return this.__delegateMapping[s]=new aria.utils.Callback(e),s},getMarkup:function(e){return this.delegateExpando+"='"+e+"'"},addExpando:function(e,t){e.setAttribute(this.delegateExpando,t)},getFallbackMarkup:function(e,t,i){return this.getFallbackMarkup=aria.core.Browser.isIE?function(e,t,i){return i=i?"true":"false"," on"+e+"=\"aria.utils.Delegate.directCall(event, '"+t+"', "+i+', this)"'}:function(e,t,i){var a="directCall";return i=i?"true":"false",("mouseleave"==e||"mouseenter"==e)&&(e="mouseleave"==e?"mouseout":"mouseover",a="mouseMovement")," on"+e+'="aria.utils.Delegate.'+a+"(event, '"+t+"', "+i+', this)"'},this.getFallbackMarkup(e,t,i)},__wrapEvent:function(e,t){return e.$DomEvent?e:t?new aria.templates.DomEventWrapper(e):new aria.DomEvent(e)},directCall:function(e,t,i){this.$assert(286,this.__delegateMapping);var a,n=this.__wrapEvent(e,i),s=this.__delegateMapping[t];return s&&(a=s.call(n)),n.$dispose(),a},mouseMovement:function(e,t,i,a){if(aria.utils.Dom.isAncestor(e.relatedTarget,a)===!1){var n=this.__wrapEvent(e,i);return n.type="mouseover"==e.type?"mouseenter":"mouseleave",n.setTarget(a),this.directCall(n,t,i,a)}},remove:function(e){this.cleanCache(),this._changed&&(this._changed[e]=!0),this.__delegateMapping&&(this.__delegateMapping[e].$dispose(),delete this.__delegateMapping[e],this.__idMgr.releaseId(e))},delegate:function(e){if(!this.__delegateMapping)return e.$DomEvent&&e.$dispose(),void 0;this.__stackCache||(this.__stackCache={});var t,i,a,n=this.depth,s=[],r=Aria.$window.document.body;e=this.__wrapEvent(e),a=e.target;for(var o=!1;n&&a&&a!=r;){if(a.attributes&&(i=a.attributes[this.delegateExpando])){if(o=!0,i=i.nodeValue,t=this.__stackCache[i]){s=s.concat(t);break}s.push({expandoValue:i,target:a})}a=a.parentNode,n--}var l,h,d=!1;this._changed?d=!0:this._changed={};for(var c=0,u=s.length;u>c;c++)if(h=s[c],i=h.expandoValue,a=h.target,0===c&&(this.__stackCache[i]=s),!this._changed[i]){l=this.__delegateMapping[i],e.delegateTarget=a;var _;if(l)try{_=l.call(e)}catch(p){this.$logError(this.DELEGATE_UTIL_CALLBACK_FAIL,[e.type],{event:e})}if(_===!1||e.hasStopPropagation)break;a=null}if(d||(this._changed=null),_!==!1&&!e.hasStopPropagation&&aria.templates){var g=aria.templates.NavigationManager;g&&g.handleGlobalNavigation(e)}"focus"==e.type?(this._focusTracking=e.target,this._focusTracking&&o&&this.$raiseEvent({name:"elementFocused",focusedElement:this._focusTracking})):"blur"==e.type&&(o&&this.$raiseEvent({name:"elementBlurred",blurredElement:this._focusTracking}),this._focusTracking=null),e.$dispose()},cleanCache:function(){if(this.__stackCache){for(var e in this.__stackCache)if(this.__stackCache.hasOwnProperty(e)){for(var t=this.__stackCache[e],i=0,a=t.length;a>i;i++)t.target=null,t.expandoValue=null,delete t.target,delete t.expandoValue;delete this.__stackCache[i]}this.__stackCache=null}},getFocus:function(){return this._focusTracking}}});
//*******************
//LOGICAL-PATH:aria/utils/Device.js
//*******************
Aria.classDefinition({$classpath:"aria.utils.Device",$dependencies:["aria.core.Browser"],$singleton:!0,$constructor:function(){var e=Aria.$global.navigator;this.ua=e?e.userAgent.toLowerCase():"",this._styleCache={}},$prototype:{isDevice:function(){var e=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(this.ua)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(this.ua.substr(0,4))||this.isTablet();return this.isDevice=e===!0?Aria.returnTrue:Aria.returnFalse,this.isDevice()},isMobile:function(){return this.isMobile=this.isDevice()===!0&&this.isTablet()===!1?Aria.returnTrue:Aria.returnFalse,this.isMobile()},isDesktop:function(){return this.isDesktop=this.isDevice()===!1?Aria.returnTrue:Aria.returnFalse,this.isDesktop()},isTablet:function(){var e=/(iPad|SCH-I800|android 4.0|GT-P1000|GT-P1000R|GT-P1000M|SGH-T849|SHW-M180S|android 3.0|xoom|NOOK|playbook|tablet|silk|kindle|GT-P7510)/i.test(this.ua);return this.isTablet=e?Aria.returnTrue:Aria.returnFalse,this.isTablet()},isTouch:function(){var e=aria.core.Browser.isBlackBerry,t=this._getBlackBerryVersion();".9670.9100.9105.9360.9350.9330.9320.9310.9300.9220.9780.9700.9650.".indexOf("."+t+".")&&(e=!1);var i=Aria.$window;return this.isTouch="ontouchstart"in i||i.DocumentTouch&&i.document instanceof i.DocumentTouch||e?Aria.returnTrue:Aria.returnFalse,this.isTouch()},_getBlackBerryVersion:function(){var e=this.ua.match(/BlackBerry[\/\s]*(\d+).+/i);return e?e[1]:void 0},is2DTransformCapable:function(){return this.is2DTransformCapable=this._isStyleSupported("transform")?Aria.returnTrue:Aria.returnFalse,this.is2DTransformCapable()},is3DTransformCapable:function(){return this.is3DTransformCapable=this._isStyleSupported("perspective")?Aria.returnTrue:Aria.returnFalse,this.is3DTransformCapable()},_isStyleSupported:function(e){if(e in this._styleCache)return this._styleCache[e];var t=["Moz","Webkit","Khtml","O","Ms"],i=Aria.$window.document.documentElement,a=i.style;if("string"==typeof a[e])return this._styleCache[e]=!0,!0;for(var n=e.charAt(0).toUpperCase()+e.slice(1),s=0,r=t.length;r>s;s++){var o=t[s]+n;if("string"==typeof a[o])return this._styleCache[e]=!0,!0}return this._styleCache[e]=!1,!1},isPhoneGap:function(){var e=Aria.$window;return this.isPhonegap=e.cordova&&e.device||e.device&&e.device.phonegap?Aria.returnTrue:Aria.returnFalse,this.isPhonegap()},isPortrait:function(){if("9670"===this._getBlackBerryVersion())return!1;var e=Aria.$window.orientation;return e&&0!==e&&180!==e?!1:!0},isClickNavigation:function(){return this.isClickNavigation=aria.core.Browser.isBlackBerry?Aria.returnTrue:Aria.returnFalse,this.isClickNavigation()}}});
//*******************
//LOGICAL-PATH:aria/utils/String.js
//*******************
Aria.classDefinition({$classpath:"aria.utils.String",$singleton:!0,$dependencies:["aria.utils.Type"],$prototype:{substitute:function(e,t){return aria.utils.Type.isArray(t)||(t=[t]),e=e.replace(/%[0-9]+/g,function(e){var i=t[parseInt(e.substring(1),10)-1];return i!==void 0?i:e})},trim:String.trim?String.trim:function(e){return e.replace(/^\s+|\s+$/g,"")},isEscaped:function(e,t){for(var i=!1,a=t-1;a>=0;a--){if("\\"!=e.charAt(a))return i;i=!i}return i},indexOfNotEscaped:function(e,t,i){for(var a=e.indexOf(t,i);-1!=a;){if(!this.isEscaped(e,a))return a;a=e.indexOf(t,a+1)}return-1},escapeHTML:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},escapeHTMLAttr:function(e){return e.replace(/'/g,"&#x27;").replace(/"/g,"&quot;")},escapeForHTML:function(e,t){var i=!1,a=!1;return aria.utils.Type.isObject(t)?(i=t.text===!0,a=t.attr===!0):(!aria.utils.Type.isBoolean(t)||t)&&(i=!0,a=!0),i&&(e=this.escapeHTML(e).replace(/\//g,"&#x2F;")),a&&(e=this.escapeHTMLAttr(e)),e},stripAccents:function(e){var t=e;return t=t.replace(/[\u00E0\u00E2\u00E4]/gi,"a"),t=t.replace(/[\u00E9\u00E8\u00EA\u00EB]/gi,"e"),t=t.replace(/[\u00EE\u00EF]/gi,"i"),t=t.replace(/[\u00F4\u00F6]/gi,"o"),t=t.replace(/[\u00F9\u00FB\u00FC]/gi,"u")},nextWhiteSpace:function(e,t,i,a){for(var n,r=t,s=a||/\s/;i>r;){if(n=e.charAt(r),s.test(n))return r;r++}return-1},stringify:function(e){return'"'+e.replace(/([\\\"])/g,"\\$1").replace(/(\r)?\n/g,"\\n")+'"'},endsWith:function(e,t){return-1!==e.indexOf(t,e.length-t.length)},encodeForQuotedHTMLAttribute:function(e){return e?e.replace(/"/g,"&quot;"):""},capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},pad:function(e,t,i,a){e=""+e;var n=e.length;if(t>n){for(var r=[],s=t-n;s>0;s-=1)r.push(i);a===!0?e=r.join("")+e:e+=r.join("")}return e},crop:function(e,t,i,a){var n,r;if(a===!0){for(n=0,r=e.length-t;r>n&&e.charAt(n)===i;n+=1);return e.substring(n)}for(n=e.length-1;n>=t&&e.charAt(n)===i;n-=1);return e.substring(0,n+1)},chunk:function(e,t,i){return aria.utils.Type.isString(e)?e?aria.utils.Type.isArray(t)?this._chunkArray(e,t,i):this._chunkNumber(e,t,i):[e]:null},_chunkNumber:function(e,t,i){var a,n=[],r=e.length;if(1>t||t>=r)return[e];if(1===t)return e.split("");if(i===!0){for(a=0;r>a;)n.push(e.substr(a,t)),a+=t;return n}for(a=r;a>0;)n.push(e.substring(Math.max(0,a-t),a)),a-=t;return n.reverse()},_chunkArray:function(e,t,i){var a,n,r,s=[],o=e.length;if(i===!0){for(a=0,n=0,r=t.length;r>n&&(s.push(e.substr(a,t[n])),a+=t[n],!(a>=o));n+=1);return o>a&&s.push(e.substring(a)),s}for(a=o,n=0,r=t.length;r>n&&(s.push(e.substring(Math.max(0,a-t[n]),a)),a-=t[n],!(0>=a));n+=1);return a>0&&s.push(e.substring(0,a)),s.reverse()},camelToDashed:function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).replace(/^-/,"")},dashedToCamel:function(e){return e.replace(/-([a-z])/gi,function(e,t){return t.toUpperCase()})}}});
//*******************
//LOGICAL-PATH:aria/utils/css/PropertiesConfig.js
//*******************
(function(){var t=1,e=2,i=3;Aria.classDefinition({$classpath:"aria.utils.css.PropertiesConfig",$singleton:!0,$statics:{UNITS:["em","%","px","ex","cm","mm","in","pt","pc"],HORIZONTAL:t,VERTICAL:e,COMPOSITE:i,PROPERTIES:{backgroundPositionX:{orientation:t},backgroundPositionY:{orientation:e},borderWidth:{orientation:i,subProperties:["borderLeftWidth","borderRightWidth","borderBottomWidth","borderTopWidth"],percentNotAdmitted:!0},borderBottomWidth:{orientation:e,percentNotAdmitted:!0},borderLeftWidth:{orientation:t,percentNotAdmitted:!0},borderRightWidth:{orientation:t,percentNotAdmitted:!0},borderTopWidth:{orientation:e,percentNotAdmitted:!0},borderSpacing:{orientation:i,percentNotAdmitted:!0},margin:{orientation:i,subProperties:["marginLeft","marginRight","marginBottom","marginTop"]},marginBottom:{orientation:t},marginLeft:{orientation:t},marginRight:{orientation:t},marginTop:{orientation:t},opacity:{percentNotAdmitted:!0},outlineWidth:{orientation:i,percentNotAdmitted:!0},padding:{orientation:i,hProperties:["paddingLeft","paddingRight","paddingBottom","paddingTop"]},paddingBottom:{orientation:t},paddingLeft:{orientation:t},paddingRight:{orientation:t},paddingTop:{orientation:t},height:{orientation:e},width:{orientation:t},maxHeight:{orientation:e},maxWidth:{orientation:t},minHeight:{orientation:e},minWidth:{orientation:t},fontSize:{orientation:e,percentOfFontSize:!0},bottom:{orientation:e},left:{orientation:t},right:{orientation:t},top:{orientation:e},letterSpacing:{orientation:t,percentNotAdmitted:!0},wordSpacing:{orientation:t,percentNotAdmitted:!0},lineHeight:{orientation:e,percentOfFontSize:!0},textIndent:{orientation:t},scrollTop:{orientation:e,notStyleProperty:!0},scrollLeft:{orientation:t,notStyleProperty:!0}}},$prototype:{}})})();
//*******************
//LOGICAL-PATH:aria/utils/css/Units.js
//*******************
(function(){function t(t){return Math.round(100*t)/100}Aria.classDefinition({$classpath:"aria.utils.css.Units",$dependencies:["aria.utils.String","aria.core.Browser","aria.utils.css.PropertiesConfig"],$singleton:!0,$statics:{__convertFromPixels:{"%":function(e,i,n){return t(this.__px2Percentage(e,i,n))},em:function(e,i,n){return t(this.__px2Em(e,i,n))},ex:function(e,i,n){return t(2*this.__px2Em(e,i,n))},"in":function(e,i,n){return t(this.__px2Inches(e,n))},cm:function(e,i,n){return t(2.54*this.__px2Inches(e,n))},mm:function(e,i,n){return t(25.4*this.__px2Inches(e,n))},pt:function(e,i,n){return t(72*this.__px2Inches(e,n))},px:function(t){return t},pc:function(e,i,n){return t(6*this.__px2Inches(e,n))}},__convertToPixels:{"%":function(e,i,n){return t(this.__percentage2Px(e,i,n))},em:function(e,i,n){return t(this.__em2Px(e,i,n))},ex:function(e,i,n){return t(.5*this.__em2Px(e,i,n))},"in":function(e,i,n){return t(this.__inches2Px(e,n))},cm:function(e,i,n){return t(this.__inches2Px(e,n)/2.54)},mm:function(e,i,n){return t(this.__inches2Px(e,n)/25.4)},pt:function(e,i,n){return t(this.__inches2Px(e,n)/72)},px:function(t){return t},pc:function(e,i,n){return t(this.__inches2Px(e,n)/6)}},__getDpi:function(t){var e;switch(this.cfg.PROPERTIES[t].orientation){case this.cfg.HORIZONTAL:e=this.dpi.x;break;case this.cfg.VERTICAL:e=this.dpi.y;break;default:e=(this.dpi.x+this.dpi.y)/2}return e},__px2Inches:function(t,e){return t/this.__getDpi(e)},__inches2Px:function(t,e){return t*this.__getDpi(e)},__px2Em:function(t,e,i){var n="fontSize"==i?e.parentNode:e,r=this.__getFontSizeInPixels(n);return t/r},__em2Px:function(t,e,i){var n="fontSize"==i?e.parentNode:e,r=this.__getFontSizeInPixels(n);return t*r},__px2Percentage:function(t,e,i){var n,r=e.parentNode;return n=parseFloat(this.__getDomWidthOrHeight(r,this.cfg.PROPERTIES[i].orientation==this.cfg.HORIZONTAL?"width":"height")),100*(t/n)},__percentage2Px:function(t,e,i){var n,r=e.parentNode;return n=parseFloat(this.__getDomWidthOrHeight(r,this.cfg.PROPERTIES[i].orientation==this.cfg.HORIZONTAL?"width":"height")),100*t*n}},$constructor:function(){this.cfg=aria.utils.css.PropertiesConfig;var t=Aria.$window.document.createElement("div");t.style.cssText="height: 1in; left: -100%; position: absolute; top: -100%; width: 1in;",t.id="dpiDetectionTest",Aria.$window.document.body.appendChild(t),this.dpi={x:Aria.$window.document.getElementById("dpiDetectionTest").offsetWidth,y:Aria.$window.document.getElementById("dpiDetectionTest").offsetHeight},Aria.$window.document.body.removeChild(t);var e=aria.core.Browser;this.isIE8orLess=e.isIE8||e.isIE7||e.isIE6},$prototype:{convertToPixels:function(t,e,i){var n=this.getUnit(t,i),r=parseFloat(t,10);return this.__convertToPixels[n].call(this,r,e,i)},convertFromPixels:function(t,e,i,n){return this.__convertFromPixels[t].call(this,e,i,n)},__getBorderWidth:function(t,e){var i=t.currentStyle,n=aria.core.Browser.isIE7,r="border"+e+"Width",a="none"!=i["border"+e+"Style"];if(!a)return 0;var s=i[r];return"thin"==s?s=n?2:1:"medium"==s?s=n?4:3:"thick"==s&&(s=n?6:5),this.convertToPixels(s+"",t,r)},__getPadding:function(t,e){var i=t.currentStyle,n="padding"+e;return this.convertToPixels(i[n],t,n)},__getFontSizeInPixels:function(t){var e="fontSize",i=this.__getStyleSimplified(t,e),n=i.match("(.*)em$");return n?16*parseFloat(n[1]):this.convertToPixels(i,t,e)},__getDomWidthOrHeight:function(t,e){return this.isIE8orLess?this.getDomWidthOrHeightForOldIE(t,e):this.__getStyleSimplified(t,e)},getDomWidthOrHeightForOldIE:function(t,e){var i="Left",n="Right",r="Top",a="Bottom";if("width"==e){var s=this.__getPadding(t,i),o=this.__getPadding(t,n),c=this.__getBorderWidth(t,i),l=this.__getBorderWidth(t,n);return t.offsetWidth-s-o-c-l+"px"}if("height"==e){var u=this.__getPadding(t,r),h=this.__getPadding(t,a),d=this.__getBorderWidth(t,r),p=this.__getBorderWidth(t,a);return t.offsetHeight-u-h-d-p+"px"}},__getStyleSimplified:function(t,e){return this.isIE8orLess?t.currentStyle[e]||t.style[e]:Aria.$window.getComputedStyle(t,"")[e]||t.style[e]},getUnit:function(t,e){var i=RegExp("("+this.cfg.UNITS.join("|")+")$"),n=aria.utils.String.trim(""+t).toLowerCase().match(i);return"opacity"==e||"scrollTop"==e||"scrollLeft"==e?null:n?n[0]:"px"}}})})();
//*******************
//LOGICAL-PATH:aria/utils/Dom.js
//*******************
Aria.classDefinition({$classpath:"aria.utils.Dom",$dependencies:["aria.core.JsonValidator","aria.core.Browser","aria.utils.String","aria.utils.css.Units"],$singleton:!0,$statics:{VIEWPORT:"__$viewport",DIV_NOT_FOUND:"Missing div '%1' in DOM.",INSERT_ADJACENT_INVALID_POSITION:"Invalid position %1. Expected one of: beforeBegin, afterBegin, beforeEnd or afterEnd.",pxRegExp:/^[0-9]+px$/},$prototype:{getElementById:function(t){return this.getElementById=aria.core.Browser.isIE6||aria.core.Browser.isIE7?function(t){var e=Aria.$window.document,i=e.getElementById(t);if(i){if(i.getAttribute("id")==t)return i;for(var r in e.all)if(r.id==t)return r}return null}:function(t){var e=Aria.$window.document;return e.getElementById(t)},this.getElementById(t)},getNextSiblingElement:function(t,e){for(null==e&&(e=1);t&&e>0;)t=t.nextSibling,t&&1==t.nodeType&&e--;return t},getPreviousSiblingElement:function(t,e){for(null==e&&(e=1);t&&e>0;)t=t.previousSibling,t&&1==t.nodeType&&e--;return t},getDomElementChild:function(t,e,i){if(!t)return null;for(var r=t.childNodes,n=0,o=r.length,a=i?o-1:0;i?a>=0:o>a;i?a--:a++)if(1==r[a].nodeType){if(n==e)return r[a];n++}return null},getDomElementsChildByTagName:function(t,e){return t?t.getElementsByTagName(e):null},getDomElementChildReverse:function(t,e){return this.getDomElementChild(t,e,!0)},refreshDomElt:function(t){this.refreshDomElt=aria.core.Browser.isIE7?function(t){try{var e=t.parentNode.style,i=t.style,r="foo:foo;";e.cssText+="",e.zoom=1,i.cssText+=r,i.cssText=i.cssText.replace(r,""),i.zoom=1}catch(n){}}:aria.core.Browser.isIE8?function(){for(var t=0,e=Aria.rootTemplates.length;e>t;t++){var i=Aria.rootTemplates[t];if(i._cfg&&i._cfg.tplDiv){var r=i._cfg.tplDiv;r.className=r.className,r=null}}}:function(){},this.refreshDomElt(t)},replaceHTML:function(t,e){var i=t;if("string"==typeof i&&(i=this.getElementById(i)),!i)return this.$logError(this.DIV_NOT_FOUND,[t]),null;try{i.innerHTML="",i.innerHTML=e}catch(r){var n=this._createTableElement(i.tagName,e,i.ownerDocument);if(!n)throw r;this.replaceDomElement(i,n),this.copyAttributes(i,n),i=n}return aria.utils&&aria.utils.Delegate&&aria.utils.Delegate.delegate(aria.DomEvent.getFakeEvent("contentchange",i)),i},_createTableElement:function(t,e,i){t=t.toUpperCase();var r,n=i.createElement("DIV");return"TBODY"==t||"THEAD"==t||"TFOOT"==t?(n.innerHTML=["<TABLE><",t,">",e,"</",t,"></TABLE>"].join(""),r=n.children[0].children[0]):"TR"==t?(n.innerHTML=["<TABLE><TBODY><",t,">",e,"</",t,"></TBODY></TABLE>"].join(""),r=n.children[0].children[0].children[0]):(n.innerHTML=["<",t,">",e,"</",t,">"].join(""),r=n.children[0]),this.$assert(194,!r||r.tagName.toUpperCase()==t),r},replaceDomElement:function(t,e){var i=t.parentNode;i.insertBefore(e,t),i.removeChild(t)},insertAdjacentHTML:function(t,e,i){this.insertAdjacentHTML=Aria.$window.document.body.insertAdjacentHTML?function(t,e,i){try{t.insertAdjacentHTML(e,i)}catch(r){var n,o;if("afterBegin"==e||"beforeEnd"==e)n=t;else{if("beforeBegin"!=e&&"afterEnd"!=e)return this.$logError(this.INSERT_ADJACENT_INVALID_POSITION,[e]),void 0;n=t.parentNode}if(o=this._createTableElement(n.tagName,i,t.ownerDocument),!o)throw r;var a=o.lastChild;if(a){this.insertAdjacentElement(t,e,a);for(var s=o.lastChild;s;)n.insertBefore(s,a),a=s,s=o.lastChild}}}:function(t,e,i){var r=t.ownerDocument,n=r.createRange();"beforeBegin"==e||"afterEnd"==e?n.selectNode(t):n.selectNodeContents(t);var o=n.createContextualFragment(i);this.insertAdjacentElement(t,e,o),n.detach()},this.insertAdjacentHTML(t,e,i)},insertAdjacentElement:function(t,e,i){this.insertAdjacentElement=Aria.$window.document.body.insertAdjacentElement?function(t,e,i){t.insertAdjacentElement(e,i)}:function(t,e,i){"beforeBegin"==e?t.parentNode.insertBefore(i,t):"afterBegin"==e?t.insertBefore(i,t.firstChild):"beforeEnd"==e?t.appendChild(i):"afterEnd"==e?t.parentNode.insertBefore(i,t.nextSibling):this.$logError(this.INSERT_ADJACENT_INVALID_POSITION,[e])},this.insertAdjacentElement(t,e,i)},copyAttributes:function(t,e){this.copyAttributes=Aria.$window.document.body.mergeAttributes?function(t,e){e.mergeAttributes(t,!1)}:function(t,e){for(var i=t.attributes,r=0,n=i.length;n>r;r++){var o=i[r];e.setAttribute(o.name,o.value)}},this.copyAttributes(t,e)},_getViewportSize:function(){var t=Aria.$window.document,e=t.documentElement,i={width:e.clientWidth,height:e.clientHeight};return i},getViewportSize:function(){return this._getViewportSize()},_getDocumentScroll:function(t){var e=t&&t.ownerDocument?t.ownerDocument:Aria.$window.document,i=0,r=0,n=this.getDocumentScrollElement(e);if(null!=t){for(var o=t;null!=o;)o.scrollLeft&&(i+=o.scrollLeft),o.scrollTop&&(r+=o.scrollTop),o=o.parentNode;i-=n.scrollLeft,r-=n.scrollTop}else i=n.scrollLeft,r=n.scrollTop;n!=e.body&&(i+=e.body.scrollLeft,r+=e.body.scrollTop);var a={scrollLeft:i,scrollTop:r};return a},getFullPageSize:function(){var t=this.getDocumentScrollElement(),e={width:t.scrollWidth,height:t.scrollHeight},i=this._getViewportSize();return{width:Math.max(e.width,i.width),height:Math.max(e.height,i.height)}},calculatePosition:function(t,e){if(t){var i,r=t.ownerDocument,n=aria.core.Browser,o=0,a=0,s=0,l=0,c=!0,h=0,u=t;if(u.getBoundingClientRect&&!e){var d=n.isIE6||n.isIE7?2:0;try{var p=u.getBoundingClientRect();c=!1,o=p.left-d,a=p.top-d}catch(f){o=0,a=0}}else for(;u&&u.parentNode&&(i=aria.utils.Dom.getStyle(u,"position"),!(e&&h>0&&"absolute"==i));)o+=u.offsetLeft,a+=u.offsetTop,u=u.offsetParent,h++;for(h=0,u=t;u&&u.parentNode&&u.parentNode!=r.body&&u.parentNode.tagName&&(n.isOpera||"HTML"==u.nodeName?n.isOpera&&(0!==u.scrollTop&&u.scrollTop!=u.offsetTop?(c&&(a-=u.scrollTop),s=u.scrollTop):0!==u.scrollLeft&&u.scrollLeft!=u.offsetLeft&&(l=u.scrollLeft,c&&(o-=u.scrollLeft))):0!==u.scrollTop&&u.scrollTop?(s=u.scrollTop,c&&(a-=u.scrollTop)):0!==u.scrollLeft&&u.scrollLeft&&(l=u.scrollLeft,c&&(o-=u.scrollLeft)),i=aria.utils.Dom.getStyle(u,"position"),!(h>0&&"absolute"==i));)h++,u=u.parentNode;var g={top:Math.round(a),left:Math.round(o),scrollTop:s,scrollLeft:l};return g}},getClientGeometry:function(t){var e=this.calculatePosition(t);return{x:e.left+t.clientLeft,y:e.top+t.clientTop,width:t.clientWidth,height:t.clientHeight}},getOffset:function(t){var e=t.currentStyle||t.style,i="absolute"==e.position,r=this.pxRegExp,n=t.offsetTop,o=t.offsetLeft,a={top:i&&r.test(e.top)?parseInt(e.top,10):n,left:i&&r.test(e.left)?parseInt(e.left,10):o};return isNaN(a.top)&&(a.top=n),isNaN(a.left)&&(a.left=o),a},getGeometry:function(t){if(!t)return null;var e,i,r=t.ownerDocument,n=aria.core.Browser,o=this.calculatePosition(t);if(t===r.body){var a=this.getFullPageSize();return{x:0,y:0,width:a.width,height:a.height}}if(n.isChrome||n.isSafari){var s=t.getBoundingClientRect();e=Math.round(s.width),i=Math.round(s.height)}else e=t.offsetWidth,i=t.offsetHeight;for(var l={x:o.left,y:o.top,width:e,height:i},c=t.parentNode,h=r.documentElement,u=r.body;c&&c!=h&&c!=u;){var d,p=this.getClientGeometry(c),f=this.getStyle(c,"overflowX"),g=this.getStyle(c,"overflowY");if("auto"==f||"scroll"==f){if(d=p.x-l.x,d>0&&(l.x+=d,l.width-=d,0>l.width))return null;if(d=l.x+l.width-p.x-p.width,d>0&&(l.width-=d,0>l.width))return null}if("auto"==g||"scroll"==g){if(d=p.y-l.y,d>0&&(l.y+=d,l.height-=d,0>l.height))return null;if(d=l.y+l.height-p.y-p.height,d>0&&(l.height-=d,0>l.height))return null}c=c.parentNode}return l},getStyle:function(t,e){var i=aria.core.Browser,r=i.isIE8||i.isIE7||i.isIE6;return this.getStyle=r?function(t,e){if("opacity"==e){var i=100;try{i=t.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(r){try{i=t.filters("alpha").opacity}catch(n){}}return(i/100).toString(10)}if("width"==e||"height"==e)return aria.utils.css.Units.getDomWidthOrHeightForOldIE(t,e);"float"==e&&(e="styleFloat");var o;if(t.currentStyle&&(o=t.currentStyle[e],!o)){var a=aria.utils.String.dashedToCamel(e);o=t.currentStyle[a]}return o||t.style[e]}:function(t,e){var i=Aria.$window,r=null;"float"==e&&(e="cssFloat");var n=i.getComputedStyle(t,"");return n&&(r=n[e]),r||t.style[e]},this.getStyle(t,e)},centerInViewport:function(t,e){var i=this._getViewportSize(),r=this._getDocumentScroll(e);return{left:parseInt(r.scrollLeft+(i.width-t.width)/2,10),top:parseInt(r.scrollTop+(i.height-t.height)/2,10)}},isInViewport:function(t,e,i){var r=this._getViewportSize(),n=this._getDocumentScroll(i);return t.top<n.scrollTop||t.left<n.scrollLeft||t.top+e.height>n.scrollTop+r.height||t.left+e.width>n.scrollLeft+r.width?!1:!0},isInside:function(t,e){return t.width=t.width||0,t.height=t.height||0,e==this.VIEWPORT?this.isInViewport({left:t.x,top:t.y},{width:t.width,height:t.height}):(e.width=e.width||0,e.height=e.height||0,t.x<e.x||t.y<e.y||t.x+t.width>e.x+e.width||t.y+t.height>e.y+e.height?!1:!0)},fitInViewport:function(t,e,i){var r=this._getViewportSize(),n=this._getDocumentScroll(i),o=n.scrollTop,a=Math.max(0,n.scrollTop+r.height-e.height),s=aria.utils.Math.normalize(t.top,o,a),l=n.scrollLeft,c=Math.max(0,n.scrollLeft+r.width-e.width),h=aria.utils.Math.normalize(t.left,l,c);return{top:s,left:h}},fitInside:function(t,e){if(t.width=t.width||0,t.height=t.height||0,e==this.VIEWPORT)return this.fitInViewport({left:t.x,top:t.y},{width:t.width,height:t.height});e.width=e.width||0,e.height=e.height||0;var i=t.x<e.x?e.x:t.x,r=t.y<e.y?e.y:t.y;return t.x+t.width>e.x+e.width&&(i=e.x+e.width-t.width),t.y+t.height>e.y+e.height&&(r=e.y+e.height-t.height),{top:r,left:i}},isAncestor:function(t,e){if(!t||!t.ownerDocument)return!1;for(var i=t.ownerDocument,r=i.body,n=t;n&&n!=r;){if(n==e)return!0;n=n.parentNode}return n==e},isInDom:function(t){return t?this.isAncestor(t,t.ownerDocument.body):!1},removeElement:function(t){t.parentNode&&t.parentNode.removeChild(t)},scrollIntoView:function(t,e){for(var i=t.ownerDocument,r=t,n=r.getBoundingClientRect(),o=!1,a=this.getDocumentScrollElement(i);t;)if(t=t==i.body?a:t.parentNode){var s=t.clientHeight?t.scrollHeight>t.clientHeight:!1;if(!s){t==a&&(t=null);continue}var l;l=t==a?{left:0,top:0}:t.getBoundingClientRect();var c=n.left-(l.left+(0|parseInt(t.style.borderLeftWidth,10))),h=n.right-(l.left+t.clientWidth+(0|parseInt(t.style.borderLeftWidth,10))),u=n.top-(l.top+(0|parseInt(t.style.borderTopWidth,10))),d=n.bottom-(l.top+t.clientHeight+(0|parseInt(t.style.borderTopWidth,10)));if(0>c?t.scrollLeft+=c:h>0&&(t.scrollLeft+=h),e!==!0||o?e!==!1||o?0>u?t.scrollTop+=u:d>0&&(t.scrollTop+=d):t.scrollTop+=d:t.scrollTop+=u,t==a)t=null;else{var p=r.getBoundingClientRect();p.top!=n.top&&(o=!0),n=p}}},getDocumentScrollElement:function(t){return null==t&&(t=Aria.$window.document),aria.core.Browser.isSafari||aria.core.Browser.isChrome||"CSS1Compat"!=t.compatMode?t.body:t.documentElement},setOpacity:function(t,e){var i=aria.core.Browser,r=i.isIE8||i.isIE7||i.isIE6;this.setOpacity=r?this._setOpacityLegacyIE:this._setOpacityW3C,this.setOpacity(t,e)},_setOpacityLegacyIE:function(t,e){t.style.cssText+=";filter:alpha(opacity="+100*e+");"},_setOpacityW3C:function(t,e){t.style.opacity=e},_refreshScrollbarsFix:function(t){for(var e=[],i=t;i&&i.style;)e.push(i.style.cssText),i.style.overflow="hidden",i=i.parentNode;for(t.getBoundingClientRect(),i=t;i&&i.style;)i.style.cssText=e.shift(),i=i.parentNode},_checkRefreshScrollbarsNeeded:function(){if(!aria.core.Browser.isWebkit)return!1;var t=Aria.$window.document,e=t.createElement("div");e.style.cssText="overflow:auto;width:100px;height:100px;left:-1000px;top:-1000px;",e.innerHTML='<div style="width:150px;height:100px;"></div>',t.body.appendChild(e);var i=e.scrollWidth>e.clientWidth;e.firstChild.style.width="100px";var r=e.scrollWidth>e.clientWidth;return t.body.removeChild(e),i&&r},refreshScrollbars:function(t){this.refreshScrollbars=this._checkRefreshScrollbarsNeeded()?this._refreshScrollbarsFix:Aria.empty,this.refreshScrollbars(t)}}});
//*******************
//LOGICAL-PATH:aria/utils/DomBeans.js
//*******************
Aria.beanDefinitions({$package:"aria.utils.DomBeans",$namespaces:{json:"aria.core.JsonTypes"},$beans:{Size:{$type:"json:Object",$properties:{width:{$type:"json:Float",$default:0},height:{$type:"json:Float",$default:0}}},Position:{$type:"json:Object",$properties:{top:{$type:"json:Float",$default:0},left:{$type:"json:Float",$default:0},scrollTop:{$type:"json:Float",$default:0},scrollLeft:{$type:"json:Float",$default:0}}},Geometry:{$type:"json:Object",$properties:{y:{$type:"json:Float",$default:0},x:{$type:"json:Float",$default:0},width:{$type:"json:Float",$default:0},height:{$type:"json:Float",$default:0}}}}});
//*******************
//LOGICAL-PATH:aria/utils/overlay/Overlay.js
//*******************
Aria.classDefinition({$classpath:"aria.utils.overlay.Overlay",$dependencies:["aria.utils.Dom"],$constructor:function(t,e){var i=this._createOverlay(e);this.overlay=i,this.element=t,this._appendToDOM(i),this._setInPosition(t,i),this._computeZIndex(t,i)},$destructor:function(){this.overlay.parentNode.removeChild(this.overlay),this.overlay=null,this.element=null},$prototype:{_createOverlay:function(t){var e=Aria.$window.document,i=e.createElement(t.type||"div");return t.id&&(i.id="xOverlay"+t.id),i.className=t.className||"xOverlay",i.style.position=t.position||"fixed",i},_appendToDOM:function(t){var e=Aria.$window.document;e.body.appendChild(t)},_setInPosition:function(t,e){for(var i,n=aria.utils.Dom,r=e.style,o=["Top","Right","Bottom","Left"],a={},s=0,l=o.length;l>s;s++)i=n.getStyle(e,"border"+o[s]+"Width").split("px")[0],a[o[s].toLowerCase()]=i?+i:0;var c=aria.utils.Dom.getGeometry(t);c&&(r.position="absolute",r.top=c.y+"px",r.left=c.x+"px",r.width=c.width-a.left-a.right+"px",r.height=c.height-a.top-a.bottom+"px",r.display="block")},_computeZIndex:function(t,e){for(var i=Aria.$window.document,n=2e4,r=i.body;t&&t!=r;){var o=t.style,a=o.zIndex;if(a){var s=parseInt(a,10);s>n&&(n=s+1)}t=t.parentNode}e.style.zIndex=""+n},refreshPosition:function(){this._setInPosition(this.element,this.overlay)},refresh:function(){this._setInPosition(this.element,this.overlay),this._computeZIndex(this.element,this.overlay)}}});
//*******************
//LOGICAL-PATH:aria/utils/overlay/LoadingOverlay.js
//*******************
Aria.classDefinition({$classpath:"aria.utils.overlay.LoadingOverlay",$extends:"aria.utils.overlay.Overlay",$constructor:function(t,e,i){this.__text=i,this.$Overlay.constructor.call(this,t,{id:e,className:"xLDI"})},$prototype:{_createOverlay:function(t){var e=this.$Overlay._createOverlay.call(this,t);return this.__text&&(e.innerHTML="<span class='xLDI-text'>"+this.__text+"</span>"),e},_appendToDOM:function(t){var e=Aria.$window.document;e.body.appendChild(t)},_setInPosition:function(t,e){var i=aria.utils.Dom.getGeometry(t),n=e.style;i?(n.top=i.y+"px",n.left=i.x+"px",n.width=i.width+"px",n.height=i.height+"px",n.display="block"):n.display="none"}}});
//*******************
//LOGICAL-PATH:aria/utils/DomOverlay.js
//*******************
Aria.classDefinition({$classpath:"aria.utils.DomOverlay",$dependencies:["aria.utils.overlay.LoadingOverlay","aria.utils.Type","aria.utils.Event","aria.utils.AriaWindow"],$singleton:!0,$statics:{UNIQUE_ID_GENERATOR:12},$constructor:function(){this.overlays=null,this._nbOverlays=0,this.bodyOverlay=null,aria.utils.AriaWindow.$on({unloadWindow:this._reset,scope:this})},$destructor:function(){this._reset(),aria.utils.AriaWindow.$unregisterListeners(this)},$prototype:{_init:function(){null==this.overlays&&(this.overlays={},aria.utils.AriaWindow.attachWindow(),aria.utils.Event.addListener(Aria.$window,"scroll",{fn:this.__onScroll,scope:this},!0))},_reset:function(){null!=this.overlays&&(aria.utils.Event.removeListener(Aria.$window,"scroll",{fn:this.__onScroll}),aria.utils.AriaWindow.detachWindow(),this.overlays=null,this._nbOverlays=0)},create:function(t,e){var i=this.__getOverlay(t);if(i)return i.overlay.refresh(),i.id;var r=++this.UNIQUE_ID_GENERATOR;return i=new aria.utils.overlay.LoadingOverlay(t,r,e),this._init(),t!==Aria.$window.document.body?(this.overlays[r]=i,this._nbOverlays++,t.__overlay=r):this.bodyOverlay=i,r},detachFrom:function(t){var e=this.__getOverlay(t);if(e){e.overlay.$dispose();var i=e.id;return t===Aria.$window.document.body?this.bodyOverlay=null:(delete this.overlays[i],this._nbOverlays--),e=null,0===this._nbOverlays&&null==this.bodyOverlay&&this._reset(),i}},__getOverlay:function(t){if(t===Aria.$window.document.body)return this.bodyOverlay?{overlay:this.bodyOverlay}:null;var e=t.__overlay;if(e&&null!=this.overlays){var i=this.overlays[e];return i?{overlay:i,id:e}:(t.__overlay=null,void 0)}},__onScroll:function(){this.$assert(184,null!=this.overlays);var t=this.overlays;for(var e in t)if(t.hasOwnProperty(e)){var i=t[e];i.refreshPosition()}},disposeOverlays:function(t){if(aria.utils.Type.isArray(t)&&null!=this.overlays){for(var e=0,i=t.length;i>e;e+=1){var r=this.overlays[t[e]];r&&(r.$dispose(),delete this.overlays[t[e]],this._nbOverlays--)}0===this._nbOverlays&&null==this.bodyOverlay&&this._reset()}}}});
//*******************
//LOGICAL-PATH:aria/utils/Function.js
//*******************
Aria.classDefinition({$classpath:"aria.utils.Function",$singleton:!0,$prototype:{bind:function(t,e){for(var i=[],r=2;arguments.length>r;r++)i.push(arguments[r]);return function(){for(var r=i.slice(0),n=0;arguments.length>n;n++)r.push(arguments[n]);return t.apply(e,r)}},wrapObjectFn:function(t,e,i,r){r||(r="");for(var n=0,o=i.length;o>n;n++){var a=i[n];e[r+a]=this.bind(t[a],t)}},bindCallback:function(t){return t=this.$normCallback(t),function(){t.fn.call(t.scope,arguments,t.args)}}}});
//*******************
//LOGICAL-PATH:aria/utils/HashManager.js
//*******************
Aria.classDefinition({$classpath:"aria.utils.HashManager",$singleton:!0,$dependencies:["aria.core.Browser","aria.utils.Type","aria.utils.Event","aria.utils.Object","aria.utils.AriaWindow"],$statics:{INVALID_SETHASH_ARGUMENT:"Invalid argument passed to aria.utils.HashManager.setHash method.",INVALID_SETSEPARATORS_ARGUMENTS:"Invalid argument passed to aria.utils.HashManager.setSeparators method.",INVALID_SEPARATOR:"Expression %1 cannot be used as separator.",INVALID_HASHPOLLING_TRIGGER:"Enabling hash polling is allowed only in IE7.",INVALID_HASHOBJECT_TYPE:"Invalid hash object: value corresponding to key %1 is not a string.",INVALID_HASHOBJECT_VALUE:"Invalid hash object: value '%1' corresponding to key '%2' of the hashObject contains one the non encodable separators '%3'",INVALID_HASHOBJECT_KEY:"Invalid hash object: key '%1' of the hashObject contains one the non encodable separators '%2'",IFRAME_ID:"at_hash_manager_iframe"},$constructor:function(){this._separators=[",","&"],this._separatorRegExp=this.__buildRegExpFromArray(this._separators),this._nonEncodableSeparators=this.__getNonEncodedSeparators(this._separators),this._nonEncodableSepRegExp=this.__buildRegExpFromArray(this._nonEncodableSeparators),this._hashChangeCallbacks=null,this._currentHashString=decodeURIComponent(this.getHashString()),this._isIE7OrLess=aria.core.Browser.isIE&&8>aria.core.Browser.majorVersion,this._enableIEpolling=this._isIE7OrLess,this._typeUtil=aria.utils.Type,this.ie7PollDelay=75,this._iframe=null,this._currentIframeHashString=null,this.polledIframeHashString=null,this._hashPollCallback=null,this._hashChangeCallbackAdded=!1,this._isIE7OrLess&&(this._createIframe(),this._hashPoll()),aria.utils.AriaWindow.$on({unloadWindow:this._removeHashChangeInternalCallback,scope:this})},$destructor:function(){this._removeHashChangeInternalCallback(),this._hashPollCallback&&(aria.core.Timer.cancelCallback(this._hashPollCallback),this._hashPollCallback=null),this._isIE7OrLess&&this._destroyIframe()},$prototype:{getHashObject:function(t){return aria.utils.Json.copy(this._extractHashObject(this.getHashString(t)))},getHashString:function(t){t=t||Aria.$window;var e=t.location.href,i=e.indexOf("#");return-1!=i?e.substring(i+1):""},setHash:function(t,e){t=t||"",e=e||Aria.$window;var i="";if(this._typeUtil.isObject(t)){if(!this._validateHashObject(t))return;i=this._stringifyHashObject(t)}else this._typeUtil.isString(t)?i=t?t:"":this.$logError(this.INVALID_SETHASH_ARGUMENT);this.getHashString(e)!=i&&(e.location.hash=i)},addCallback:function(t){null==this._hashChangeCallbacks&&(this._hashChangeCallbacks=[],this._addHashChangeInternalCallback()),this._hashChangeCallbacks.push(t)},removeCallback:function(t){var e=this._hashChangeCallbacks;if(null!=e){for(var i=e.length,r=0;i>r&&e[r]!=t;)r++;i>r&&(e.splice(r,1),0===e.length&&(this._hashChangeCallbacks=null,this._removeHashChangeInternalCallback()))}},setSeparators:function(t){var e,i=this.getHashObject(),r=this.__buildRegExpFromArray(["#","%","^","[","]","{","}","\\",'"',"<",">","="]);if(this._typeUtil.isString(t))e=[t];else{if(!this._typeUtil.isArray(t))return;e=t}for(var n=0,a=e.length;a>n;n++)if(e[n].match(r))return this.$logError(this.INVALID_SEPARATOR,e[n]),void 0;this._separators=e,this._separatorRegExp=this.__buildRegExpFromArray(this._separators),this._nonEncodableSeparators=this.__getNonEncodedSeparators(this._separators),this._nonEncodableSepRegExp=this.__buildRegExpFromArray(this._nonEncodableSeparators),aria.utils.Object.isEmpty(i)||this.setHash(i)},addSeparators:function(t){var e,i=this._separators;if(this._typeUtil.isString(t))e=[t];else{if(!this._typeUtil.isArray(t))return;e=t}for(var r=0,n=e.length;n>r;r++)aria.utils.Array.contains(this._separators,e[r])||i.push(e[r]);this.setSeparators(i)},setIE7polling:function(t){t&&!this._isIE7OrLess&&this.$logWarn(this.INVALID_HASHPOLLING_TRIGGER),t=t&&this._isIE7OrLess,t&&!this._enableIEpolling?(this._enableIEpolling=t,this._hashPoll()):this._enableIEpolling=t},_stringifyHashObject:function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return e.join(this._separators[0])},_extractHashObject:function(t){var e,i,r=t,n={};r=r?r.split(this._separatorRegExp):[];for(var a=0,s=r.length;s>a;a++)i=r[a],e=decodeURIComponent(i).split("="),2==e.length?n[e[0]]=e[1]:i.indexOf("=")==i.length?n[e[0]]="":n["param"+a]=e[0];return n},_addHashChangeInternalCallback:function(){this._isIE7OrLess||(this._hashChangeCallbackAdded=!0,aria.utils.AriaWindow.attachWindow(),aria.utils.Event.addListener(Aria.$window,"hashchange",{fn:this._internalCallback,scope:this},!0))},_hashPoll:function(){if(this._enableIEpolling){this._hashPollCallback=aria.core.Timer.addCallback({fn:this._hashPoll,scope:this,delay:this.ie7PollDelay});var t=this.getHashString(),e=this.polledIframeHashString;e!=this._currentIframeHashString?(this._currentIframeHashString=e,this._currentHashString=e,this.setHash(e),this._internalCallback()):t!=this._currentHashString&&(this._addIframeHistoryEntry(t),this._internalCallback())}},_internalCallback:function(){var t,e=this._hashChangeCallbacks;if(null!=e){this._currentHashString=this.getHashString();for(var i=this._extractHashObject(this._currentHashString),r=0,n=e.length;n>r;r++)t=e[r],t=this.$normCallback(t),this.$callback(t,i)}},_removeHashChangeInternalCallback:function(){!this._isIE7OrLess&&this._hashChangeCallbackAdded&&(this._hashChangeCallbackAdded=!1,aria.utils.Event.removeListener(Aria.$window,"hashchange",{fn:this._internalCallback}),aria.utils.AriaWindow.detachWindow())},_validateHashObject:function(t){var e,i=this._nonEncodableSepRegExp;for(var r in t)if(t.hasOwnProperty(r)){if(i&&r.match(i))return this.$logError(this.INVALID_HASHOBJECT_KEY,[r,this._nonEncodableSeparators.join("")]),!1;if(e=t[r],!this._typeUtil.isString(e))return this.$logError(this.INVALID_HASHOBJECT_TYPE,r),!1;if(i&&e.match(i))return this.$logError(this.INVALID_HASHOBJECT_VALUE,[e,r,this._nonEncodableSeparators.join("")]),!1}return!0},__getNonEncodedSeparators:function(t){for(var e=[],i=0,r=t.length;r>i;i++)t[i]==encodeURIComponent(t[i])&&e.push(t[i]);return e},__buildRegExpFromArray:function(t){for(var e=/([\^\$\.\*\+\?\=\!\:\|\\\/\(\)\[\]\{\}]){1,1}/g,i=[],r=0,n=t.length;n>r;r++)i.push(t[r].replace(e,"\\$1"));return 0===i.length?null:RegExp(i.join("|"))},_createIframe:function(){var t,e=Aria.$window.document;t=e.createElement("iframe"),t.setAttribute("id",this.IFRAME_ID),t.style.display="none",e.body.appendChild(t),this._iframe=t,this.polledIframeHashString=this._currentHashString,this._addIframeHistoryEntry(this._currentHashString)},_addIframeHistoryEntry:function(t){var e=this._iframe;if(e&&(t=t||"",this._currentIframeHashString!=t)){var i=["javascript:document.open();"];i.push('document.write("<script type=\\"text/javascript\\">'),Aria.domain&&i.push('document.domain=\\"'+Aria.domain+'\\";'),i.push("if (parent."+this.$classpath+"){parent."+this.$classpath+'.polledIframeHashString=\\"'+t+'\\";}'),i.push('</script>");'),i.push("document.close();"),e.src=i.join(""),this._currentIframeHashString=t}},_destroyIframe:function(){Aria.$window.document.body.removeChild(this._iframe),this._iframe=null}}});
//*******************
//LOGICAL-PATH:aria/utils/sandbox/DOMProperties.js
//*******************
(function(){var t={abbr:{TD:"rw",TH:"rw"},accept:{INPUT:"rw"},acceptCharset:{FORM:"rw"},accessKey:"rw",action:{FORM:"rw"},align:{IFRAME:"rw",IMG:"rw"},alt:{AREA:"rw",IMG:"rw"},axis:{TD:"rw",TH:"rw"},baseURI:"r-",border:{IMG:"rw"},cellIndex:{TD:"r-",TH:"r-"},cellPadding:{TABLE:"rw"},cellSpacing:{TABLE:"rw"},ch:{TD:"rw",TH:"rw",TR:"rw"},charset:{A:"rw"},checked:{INPUT:"rw"},chOff:{TD:"rw",TH:"rw",TR:"rw"},className:"rw",clientHeight:"r-",clientWidth:"r-",cols:{TEXTAREA:"rw"},colSpan:{TD:"rw",TH:"rw"},complete:{IMG:"r-"},coords:{AREA:"rw"},defaultChecked:{INPUT:"rw"},defaultSelected:{OPTION:"rw"},defaultValue:{INPUT:"rw",TEXTAREA:"rw"},dir:"rw",disabled:{BUTTON:"rw",INPUT:"rw",OPTION:"rw",SELECT:"rw",TEXTAREA:"rw"},enctype:{FORM:"rw"},frame:{TABLE:"rw"},frameBorder:{IFRAME:"rw"},hash:{AREA:"rw"},headers:{TD:"rw",TH:"rw"},height:{IFRAME:"rw",IMG:"rw"},host:{AREA:"rw"},hostname:{AREA:"rw"},href:{A:"rw",AREA:"rw"},hreflang:{A:"rw"},hspace:{IMG:"rw"},id:"r-",index:{OPTION:"rw"},innerHTML:"r-",lang:"rw",length:{FORM:"r-",SELECT:"r-"},localName:"r-",longDesc:{IFRAME:"rw",IMG:"rw"},lowsrc:{IMG:"rw"},marginHeight:{IFRAME:"rw"},marginWidth:{IFRAME:"rw"},maxLength:{INPUT:"rw"},method:{FORM:"rw"},multiple:{SELECT:"rw"},name:{A:"rw",BUTTON:"rw",FORM:"rw",IFRAME:"rw",IMG:"rw",INPUT:"rw",SELECT:"rw",TEXTAREA:"rw"},namespaceURI:"r-",naturalWidth:{IMG:"r-"},naturalHeight:{IMG:"r-"},nodeName:"r-",nodeType:"r-",nodeValue:"r-",noHref:{AREA:"rw"},noResize:{IFRAME:"rw"},offsetHeight:"r-",offsetLeft:"r-",offsetTop:"r-",offsetWidth:"r-",pathname:{AREA:"rw"},port:{AREA:"rw"},prefix:"r-",protocol:{AREA:"rw"},readOnly:{INPUT:"rw",TEXTAREA:"rw"},rel:{A:"rw"},rev:{A:"rw"},rowIndex:{TR:"r-"},rows:{TEXTAREA:"rw"},rowSpan:{TD:"rw",TH:"rw"},rules:{TABLE:"rw"},schemaTypeInfo:"r-",scrollHeight:"r-",scrolling:{IFRAME:"rw"},scrollLeft:"rw",scrollTop:"rw",scrollWidth:"r-",search:{AREA:"rw"},sectionRowIndex:{TR:"r-"},selected:{OPTION:"rw"},selectedIndex:{SELECT:"rw"},shape:{AREA:"rw"},size:{INPUT:"rw",SELECT:"rw"},src:{IFRAME:"rw",IMG:"rw"},style:"r-",summary:{TABLE:"rw"},tabIndex:"rw",tagName:"r-",target:{A:"rw",AREA:"rw",FORM:"rw"},text:{OPTION:"rw"},textContent:"r-",title:"rw",type:{A:"rw",BUTTON:"rw",INPUT:"r-",SELECT:"r-",TEXTAREA:"r-"},useMap:{IMG:"rw"},vAlign:{TD:"rw",TH:"rw",TR:"rw"},value:{BUTTON:"rw",INPUT:"rw",OPTION:"rw",SELECT:"rw",TEXTAREA:"rw"},vspace:{IMG:"rw"},width:{IFRAME:"rw",IMG:"rw"}};Aria.classDefinition({$classpath:"aria.utils.sandbox.DOMProperties",$singleton:!0,$prototype:{getPropertyAccess:function(e,i){if(!t.hasOwnProperty(i))return"--";var r=t[i];if("object"==typeof r){if(e=e.toUpperCase(),!r.hasOwnProperty(e))return"--";r=r[e]}return r},isReadSafe:function(t,e){return"r"==this.getPropertyAccess(t,e).charAt(0)},isWriteSafe:function(t,e){return"w"==this.getPropertyAccess(t,e).charAt(1)}}})})();
//*******************
//LOGICAL-PATH:aria/templates/DomElementWrapper.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.DomElementWrapper",$dependencies:["aria.utils.Dom","aria.utils.DomOverlay","aria.utils.ClassList","aria.utils.sandbox.DOMProperties"],$constructor:function(t,e){if(t&&t.nodeType)for(;1!=t.nodeType;)t=t.parentNode;var i=t.tagName;this.tagName=i,this.getChild=function(e){var i=aria.utils.Dom.getDomElementChild(t,e);return i?new aria.templates.DomElementWrapper(i):null},this.getAttribute=function(e){if(!this.attributesWhiteList.test(e))return this.$logError(this.INVALID_ATTRIBUTE_NAME,[e]),null;var i=t.attributes[e];return i?i.value:null},this.setAttribute=function(e,i){var r=!this.attributesWhiteList.test(e)||"type"==e&&"INPUT"==t.tagName;r?this.$logError(this.ATTRIBUTE_WRITE_DENIED,[e]):t.setAttribute(e,i)},this.getData=function(e,i){if(!this.expandoNameRegex.test(e)||"_"==e.charAt(0))return this.$logError(this.INVALID_EXPANDO_NAME,[e]),null;var r="data-"+e,n=t.attributes[r];if(!n&&i)for(var a=t.parentNode;!n&&null!=a&&null!=a.attributes;)n=a.attributes[r],a=a.parentNode;return n?n.value:null},this.getParentWithData=function(e){if(!this.expandoNameRegex.test(e)||"_"==e.charAt(0))return this.$logError(this.INVALID_EXPANDO_NAME,[e]),null;for(var i="data-"+e,r=t,n=r.attributes[i];!n&&null!=r.parentNode;)r=r.parentNode,r.attributes&&(n=r.attributes[i]);return n?new aria.templates.DomElementWrapper(r):null},this.classList=new aria.utils.ClassList(t),this.focus=function(){try{return t.focus()}catch(e){this.$logDebug(this.FOCUS_FAILURE,t)}},this.setStyle=function(e){t.style.cssText=e},this.getProperty=function(e){return aria.utils.sandbox.DOMProperties.isReadSafe(i,e)?t[e]:(this.$logError(this.READ_ACCESS_DENIED,[e,i]),void 0)},this.setProperty=function(e,r){aria.utils.sandbox.DOMProperties.isWriteSafe(i,e)?t[e]=r:this.$logError(this.WRITE_ACCESS_DENIED,[e,i])},this.getParentWithName=function(e){if(!e||!t)return null;var i=Aria.$window.document.body;e=e.toUpperCase();for(var r=t.parentNode;r&&r!=i;){if(r.nodeName==e)return new aria.templates.DomElementWrapper(r);r=r.parentNode}return null},this.setProcessingIndicator=function(i,r){var n,a=!0;i?n=aria.utils.DomOverlay.create(t,r):(n=aria.utils.DomOverlay.detachFrom(t,r),n||(a=!1)),e&&a&&e.registerProcessingIndicator(i,n)},this.scrollIntoView=function(e){aria.utils.Dom.scrollIntoView(t,e)},this.getScroll=function(){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}},this.setScroll=function(e){e&&(e.hasOwnProperty("scrollLeft")&&null!=e.scrollLeft&&(t.scrollLeft=e.scrollLeft),e.hasOwnProperty("scrollTop")&&null!=e.scrollTop&&(t.scrollTop=e.scrollTop))},this._dispose=function(){this.setProcessingIndicator(!1),t=null,e=null,this.getChild=null,this.classList.$dispose(),this.getData=null,this.getAttribute=null,this.getProperty=null,this.setProperty=null,this.focus=null,this.setStyle=null,this.getParentWithName=null,this.getParentWithData=null,this.setProcessingIndicator=null}},$destructor:function(){this._dispose&&(this._dispose(),this._dispose=null)},$statics:{attributesWhiteList:/^(data\-\w+(?:\-\w+)*|aria\-[a-z]+|name|title|style|dir|lang|abbr|height|width|size|cols|rows|rowspan|colspan|nowrap|valign|align|border|cellpadding|cellspacing|disabled|readonly|checked|selected|multiple|value|alt|maxlength|type|accesskey|tabindex|placeholder|autocomplete|autofocus|autocorrect|autocapitalize|spellcheck)$/,expandoNameRegex:/^\w+(?:\-\w+)*$/,INVALID_EXPANDO_NAME:"Invalid expando name: '%1'.",INVALID_ATTRIBUTE_NAME:"Invalid attribute name: '%1'.",ATTRIBUTE_WRITE_DENIED:"Write access to attribute '%1' is not allowed.",FOCUS_FAILURE:"Could not focus element",READ_ACCESS_DENIED:"Access to property %1 of tag %2 is not allowed.",WRITE_ACCESS_DENIED:"Write access to property %1 of tag %2 is not allowed."},$prototype:{getChild:function(){},getAttribute:function(){},setAttribute:function(){},getData:function(){},getParentWithData:function(){},focus:function(){},setStyle:function(){},getValue:function(){return this.getProperty("value")},setValue:function(t){this.setProperty("value",t)},_dispose:function(){},getParentWithName:function(){},setProcessingIndicator:function(){},scrollIntoView:function(){},getScroll:function(){},setScroll:function(){}}});
//*******************
//LOGICAL-PATH:aria/utils/Html.js
//*******************
Aria.classDefinition({$classpath:"aria.utils.Html",$extends:"aria.core.JsObject",$dependencies:["aria.templates.DomElementWrapper","aria.utils.String","aria.utils.Json"],$singleton:!0,$statics:{datasetRegex:/^\w+$/,INVALID_CONFIGURATION:"Invalid attribute %1.",INVALID_DATASET_KEY:"Invalid dataset key %1. Dataset keys can contain only [a-zA-Z0-9_]"},$prototype:{buildAttributeList:function(t){var e=[],i=aria.templates.DomElementWrapper.attributesWhiteList,r=aria.utils.Json,n=aria.utils.String;for(var a in t)if(t.hasOwnProperty(a)&&!r.isMetadata(a)){var s=t[a];if("classList"===a)e.push(' class="'),e.push(n.encodeForQuotedHTMLAttribute(s.join(" "))),e.push('"');else if("dataset"===a)for(var o in s)s.hasOwnProperty(o)&&!r.isMetadata(o)&&(this.datasetRegex.test(o)?(e.push(" data-",o,'="'),e.push(n.encodeForQuotedHTMLAttribute(s[o])),e.push('"')):(this.$logWarn(this.INVALID_DATASET_KEY,o),e.push(" data-",o,'="'),e.push(n.encodeForQuotedHTMLAttribute(s[o])),e.push('"')));else i.test(a)?(s=null!=s?s+"":"",e.push(" ",a,'="'),e.push(n.encodeForQuotedHTMLAttribute(s)),e.push('"')):this.$logError(this.INVALID_CONFIGURATION,a)}return e.join("")}}});
//*******************
//LOGICAL-PATH:aria/utils/Math.js
//*******************
Aria.classDefinition({$classpath:"aria.utils.Math",$singleton:!0,$dependencies:["aria.utils.Type"],$constructor:function(){this.utilType=aria.utils.Type},$prototype:{normalize:function(t,e,i){var r=this.utilType.isNumber;return r(t)?(r(e)&&(t=Math.max(t,e)),r(i)&&(t=Math.min(t,i)),t):t},min:function(t,e){var i=this.utilType.isNumber,r=i(t),n=i(e);return r||n?r?n?Math.min(t,e):t:e:null},max:function(t,e){var i=this.utilType.isNumber,r=i(t),n=i(e);return r||n?r?n?Math.max(t,e):t:e:null}}});
//*******************
//LOGICAL-PATH:aria/utils/Orientation.js
//*******************
Aria.classDefinition({$classpath:"aria.utils.Orientation",$dependencies:["aria.utils.Event"],$singleton:!0,$events:{change:""},$constructor:function(){var t=Aria.$window;t.orientation!==void 0&&(this.screenOrientation=t.orientation,this.isPortrait=this.__isPortrait(),aria.utils.Event.addListener(t,"orientationchange",{fn:this._onOrientationChange,scope:this}))},$destructor:function(){aria.utils.Event.removeListener(Aria.$window,"orientationchange",{fn:this._onOrientationChange})},$prototype:{_onOrientationChange:function(){this.screenOrientation=Aria.$window.orientation,this.isPortrait=this.__isPortrait(),this.$raiseEvent({name:"change",screenOrientation:this.screenOrientation,isPortrait:this.isPortrait})},__isPortrait:function(){return 0===Aria.$window.orientation%180?!0:!1}}});
//*******************
//LOGICAL-PATH:aria/utils/Path.js
//*******************
Aria.classDefinition({$classpath:"aria.utils.Path",$dependencies:["aria.utils.String","aria.utils.Type"],$singleton:!0,$statics:{WRONG_PATH_SYNTAX:"Syntax for path %1 is not valid. Note that variables cannot be used in paths.",RESOLVE_FAIL:"Resolve for path %1 failed, root element does not contain this path"},$prototype:{setValue:function(t,e,i){var r=aria.utils.Type;if(t&&e&&r.isObject(t)&&(r.isString(e)&&(e=this.parse(e)),r.isArray(e)&&!r.isNumber(e[0])))for(var n,a,s=t,o=0,l=e.length;l>o;o+=1)n=e[o],o===l-1?s[n]=i:(a=e[o+1],r.isNumber(a)&&!r.isArray(s[n])&&(s[n]=[]),!r.isString(a)||r.isObject(s[n])&&n in s||(s[n]={}),s=s[n])},resolve:function(t,e){if(aria.utils.Type.isString(t)&&(t=this.parse(t)),aria.utils.Type.isArray(t)){for(var i,r=0,n=t.length;n>r;r++)if(i=t[r],e=e[i],!e&&r!=n-1)throw{error:this.RESOLVE_FAIL,args:[t],object:e};return e}throw{error:this.RESOLVE_FAIL,args:[t],object:e}},parse:function(t){return this._paramParse("."+t)},_paramParse:function(t){if(!t)return[];var e,i,r,n,a=t.charAt(0);if("["==a){if(e=t.indexOf("]"),-1!=e){if(i=t.substring(1,e),r=t.substring(e+1),/^\d+$/.test(i))return n=this._paramParse(r),n.unshift(parseInt(i,10)),n;var s=i.charAt(0),o=aria.utils.String;if(("'"==s||'"'==s)&&o.indexOfNotEscaped(i,s,1)==i.length-1)return n=this._paramParse(r),n.unshift(i.substring(1,i.length-1).replace(RegExp("\\\\"+s,"gi"),s)),n}}else if("."==a&&(i=/^[_A-z\$]\w*/.exec(t.substring(1)),i.length))return i=i[0],r=t.substring(i.length+1),n=this._paramParse(r),n.unshift(i),n;throw{error:this.WRONG_PATH_SYNTAX,args:[t]}},pathArrayToString:function(t){for(var e=[t[0]],i=1,r=t.length;r>i;i++)e.push('["'+(""+t[i]).replace(/"/gi,'\\"')+'"]');return e.join("")},describe:function(t,e){var i=aria.utils.Type;if(t&&e&&i.isObject(t)&&(i.isString(e)&&(e=this.parse(e)),i.isArray(e)&&!i.isNumber(e[0])))for(var r,n=t,a=0,s=e.length;s>a;a+=1){if(r=e[a],i.isNumber(r)&&!i.isArray(n))return null;if(!(!i.isString(r)||i.isObject(n)&&r in n))return null;if(a===s-1)return{container:n,property:r,value:n[r]};n=n[r]}}}});
//*******************
//LOGICAL-PATH:aria/utils/Size.js
//*******************
Aria.classDefinition({$classpath:"aria.utils.Size",$dependencies:["aria.utils.Math"],$singleton:!0,$prototype:{getSize:function(t){return{width:t.offsetWidth,height:t.offsetHeight}},__createDomContainer:function(){var t=Aria.$window.document,e=t.createElement("div");return e.style.cssText="position:absolute;top:0px;left:0px;visibility:hidden;display:block;width:0px;height:0px;",t.body.appendChild(e)},getFreeSize:function(t){var e=this.__createDomContainer(),i=t.parentNode;e.appendChild(t);var r=t.offsetWidth,n=t.offsetHeight,a={width:r,height:n};return aria.utils.Type.isHTMLElement(i)&&i.appendChild(t),e.parentNode.removeChild(e),a},setContrains:function(t,e,i){var r,n,a={},s=!1,o=!1,l=!1,h=t.style.overflowY;if(e&&(r=t.offsetWidth,n=aria.utils.Math.normalize(r,e.min,e.max),n!=r&&(t.style.width=n+"px",s=!0),a.width=n),i){if(r=t.offsetHeight,n=aria.utils.Math.normalize(r,i.min,i.max),n!=r&&(t.style.height=n+"px",o=!0,l=r>n)){if(t.style.overflowY="scroll",aria.core.Browser.isIE&&8>aria.core.Browser.majorVersion||aria.core.Browser.isMac){var c=aria.templates.Layout.getScrollbarsWidth();t.style.paddingRight=""===t.style.paddingRight?c+"px":parseInt(t.style.paddingRight,10)+c+"px"}var u=aria.utils.Math.normalize(t.offsetWidth,e.min,e.max);t.style.width=u+"px",s=!0,a.width=u}a.height=n}if(s||o){if(e||(a.width=t.offsetWidth),i||(a.height=t.offsetHeight),l&&(t.style.overflowY=h,aria.core.Browser.isIE&&8>aria.core.Browser.majorVersion||aria.core.Browser.isMac)){var c=aria.templates.Layout.getScrollbarsWidth();t.style.paddingRight=parseInt(t.style.paddingRight,10)-c+"px"}return a}return null}}});
//*******************
//LOGICAL-PATH:aria/utils/Store.js
//*******************
Aria.classDefinition({$classpath:"aria.utils.Store",$dependencies:["aria.utils.Array","aria.utils.Callback"],$constructor:function(){this._store=null,this._storeLength=0},$destructor:function(){var t;if(this._store){for(var e=0,i=this._store.length;i>e;e++)t=this._store[e],t.$dispose&&t.$dispose();this._store=null}},$prototype:{add:function(t){this._store||(this._store=[],this.initialize()),this._store[this._storeLength++]=t},initialize:function(){},remove:function(t){return this._store&&aria.utils.Array.remove(this._store,t)?(this._storeLength--,!0):!1},getSize:function(){return this._storeLength},getMatch:function(t,e){e=e===!0;for(var i=null,r=e?[]:null,n=0,a=0;this._storeLength>a;a++)if(i=this._store[a],this.$callback(t,i)){if(!e)return i;r[n++]=i}return r},removeMatch:function(t,e){t=new aria.utils.Callback(t),e=e===!0;for(var i=null,r=e?[]:null,n=0;this._storeLength>n;n++)if(i=this._store[n],t.call(i)){if(this._store.splice(n,1),this._storeLength--,n-=1,!e)return t.$dispose(),i;r.push(i)}return t.$dispose(),r},foreach:function(t,e){var i=null;t=new aria.utils.Callback(t),e&&(e=new aria.utils.Callback(e));for(var r=0;this._storeLength>r;r++)i=this._store[r],(!e||e.call(i))&&t.call(i);t.$dispose(),e&&e.$dispose()}}});
//*******************
//LOGICAL-PATH:aria/widgetLibs/CommonBeans.js
//*******************
Aria.beanDefinitions({$package:"aria.widgetLibs.CommonBeans",$namespaces:{json:"aria.core.JsonTypes"},$beans:{Callback:{$type:"json:MultiTypes",$contentTypes:[{$type:"json:Object",$properties:{fn:{$type:"FunctionName"},scope:{$type:"json:ObjectRef"},args:{$type:"json:MultiTypes"}}},{$type:"FunctionName"}]},FunctionName:{$type:"json:MultiTypes",$contentTypes:[{$type:"json:String"},{$type:"json:FunctionRef"}]},BindingRef:{$type:"json:Object",$properties:{to:{$type:"json:JsonProperty"},inside:{$type:"json:ObjectRef"},transform:{$type:"TransformRef"}}},TransformRef:{$type:"json:MultiTypes",$contentTypes:[{$type:"json:Object",$properties:{toWidget:{$type:"FunctionName"},fromWidget:{$type:"FunctionName"}}},{$type:"FunctionName"}]}}});
//*******************
//LOGICAL-PATH:aria/templates/CfgBeans.js
//*******************
Aria.beanDefinitions({$package:"aria.templates.CfgBeans",$namespaces:{json:"aria.core.JsonTypes",coreBeans:"aria.core.CfgBeans",common:"aria.widgetLibs.CommonBeans"},$beans:{BaseTemplateCfg:{$type:"json:Object",$properties:{$classpath:{$type:"json:PackageName",$mandatory:!0},$dependencies:{$type:"json:Array",$default:[],$contentType:{$type:"json:PackageName"}},$hasScript:{$type:"json:Boolean",$default:!1},$extends:{$type:"json:PackageName"},$texts:{$type:"json:Map",$contentType:{$type:"json:PackageName",$mandatory:!0}}}},TemplateCfg:{$type:"BaseTemplateCfg",$mandatory:!0,$properties:{$width:{$type:"ContainerSizeCfg",$default:null},$height:{$type:"ContainerSizeCfg",$default:null},$wlibs:{$type:"json:Map",$contentType:{$type:"json:PackageName",$sample:"aria.widgets.AriaLib",$mandatory:!0},$default:{}},$res:{$type:"json:Map",$contentType:{$type:"json:MultiTypes",$sample:"aria.widgets.WidgetsRes"}},$templates:{$type:"json:Array",$contentType:{$type:"json:PackageName"}},$css:{$type:"json:Array",$contentType:{$type:"json:PackageName"}},$macrolibs:{$type:"json:Map",$contentType:{$type:"json:PackageName",$mandatory:!0}}}},LibraryCfg:{$type:"BaseTemplateCfg",$mandatory:!0,$properties:{$wlibs:{$type:"json:Map",$contentType:{$type:"json:PackageName",$sample:"aria.widgets.AriaLib",$mandatory:!0},$default:{}},$templates:{$type:"json:Array",$default:[],$contentType:{$type:"json:PackageName"}},$macrolibs:{$type:"json:Map",$contentType:{$type:"json:PackageName",$mandatory:!0}},$res:{$type:"json:Map",$contentType:{$type:"json:PackageName",$sample:"aria.widgets.WidgetsRes"}}}},CSSTemplateCfg:{$type:"BaseTemplateCfg",$properties:{$csslibs:{$type:"json:Map",$contentType:{$type:"json:PackageName",$mandatory:!0}},$prefix:{$type:"json:Boolean"}}},CSSLibraryCfg:{$type:"BaseTemplateCfg",$mandatory:!0,$properties:{$csslibs:{$type:"json:Map",$contentType:{$type:"json:PackageName",$mandatory:!0}},$res:{$type:"json:Map",$contentType:{$type:"json:PackageName",$sample:"aria.widgets.WidgetsRes"}}}},TextTemplateCfg:{$type:"BaseTemplateCfg",$mandatory:!0,$properties:{$res:{$type:"json:Map",$contentType:{$type:"json:PackageName",$sample:"aria.widgets.WidgetsRes"}}}},ContainerSizeCfg:{$type:"json:Object",$properties:{min:{$type:"json:Integer"},max:{$type:"json:Integer"},value:{$type:"json:Integer"},scrollbar:{$type:"json:Boolean"}},$default:{}},RootDimCfg:{$type:"json:Object",$mandatory:!0,$properties:{width:{$type:"ContainerSizeCfg"},height:{$type:"ContainerSizeCfg"}}},ModuleCtrl:{$type:"json:MultiTypes",$contentTypes:[{$type:"json:ObjectRef",$mandatory:!0},{$type:"InitModuleCtrl"}]},InitModuleCtrl:{$type:"json:Object",$mandatory:!0,$properties:{classpath:{$type:"json:PackageName",$mandatory:!0},autoDispose:{$type:"json:Boolean",$default:!0},constructorArgs:{$type:"json:ObjectRef",$mandatory:!1},initArgs:{$type:"json:ObjectRef",$mandatory:!1}}},Div:{$type:"json:MultiTypes",$mandatory:!0,$contentTypes:[{$type:"json:ObjectRef"},{$type:"json:String"}]},TemplateSizeCfg:{$type:"json:MultiTypes",$contentTypes:[{$type:"json:Integer"},{$type:"RelativeTemplateSizeCfg"}]},RelativeTemplateSizeCfg:{$type:"json:Object",$properties:{min:{$type:"json:Integer",$mandatory:!0},incrementFactor:{$type:"json:Float",$default:1},max:{$type:"json:Integer",$default:null}}},PrintOptions:{$type:"json:Enum",$enumValues:["hidden","visible","adaptX","adaptY","adaptXY"],$default:"visible"},BaseLoadTemplateCfg:{$type:"json:Object",$properties:{classpath:{$type:"json:PackageName",$mandatory:!0},id:{$type:"json:String",$mandatory:!1},origClasspath:{$type:"json:PackageName",$mandatory:!1},printOptions:{$type:"PrintOptions",$default:"adaptXY"},width:{$type:"TemplateSizeCfg",$mandatory:!1},height:{$type:"TemplateSizeCfg",$mandatory:!1},data:{$type:"json:ObjectRef",$mandatory:!1},moduleCtrl:{$type:"ModuleCtrl",$mandatory:!1},args:{$type:"json:Array",$default:[],$contentType:{$type:"json:MultiTypes"}},rootDim:{$type:"RootDimCfg",$mandatory:!1},provideContext:{$type:"json:Boolean",$mandatory:!1,$default:!1},reload:{$type:"json:Boolean",$default:!1},reloadByPassCache:{$type:"json:Boolean",$default:!1}}},LoadTemplateCfg:{$type:"BaseLoadTemplateCfg",$properties:{div:{$type:"Div",$mandatory:!0}}},InitTemplateCfg:{$type:"BaseLoadTemplateCfg",$properties:{originalId:{$type:"json:String",$mandatory:!1},div:{$type:"Div",$mandatory:!1},tplDiv:{$type:"Div",$mandatory:!1},macro:{$type:"MacroCfg"},toDispose:{$type:"json:Array",$contentType:{$type:"json:ObjectRef",$mandatory:!0}},baseTabIndex:{$type:"json:Integer",$default:0},isRootTemplate:{$type:"json:Boolean",$default:!1},context:{$type:"json:ObjectRef",$mandatory:!1}}},InitCSSTemplateCfg:{$type:"json:Object",$mandatory:!0,$properties:{classpath:{$type:"json:PackageName",$mandatory:!0},isWidget:{$type:"json:Boolean",$mandatory:!1,$default:!1},widgetName:{$type:"json:String",$mandatory:!1,$default:""},isTemplate:{$type:"json:Boolean",$mandatory:!1,$default:!1}}},InitTxtTemplateCfg:{$type:"json:Object",$mandatory:!0,$properties:{classpath:{$type:"json:PackageName",$mandatory:!0},data:{$type:"json:ObjectRef",$mandatory:!1}}},MacroCfg:{$type:"json:MultiTypes",$contentTypes:[{$type:"json:String"},{$type:"json:Object",$properties:{name:{$type:"json:String"},args:{$type:"json:Array",$contentType:{$type:"json:MultiTypes"},$default:[]},scope:{$type:"json:ObjectRef"}}}]},HtmlAttribute:{$type:"json:Object",$properties:{name:{$type:"json:String"},title:{$type:"json:String"},classList:{$type:"json:Array",$contentType:{$type:"json:String"}},dataset:{$type:"json:ObjectRef"},style:{$type:"json:String"},dir:{$type:"json:String"},lang:{$type:"json:String"},abbr:{$type:"json:String"},height:{$type:"json:String"},width:{$type:"json:String"},size:{$type:"json:String"},cols:{$type:"json:String"},rows:{$type:"json:String"},rowspan:{$type:"json:String"},colspan:{$type:"json:String"},nowrap:{$type:"json:String"},valign:{$type:"json:String"},align:{$type:"json:String"},border:{$type:"json:String"},cellpadding:{$type:"json:String"},cellspacing:{$type:"json:String"},disabled:{$type:"json:String"},readonly:{$type:"json:String"},checked:{$type:"json:String"},selected:{$type:"json:String"},multiple:{$type:"json:String"},value:{$type:"json:String"},alt:{$type:"json:String"},maxlength:{$type:"json:String"},type:{$type:"json:String"},accesskey:{$type:"json:String"},tabindex:{$type:"json:Integer"},placeholder:{$type:"json:String"},autocomplete:{$type:"json:String"},autofocus:{$type:"json:String"},autocorrect:{$type:"json:String"},autocapitalize:{$type:"json:String"},spellcheck:{$type:"json:String"}}},SectionCfg:{$type:"json:Object",$properties:{id:{$type:"json:String"},type:{$type:"json:String",$default:"span"},bindRefreshTo:{$type:"json:Array",$default:[],$contentType:{$type:"BindingConfiguration",$sample:"{inside : ..., to : ...}"}},bindProcessingTo:{$type:"BindingConfiguration",$mandatory:!1},keyMap:{$type:"json:Array",$mandatory:!1,$contentType:{$type:"KeyMapCfg"}},tableNav:{$type:"TableNavConfiguration",$mandatory:!1},processingLabel:{$type:"json:String",$mandatory:!1,$default:""},macro:{$type:"MacroCfg"},cssClass:{$type:"json:String"},attributes:{$type:"HtmlAttribute"},on:{$type:"json:Object",$default:{},$restricted:!1},bind:{$type:"json:Object",$properties:{attributes:{$type:"common:BindingRef"}}}}},RepeaterCfg:{$type:"SectionCfg",$mandatory:!0,$properties:{content:{$type:"json:ObjectRef",$mandatory:!0},loopType:{$type:"json:Enum",$enumValues:["array","pagedView","sortedView","filteredView","view","map"],$mandatory:!1},childSections:{$type:"json:Object",$restricted:!1,$properties:{id:{$type:"json:MultiTypes",$mandatory:!0},macro:{$type:"json:MultiTypes",$mandatory:!0}}},macro:{$type:"SectionCfg.macro"}}},BindingConfiguration:{$type:"json:Object",$properties:{to:{$type:"json:JsonProperty",$default:null},inside:{$type:"json:ObjectRef",$mandatory:!0},recursive:{$type:"json:Boolean",$default:!0}}},TableNavConfiguration:{$type:"json:MultiTypes"},RefreshCfg:{$type:"json:Object",$default:{},$properties:{macro:{$type:"MacroCfg",$mandatory:!1},section:{$type:"json:String",$mandatory:!1},filterSection:{$type:"json:String",$mandatory:!1},outputSection:{$type:"json:String",$mandatory:!1}}},GetRefreshedSectionCfg:{$type:"RefreshCfg",$properties:{writerCallback:{$type:"coreBeans:Callback"}}},InsertAdjacentSectionsCfg:{$type:"json:Object",$mandatory:!0,$properties:{sections:{$type:"json:Array",$mandatory:!0,$contentType:{$type:"json:MultiTypes",$mandatory:!0,$contentTypes:[{$type:"json:String"},{$type:"SectionCfg"}]}},refSection:{$type:"json:Object",$mandatory:!0,$properties:{object:{$type:"json:ObjectRef",$classpath:"aria.templates.Section",$mandatory:!0},domElt:{$type:"json:ObjectRef",$mandatory:!0}}},position:{$type:"json:Enum",$mandatory:!0,$enumValues:["beforeBegin","afterBegin","beforeEnd","afterEnd"]}}},SubModuleDefinition:{$type:"json:Object",$mandatory:!0,$properties:{refpath:{$type:"json:String",$regExp:/./,$mandatory:!0,$sample:"pkg1.module"},arrayIndex:{$type:"json:Integer",$mandatory:!1},classpath:{$type:"json:PackageName",$mandatory:!0},initArgs:{$type:"json:ObjectRef",$mandatory:!1}}},TplScriptDefinitionCfg:{$type:"json:Object",$properties:{$classpath:{$type:"json:PackageName",$mandatory:!0,$sample:"aria.jsunit.TestSuite"},$dependencies:{$type:"json:Array",$default:[],$contentType:{$type:"json:PackageName"}},$resources:{$type:"json:Map",$contentType:{$type:"json:MultiTypes",$sample:"aria.widgets.WidgetsRes",$contentTypes:[{$type:"json:Object"},{$type:"json:String"}]}},$texts:{$type:"json:Map",$contentType:{$type:"json:PackageName",$mandatory:!0}},$statics:{$type:"json:Map",$contentType:{$type:"json:MultiTypes"}},$prototype:{$type:"json:MultiTypes",$contentTypes:[{$type:"json:Map",$contentType:{$type:"json:MultiTypes"}},{$type:"json:FunctionRef"}]},$constructor:{$type:"json:FunctionRef"},$destructor:{$type:"json:FunctionRef"}}},KeyMapCfg:{$type:"json:Object",$properties:{key:{$type:"json:MultiTypes",$mandatory:!0,$contentTypes:[{$type:"json:Integer"},{$type:"json:String",$sample:"F4"}]},ctrl:{$type:"json:Boolean"},shift:{$type:"json:Boolean"},alt:{$type:"json:Boolean"},callback:{$type:"json:MultiTypes",$mandatory:!0,$contentTypes:[{$type:"json:FunctionRef"},{$type:"coreBeans:Callback"}]},event:{$type:"json:Enum",$enumValues:["keyup","keydown"]}}},GlobalKeyMapCfg:{$type:"KeyMapCfg",$properties:{modal:{$type:"json:Boolean",$default:!1}}}}});
//*******************
//LOGICAL-PATH:aria/templates/IBaseTemplate.js
//*******************
Aria.interfaceDefinition({$classpath:"aria.templates.IBaseTemplate",$events:{},$interface:{__$write:function(){}}});
//*******************
//LOGICAL-PATH:aria/templates/ICSS.js
//*******************
Aria.interfaceDefinition({$classpath:"aria.templates.ICSS",$extends:"aria.templates.IBaseTemplate",$events:{},$interface:{prefix:"Object"}});
//*******************
//LOGICAL-PATH:aria/templates/BaseCtxt.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.BaseCtxt",$singleton:!1,$constructor:function(){this._cfg=null,this._out=null,this._tpl=null,this._macrolibs=[],this._csslibs=[]},$destructor:function(){(this._macrolibs||this._csslibs)&&(this.__disposeLibs(this._macrolibs),this.__disposeLibs(this._csslibs),this._macrolibs=null,this._csslibs=null)},$statics:{TEMPLATE_CONSTR_ERROR:"Error while creating a new instance of template '%1' - please check script constructor.",TEMPLATE_DESTR_ERROR:"Error while destroying an instance of template '%1' - please check script destructor.",MACRO_NOT_FOUND:"Missing macro '%1' in template '%2'.",MACRO_CALL_ERROR:"Error while calling macro '%1' in template '%2'.",LIBRARY_HANDLE_CONFLICT:"Template error: can't load shared macro library '%1'. A macro, text template, variable or another library has already been declared with the same name.",LIBRARY_ALREADY_LOADED:"Template error: library at classpath '%1' has already been loaded."},$prototype:{checkMacro:function(t){return null==t?this._cfg.macro:("string"==typeof t?t={name:t,args:[],scope:this._tpl}:(null==t.args&&(t.args=[]),null==t.scope&&(t.scope=this._tpl)),t)},_callMacro:function(t,e){this.$assert(62,null!=this._out),e=this.checkMacro(e);var i=e.scope,r=i["macro_"+e.name];null==r&&this.$logError(this.MACRO_NOT_FOUND,[e.name,i.$classpath]);try{r.apply(i,e.args)}catch(n){this.$logError(this.MACRO_CALL_ERROR,[e.name,i.$classpath],n)}},__loadLibs:function(t,e){if(this.$assert(134,"macrolibs"==e||"csslibs"==e),"macrolibs"==e)var i=this._macrolibs,r="__$macrolibs",n=aria.templates.TemplateCtxt,a=aria.templates.ITemplate;else if("csslibs"==e)var i=this._csslibs,r="__$csslibs",n=aria.templates.CSSCtxt,a=aria.templates.ICSS;var s={},o=0;for(var l in t)if(t.hasOwnProperty(l)){if(void 0!==this._tpl[l]){delete t[l],this.$logError(this.LIBRARY_HANDLE_CONFLICT,[l]);continue}if(s[t[l]]){this.$logError(this.LIBRARY_ALREADY_LOADED,[l]);continue}s[t[l]]=!0,o++}if(0!==o)for(var l in t)if(t.hasOwnProperty(l)){this._tpl[l]=Aria.getClassInstance(t[l]),this._tpl[l].__$write=this._tpl.__$write;var c=new n;c._tpl=this._tpl[l],i.push(c),a.call(this._tpl[l],c),c._tpl.__$initTemplate(),c.__loadLibs(c._tpl[r],e)}},__disposeLibs:function(t){for(var e=0;t.length>e;e++){var i=t[e];aria.templates.ITemplate&&aria.templates.ITemplate.prototype.$destructor.call(i._tpl),i.$dispose()}}}});
//*******************
//LOGICAL-PATH:aria/templates/CSSCtxt.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.CSSCtxt",$dependencies:["aria.templates.CfgBeans","aria.utils.String"],$implements:["aria.templates.ICSS"],$extends:"aria.templates.BaseCtxt",$constructor:function(){this.$BaseCtxt.constructor.apply(this,arguments),this.tplClasspath=null,this.__cachedOutput=null,this.__prefix="",this.__prefixedText="",this.__numSelectors=0/0},$destructor:function(){if(this._tpl){try{this._tpl.$dispose()}catch(t){this.$logError(this.TEMPLATE_DESTR_ERROR,[this.tplClasspath],t)}aria.templates.ICSS.prototype.$destructor.call(this._tpl),this._tpl=null}this.data=null,this.moduleRes=null,this.moduleCtrl=null,this.moduleCtrlPrivate=null,this.$BaseCtxt.$destructor.call(this)},$statics:{MEDIA_RULE:/@media\b/},$prototype:{initTemplate:function(t){if(!aria.core.JsonValidator.normalize({json:t,beanName:"aria.templates.CfgBeans.InitCSSTemplateCfg"}))return!1;this._cfg=t;var e=Aria.getClassInstance(t.classpath);if(!e)return this.$logError(this.TEMPLATE_CONSTR_ERROR,[t.classpath]),!1;this._tpl=e,t.macro=this.checkMacro({name:"main",args:t.args}),this.tplClasspath=t.classpath,aria.templates.ICSS.call(e,this);var i=this;return e.__$write=function(){return i.__$write.apply(i,arguments)},e.__$initTemplate()?(this.__loadLibs(e.__$csslibs,"csslibs"),!0):!1},doPrefixing:function(){return this._tpl.__$prefix?!this._cfg.isWidget:void 0},isWidget:function(){return this._cfg.isWidget},isTemplate:function(){return this._cfg.isTemplate},_getOutput:function(){if(this.__cachedOutput)return this.__cachedOutput;this.$assert(156,null==this._out),this._out=[],this._callMacro(null,"main");var t=this._out.join("");return this._out=null,this.__cachedOutput=t,t},prefixText:function(t){var e=this._getOutput(),i="."+t+" ",r=this.__prefixingAlgorithm(e,i);this.__prefixedText=r.text,this.__numSelectors=r.selectors},__prefixingAlgorithm:function(t,e){var i=t.split("}"),r=i.length;if(2>r)return{text:t,selectors:0};for(var n,a,s,o=aria.utils.String.trim,l=this.MEDIA_RULE,c=0,h=0;r>h;h+=1)if(n=i[h].split("{"),a=o(n[0])){var p=l.test(a);if(!p||(n[0]=a,a=o(n[1]))){a=a.split(","),s=[];for(var u=0,d=a.length;d>u;u+=1)s.push(e+o(a[u])),c+=1;p?(s[0]="\n"+s[0],n[1]=s.join(", ")):n[0]=s.join(", "),i[h]=n.join(" {")}}return{text:i.join("}\n"),selectors:c}},getText:function(){return this.doPrefixing()?this.__prefixedText:this._getOutput()},getNumLines:function(){return this.__numSelectors},__$write:function(t){this._out=this._out.concat(t)}}});
//*******************
//LOGICAL-PATH:aria/templates/CSSCtxtManager.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.CSSCtxtManager",$dependencies:["aria.templates.CSSCtxt"],$singleton:!0,$constructor:function(){this._contexts={}},$destructor:function(){this.reset()},$prototype:{getContext:function(t,e){var i=this._contexts[t];return i||(i=new aria.templates.CSSCtxt,e||(e={}),e.classpath=t,i.initTemplate(e),this._contexts[t]=i),i},disposeContext:function(t){var e=this._contexts[t];e&&(e.$dispose(),delete this._contexts[t])},reset:function(){var t=[],e=this._contexts;for(var i in e)e.hasOwnProperty(i)&&(t.push(i),e[i].$dispose());return this._contexts={},t}}});
//*******************
//LOGICAL-PATH:aria/templates/CSSMgr.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.CSSMgr",$singleton:!0,$dependencies:["aria.templates.CSSCtxtManager","aria.utils.Array","aria.utils.Object","aria.utils.AriaWindow"],$statics:{__NEXT_PREFIX_INDEX:0,__PREFIX:"CSS",__NEXT_TAG_INDEX:1,__TAG_PREFX:"xCss",CSSTEMPLATE_MAX_SELECTORS_REACHED:"More than 4000 CSS selectors are loaded at the same time. Please check your CSS Templates"},$events:{dependenciesLoaded:"",dependenciesUnloaded:"",styleChange:""},$constructor:function(){this.__cssUsage={},this.__globalUsage={},this.__prefixes={},this.__pathsLoaded=[],this.__textLoaded={},this.__styleTagAssociation={},this.__styleTagPool={},this.__cssDependencies={},this.__invalidClasspaths={},this.__invalidStack=[],this.__isStopped=!1,this.__queuedChanges=[],this.__attachedToWindow=!1,aria.utils.AriaWindow.$on({unloadWindow:this.reset,scope:this})},$destructor:function(){this.reset(),this.__styleTagPool=null,aria.utils.AriaWindow.$unregisterListeners(this)},$prototype:{__checkAttachedToWindow:function(){this.__attachedToWindow||(this.__attachedToWindow=!0,aria.utils.AriaWindow.attachWindow())},loadDependencies:function(t){this.$assert(133,t.$TemplateCtxt);var e=t.getCSSDependencies(),i=t.tplClasspath,r=this.loadClassPathDependencies(i,e,{isTemplate:!0});return r.changes&&this.$raiseEvent({name:"styleChange",templateClasspath:i}),this.$raiseEvent({name:"dependenciesLoaded",templateClasspath:i}),r.classes},loadWidgetDependencies:function(t,e){if(this.__cssDependencies[t])e=this.__cssDependencies[t];else{var i=Aria.getClassRef(t),r={};if(e)for(var n=0,a=e.length;a>n;n++)r[e[n]]=!0;for(i=i.superclass;i;){var s=i.$css;if(s)for(var n=0,a=s.length;a>n;n++)r[s[n]]=!0;i=i.constructor.superclass}e=aria.utils.Object.keys(r),this.__cssDependencies[t]=e}var o={isWidget:!0};this.loadClassPathDependencies(t,e,o)},loadClassPathDependencies:function(t,e,i){if(e){for(var r=[],n=[],a=0,s=e.length;s>a;a+=1){var o=e[a],l={};for(var c in i)i.hasOwnProperty(c)&&(l[c]=i[c]);r=this.__load(t,o,l).concat(r),this.__prefixes[o]&&n.push(this.__prefixes[o])}return r.length&&this.__textToDOM(r),{classes:n,changes:!!r.length}}},__load:function(t,e,i){this.$assert(195,t&&e);var r=this.__cssUsage[e];if(r&&r.length){if(r.push(t),this.__pathsLoaded.push(e),!this.__invalidClasspaths[e])return[]}else this.__cssUsage[e]=[t];delete this.__invalidClasspaths[e];var n=aria.templates.CSSCtxtManager.getContext(e,i);if(("aria.templates.GlobalStyle"==e||"aria.templates.LegacyGeneralStyle"==e||"aria.widgets.GlobalStyle"==e)&&this.__getPrefix(e),n.doPrefixing()){var a=this.__getPrefix(e);n.prefixText(a)}this.__textLoaded[e]={text:n.getText(),lines:n.getNumLines()};var s=this.__getStyleTag(n);return this.__styleTagAssociation[e]=s,this.__pathsLoaded.push(e),[s]},__getStyleTag:function(t){var e=t.tplClasspath,i=this.__styleTagAssociation[e];return i?i:(t.isTemplate()?i="tpl":t.isWidget()?i="wgt":(i="pool"+this.__NEXT_TAG_INDEX,this.__NEXT_TAG_INDEX+=1),i)},unloadWidgetDependencies:function(t,e){this.__cssDependencies[t]&&(e=this.__cssDependencies[t]),this.unloadClassPathDependencies(t,e)},unloadClassPathDependencies:function(t,e){if(e)for(var i=0,r=e.length;r>i;i+=1){var n=e[i];this.__unload(t,n)}},unloadDependencies:function(t){this.$assert(169,t.$TemplateCtxt);var e=t.getCSSDependencies(),i=t.tplClasspath;this.unloadClassPathDependencies(i,e),this.$raiseEvent({name:"dependenciesUnloaded",templateClasspath:i})},__getPrefix:function(t){var e=this.__prefixes[t];return e||(e=this.__PREFIX+this.__NEXT_PREFIX_INDEX,this.__NEXT_PREFIX_INDEX+=1,this.__prefixes[t]=e),e},__unload:function(t,e){this.$assert(230,t&&e);var i=aria.utils.Array.remove,r=this.__cssUsage[e];r&&r.length&&(i(r,t),i(this.__pathsLoaded,e),r.length||(delete this.__cssUsage[e],delete this.__textLoaded[e]))},__textToDOM:function(t){if(this.__isStopped)return this.__queuedChanges=t.concat(this.__queuedChanges),void 0;for(var e=this.__sortPaths(),i=0,r={},n=aria.utils.Array,a=0,s=e.length;s>a;a+=1){var o=e[a],l=this.__styleTagAssociation[o];n.contains(t,l)&&(r[l]||(r[l]=[]),r[l].push("/**",o,"**/",this.__textLoaded[o].text),i+=this.__textLoaded[o].lines||0)}return i>4e3&&this.$logWarn(this.CSSTEMPLATE_MAX_SELECTORS_REACHED),this.__reloadStyleTags(r)},__sortPaths:function(){var t=aria.utils.Object.keys(this.__textLoaded),e=this.__prefixes,i=this.__PREFIX.length,r=function(t,r){var n=e[t]?parseInt(e[t].substring(i),10):Number.MAX_VALUE,a=e[r]?parseInt(e[r].substring(i),10):Number.MAX_VALUE;return n===a?0:n>a?1:-1},n=t.sort(r);return e=null,i=null,n},__reloadStyleTags:function(t){for(var e in t)if(t.hasOwnProperty(e)){var i=this.__buildStyleIfMissing(e),r=t[e].join("\n");if(i.styleSheet)i.styleSheet.cssText!=r&&(i.styleSheet.cssText=r);else{var n;i.firstChild?i.firstChild.nodeValue!=r&&(n=Aria.$window.document.createTextNode(r),i.replaceChild(n,i.firstChild)):(n=Aria.$window.document.createTextNode(r),i.appendChild(n))}i=null}},__buildStyleIfMissing:function(t){var e=this.__styleTagPool[t];if(!e){var i=Aria.$window.document,r=i.getElementsByTagName("head")[0];e=i.createElement("style"),e.id=this.__TAG_PREFX+t,e.type="text/css",e.media="all",r.appendChild(e),e=r.lastChild,this.__styleTagPool[t]=e}return e},reset:function(){for(var t in this.__styleTagPool)this.__styleTagPool.hasOwnProperty(t)&&this.__styleTagPool[t].parentNode.removeChild(this.__styleTagPool[t]);this.__attachedToWindow&&(aria.utils.AriaWindow.detachWindow(),this.__attachedToWindow=!1),this.__styleTagPool={},this.__textLoaded={},this.__pathsLoaded=[],this.__prefixes={},this.__cssUsage={},this.__styleTagAssociation={},this.__invalidClasspaths={},this.__cssDependencies={},this.__PREFIX=this.classDefinition.$statics.__PREFIX,this.__NEXT_PREFIX_INDEX=this.classDefinition.$statics.__NEXT_PREFIX_INDEX,this.__NEXT_TAG_INDEX=this.classDefinition.$statics.__NEXT_TAG_INDEX,this.__TAG_PREFX=this.classDefinition.$statics.__TAG_PREFX},invalidate:function(t,e){aria.templates.CSSCtxtManager.disposeContext(t),!this.__invalidClasspaths[t]&&e&&(this.__invalidClasspaths[t]=!0,this.__invalidStack.push(t))},stop:function(){this.__isStopped=!0},resume:function(){this.__isStopped=!1;var t=this.__queuedChanges;return this.__queuedChanges=[],t.length>0?this.__textToDOM(t):void 0},registerDependencies:function(t,e){for(var i=0,r=e.length;r>i;i++){var n=e[i];this.__globalUsage[n]||(this.__globalUsage[n]=[]),this.__globalUsage[n].push(t)}},unregisterDependencies:function(t,e,i,r){for(var n=aria.utils.Array,a=aria.core.ClassMgr,s=0,o=e.length;o>s;s++){var l=e[s],c=this.__globalUsage[l];n.remove(c,t),i&&(a.unloadClass(l,r),this.invalidate(l,c.length>0))}},getInvalidClasspaths:function(t){var e=this.__invalidStack;return t&&(this.__invalidStack=[]),e}}});
//*******************
//LOGICAL-PATH:aria/templates/Modifiers.js
//*******************
(function(){var t,e={eat:{fn:function(){return""}},escape:{init:function(t){t.addDependencies(["aria.utils.String"])},fn:function(t){return aria.utils.String.escapeHTML(t+"")}},escapeforhtml:{init:function(t){t.addDependencies(["aria.utils.String"])},fn:function(t,e){return null==t?t:aria.utils.String.escapeForHTML(t+"",e)}},capitalize:{fn:function(t){return(t+"").toUpperCase()}},"default":{fn:function(t,e,i){return null!=t?t:i?aria.templates.Modifiers.callModifier(i,[e]):e}},empty:{fn:function(t,e,i){return t&&!/^\s*$/.test(t)?t:i?aria.templates.Modifiers.callModifier(i,[e]):e}},pad:{fn:function(t,e,i,r){t=""+t,r=r||"&nbsp;";var n=t.length;if(e>n){var a=i===!0,s=[],o=e-n;a||s.push(t);for(var l=0;o>l;l++)s.push(r);return a&&s.push(t),s.join("")}return t}},dateformat:{init:function(t){t.addDependencies(["aria.utils.Date","aria.utils.Type"])},fn:function(t,e){return aria.utils.Type.isDate(t)?aria.utils.Date.format(t,e):(this.$logError(aria.templates.Modifiers.DATEFORMAT_MODIFIER_ENTRY,[t]),void 0)}},timeformat:{init:function(t){t.addDependencies(["aria.utils.Date","aria.utils.Type"])},fn:function(t,e){return aria.utils.Type.isDate(t)?aria.utils.Date.format(t,e):(this.$logError(aria.templates.Modifiers.DATEFORMAT_MODIFIER_ENTRY,[t]),void 0)}},highlightfromnewword:{init:function(t){t.addDependencies(["aria.utils.String","aria.utils.Type"])},fn:function(e,i){var r=aria.utils,n=i.length;if(r.Type.isString(e)&&n){i=i.toLowerCase();var a,s=e.toLowerCase();if(0===s.indexOf(i))a=0;else{var o=i.replace(t,"\\$1"),l=RegExp("\\s"+o,"i").exec(s);if(!l)return e;a=l.index+1}var c=a,h=a+n,p=e.substring(c,h),u=r.String.stripAccents(p).toLowerCase();if(u===i)return e.substring(0,c)+"<strong>"+p+"</strong>"+e.substring(h)}return e}},starthighlight:{init:function(t){t.addDependencies(["aria.utils.String","aria.utils.Type"])},fn:function(t,e){if(aria.utils.Type.isString(t)&&e.length){var i=aria.utils.String.stripAccents(t.substring(0,e.length)).toLowerCase();if(e=e.toLowerCase(),i===e)return"<strong>"+t.substring(0,e.length)+"</strong>"+t.substring(e.length)}return t}},highlight:{init:function(t){t.addDependencies(["aria.utils.String","aria.utils.Type"])},fn:function(e,i){if(aria.utils.Type.isString(e)&&aria.utils.Type.isString(i)){var r=e.split(" "),n=i.split(" ").sort(function(t,e){var i=t.length,r=e.length;return i===r?0:r>i?1:-1});return aria.utils.Array.forEach(r,function(e,i,r){for(var a=0,s=n.length;e&&s>=a;a+=1)if(null!=n[a]&&""!==n[a]){var o=n[a].replace(t,"\\$1"),l=RegExp("\\b"+o,"gim");o.match(/\(/)&&(l=RegExp("[\\b\\(]"+o.replace("\\(",""),"gim"));var c=l.exec(e);if(null!=c&&c.length>0){var h="<strong>"+c[0]+"</strong>";if(r[i]=e.replace(l,h),e.match(l))break}}}),r.join(" ")}return e}}};Aria.classDefinition({$classpath:"aria.templates.Modifiers",$singleton:!0,$constructor:function(){t=RegExp("(\\"+"/.*+?|()[]{}\\".split("").join("|\\")+")","g")},$statics:{UNKNOWN_MODIFIER:"Unknown modifier %1.",DATEFORMAT_MODIFIER_ENTRY:"Entry %1 is not a date."},$prototype:{callModifier:function(t,i){t=""+t;var r=e[t.toLowerCase()];return r?r.fn.apply(this,i):(this.$logError(aria.templates.Modifiers.UNKNOWN_MODIFIER,[t]),void 0)},initModifier:function(t,i){var r=e[t];r&&r.init&&r.init(i)}}})})();
//*******************
//LOGICAL-PATH:aria/templates/BaseTemplate.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.BaseTemplate",$dependencies:["aria.templates.Modifiers","aria.templates.IBaseTemplate","aria.utils.Json"],$destructor:function(){},$statics:{EXCEPTION_IN_MACRO:"Uncaught exception in macro '%1', line %2",EXCEPTION_IN_VARINIT:"Uncaught exception when initializing global variables in template '%0'.",ITERABLE_UNDEFINED:"line %2: Template error: cannot iterate over a null or undefined variable.",EXCEPTION_IN_EXPRESSION:"line %2: Uncaught runtime exception in expression '%1'",EXCEPTION_IN_VAR_EXPRESSION:"line %2: Uncaught runtime exception in var expression '%1'",EXCEPTION_IN_SET_EXPRESSION:"line %2: Uncaught runtime exception in set expression '%1'",EXCEPTION_IN_CHECKDEFAULT_EXPRESSION:"line %2: Uncaught runtime exception in checkdefault expression '%1'",MACRO_NOT_FOUND:"line %1: Template error: macro '%2' is not defined."},$prototype:{$json:aria.utils.Json,$init:function(t){var e=aria.templates.IBaseTemplate.prototype;for(var i in e)e.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=e[i]);t.$modifier=aria.templates.Modifiers.callModifier}}});
//*******************
//LOGICAL-PATH:aria/templates/CSSTemplate.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.CSSTemplate",$extends:"aria.templates.BaseTemplate",$dependencies:["aria.templates.ICSS"],$constructor:function(){this.$BaseTemplate.constructor.call(this);var t=aria.core.Cache.getFilename(this.$classpath),e=aria.core.DownloadMgr.resolveURL(t,!0);this.cssPath="/"+this.$classpath.replace(/\./g,"/"),this.cssFolderPath=e.substring(0,e.lastIndexOf("/"))},$destructor:function(){this.$BaseTemplate.$destructor.call(this)},$prototype:{$init:function(t,e){t.$BaseTemplate.constructor.classDefinition.$prototype.$init(t,e);var i=aria.templates.ICSS.prototype;for(var r in i)i.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(t[r]=i[r])}}});
//*******************
//LOGICAL-PATH:aria/utils/css/Transitions.tpl.css
//*******************
Aria.classDefinition({$classpath:"aria.utils.css.Transitions",$extends:"aria.templates.CSSTemplate",$constructor:function(){this.$CSSTemplate.constructor.call(this)},$destructor:function(){this.$CSSTemplate.$destructor.call(this)},$prototype:{macro_main:function(){try{with(this)this.__$write("\n.xanimation-element {\nvisibility: hidden;\n",23),this.macro_generatePrefix("backface-visibility","hidden"),this.__$write("\n}\n\n.xanimation-element-active {\ndisplay: block;\noverflow: visible;\n}\n\n.xanimation-element {\noutline: none;\n}\n\n.xviewport-xanimation,\n.xviewport-xanimation .xanimation-element {\nwidth: 100%;\nheight: 100%;\noverflow: hidden;\n-webkit-box-sizing: border-box;\n-moz-box-sizing: border-box;\nbox-sizing: border-box;\n}\n\n.xin, .xinMix, .xin3d {\n",26),this.macro_generatePrefix("animation-timing-function","ease-out"),this.macro_generatePrefix("animation-duration","350ms"),this.__$write("\n}\n.xout, .xoutMix, .xout3d {\n",50),this.macro_generatePrefix("animation-timing-function","ease-in"),this.macro_generatePrefix("animation-duration","225ms"),this.__$write("\n}\n\n\n",54),this.macro_generateKeyFrames("fadein","opacity: 0;","opacity: 1;"),this.macro_generateKeyFrames("fadeout","opacity: 1;","opacity: 0;"),this.__$write("\n\n.xfade.xout, .xfade.xoutMix, .xfade.xout3d {\nopacity: 0;\n",59),this.macro_generatePrefix("animation-duration","125ms"),this.macro_generatePrefix("animation-name","fadeout"),this.__$write("\n}\n.xfade.xin, .xfade.xinMix, .xfade.xin3d {\nopacity: 1;\n",64),this.macro_generatePrefix("animation-duration","225ms"),this.macro_generatePrefix("animation-name","fadein"),this.__$write("\n}\n\n\n.xpop {\n",69),this.macro_generatePrefix("transform-origin","50% 50%"),this.__$write("\n}\n.xpop.xin, .xpop.xinMix {\n",74),this.macro_generatePrefix("transform","scale(1)"),this.__$write("\nopacity: 1;\n",77),this.macro_generatePrefix("animation-name","popin"),this.macro_generatePrefix("animation-duration","350ms"),this.__$write("\n}\n.xpop.xin3d {\n",80),this.macro_generatePrefix("transform","scale3d(1,1,1)"),this.__$write("\nopacity: 1;\n",83),this.macro_generatePrefix("animation-name","popin3d"),this.macro_generatePrefix("animation-duration","350ms"),this.__$write("\n}\n.xpop.xout, .xpop.xoutMix, .xpop.xout3d {\n",86),this.macro_generatePrefix("animation-name","fadeout"),this.__$write("\nopacity: 0;\n",89),this.macro_generatePrefix("animation-duration","100ms"),this.__$write("\n}\n.xpop.xin.xreverse, .xpop.xinMix.xreverse, .xpop.xin3d.xreverse {\n",91),this.macro_generatePrefix("animation-name","fadein"),this.__$write("\n}\n.xpop.xout.xreverse, .xpop.xoutMix.xreverse {\n",94),this.macro_generatePrefix("transform","scale(.8)"),this.macro_generatePrefix("animation-name","popout"),this.__$write("\n}\n.xpop.xout3d.xreverse {\n",98),this.macro_generatePrefix("transform","scale3d(.8, .8, .8)"),this.macro_generatePrefix("animation-name","popout3d"),this.__$write("\n}\n\n",102),this.macro_generateKeyFrames("popin","transform: scale(.8);opacity: 0;","transform: scale(1);opacity: 1;"),this.macro_generateKeyFrames("popout","transform: scale(1);opacity: 1;","transform: scale(.8);opacity: 0;"),this.macro_generateKeyFrames("popin3d","transform: scale3d(.8, .8, .8);opacity: 0;","transform: scale3d(1, 1, 1);opacity: 1;"),this.macro_generateKeyFrames("popout3d","transform: scale3d(1, 1, 1);opacity: 1;","transform: scale3d(.8, .8, .8);opacity: 0;"),this.macro_generateKeyFrames("slideinfromright","transform: translateX(100%);","transform: translateX(0);"),this.macro_generateKeyFrames("slideinfromleft","transform: translateX(-100%);","transform: translateX(0);"),this.macro_generateKeyFrames("slideouttoleft","transform: translateX(0);","transform: translateX(-100%);"),this.macro_generateKeyFrames("slideouttoright","transform: translateX(0);","transform: translateX(100%);"),this.macro_generateKeyFrames("slideinfromrightmix","transform: translateZ(0) translateX(100%);","transform: translateZ(0) translateX(0);"),this.macro_generateKeyFrames("slideinfromleftmix","transform: translateZ(0) translateX(-100%);","transform: translateZ(0) translateX(0);"),this.macro_generateKeyFrames("slideouttoleftmix","transform: translateZ(0) translateX(0);","transform: translateZ(0) translateX(-100%);"),this.macro_generateKeyFrames("slideouttorightmix","transform: translateZ(0) translateX(0);","transform: translateZ(0) translateX(100%);"),this.macro_generateKeyFrames("slideinfromright3d","transform: translate3d(100%, 0, 0);","transform: translate3d(0, 0 , 0);"),this.macro_generateKeyFrames("slideinfromleft3d","transform: translate3d(-100%, 0, 0);","transform: translate3d(0, 0 , 0);"),this.macro_generateKeyFrames("slideouttoleft3d","transform: translate3d(0, 0 , 0);","transform: translate3d(-100%, 0, 0);"),this.macro_generateKeyFrames("slideouttoright3d","transform: translate3d(0, 0 , 0);","transform: translate3d(100%, 0, 0);"),this.__$write("\n\n.xslide.xout, .xslide.xin, .xslide.xoutMix, .xslide.xinMix, .xslide.xin3d, .xslide.xout3d {\n",125),this.macro_generatePrefix("animation-timing-function","ease-out"),this.macro_generatePrefix("animation-duration","350ms"),this.__$write("\n}\n.xslide.xout {\n",129),this.macro_generatePrefix("transform","translateX(-100%)"),this.macro_generatePrefix("animation-name","slideouttoleft"),this.__$write("\n}\n.xslide.xoutMix {\n",133),this.macro_generatePrefix("transform","translateZ(0) translateX(-100%)"),this.macro_generatePrefix("animation-name","slideouttoleftmix"),this.__$write("\n}\n.xslide.xout3d {\n",137),this.macro_generatePrefix("transform","translate3d(-100%, 0, 0)"),this.macro_generatePrefix("animation-name","slideouttoleft3d"),this.__$write("\n}\n.xslide.xin {\n",141),this.macro_generatePrefix("transform","translateX(0)"),this.macro_generatePrefix("animation-name","slideinfromright"),this.__$write("\n}\n.xslide.xinMix {\n",145),this.macro_generatePrefix("transform","translateZ(0) translateX(0)"),this.macro_generatePrefix("animation-name","slideinfromrightmix"),this.__$write("\n}\n.xslide.xin3d {\n",149),this.macro_generatePrefix("transform","translate3d(0, 0, 0)"),this.macro_generatePrefix("animation-name","slideinfromright3d"),this.__$write("\n}\n.xslide.xout.xreverse {\n",153),this.macro_generatePrefix("transform","translateX(100%)"),this.macro_generatePrefix("animation-name","slideouttoright"),this.__$write("\n}\n.xslide.xoutMix.xreverse {\n",157),this.macro_generatePrefix("transform","translateZ(0) translateX(100%)"),this.macro_generatePrefix("animation-name","slideouttorightmix"),this.__$write("\n}\n.xslide.xout3d.xreverse {\n",161),this.macro_generatePrefix("transform","translate3d(100%, 0, 0)"),this.macro_generatePrefix("animation-name","slideouttoright3d"),this.__$write("\n}\n.xslide.xin.xreverse {\n",165),this.macro_generatePrefix("transform","translateX(0)"),this.macro_generatePrefix("animation-name","slideinfromleft"),this.__$write("\n}\n.xslide.xinMix.xreverse {\n",169),this.macro_generatePrefix("transform","translateZ(0) translateX(0)"),this.macro_generatePrefix("animation-name","slideinfromleftmix"),this.__$write("\n}\n.xslide.xin3d.xreverse {\n",173),this.macro_generatePrefix("transform","translate3d(0, 0, 0)"),this.macro_generatePrefix("animation-name","slideinfromleft3d"),this.__$write("\n}\n\n.xslidedown.xout, .xslidedown.xoutMix, .xslidedown.xout3d {\n",177),this.macro_generatePrefix("animation-name","fadeout"),this.macro_generatePrefix("animation-duration","100ms"),this.__$write("\n}\n.xslidedown.xin {\n",182),this.macro_generatePrefix("transform","translateY(0)"),this.macro_generatePrefix("animation-name","slideinfromtop"),this.macro_generatePrefix("animation-duration","250ms"),this.__$write("\n}\n.xslidedown.xinMix {\n",187),this.macro_generatePrefix("transform","translateZ(0) translateY(0)"),this.macro_generatePrefix("animation-name","slideinfromtopmix"),this.macro_generatePrefix("animation-duration","250ms"),this.__$write("\n}\n.xslidedown.xin3d {\n",192),this.macro_generatePrefix("transform","translate3d(0, 0, 0)"),this.macro_generatePrefix("animation-name","slideinfromtop3d"),this.macro_generatePrefix("animation-duration","250ms"),this.__$write("\n}\n.xslidedown.xin.xreverse, .xslidedown.xinMix.xreverse, .xslidedown.xin3d.xreverse {\n",197),this.macro_generatePrefix("animation-name","fadein"),this.macro_generatePrefix("animation-duration","150ms"),this.__$write("\n}\n.xslidedown.xout.xreverse {\n",201),this.macro_generatePrefix("transform","translateY(-100%)"),this.macro_generatePrefix("animation-name","slideouttotop"),this.macro_generatePrefix("animation-duration","200ms"),this.__$write("\n}\n.xslidedown.xoutMix.xreverse {\n",206),this.macro_generatePrefix("transform","translateZ(0) translateY(-100%)"),this.macro_generatePrefix("animation-name","slideouttotopmix"),this.macro_generatePrefix("animation-duration","200ms"),this.__$write("\n}\n.xslidedown.xout3d.xreverse {\n",211),this.macro_generatePrefix("transform","translate3d(0, -100%, 0)"),this.macro_generatePrefix("animation-name","slideouttotop3d"),this.macro_generatePrefix("animation-duration","200ms"),this.__$write("\n}\n\n",216),this.macro_generateKeyFrames("slideinfromtop","transform: translateY(-100%);","transform: translateY(0);"),this.macro_generateKeyFrames("slideouttotop","transform: translateY(0);","transform: translateY(-100%);"),this.macro_generateKeyFrames("slideinfromtopmix","transform: translateZ(0) translateY(-100%);","transform: translateZ(0) translateY(0);"),this.macro_generateKeyFrames("slideouttotopmix","transform: translateZ(0) translateY(0);","transform: translateZ(0) translateY(-100%);"),this.macro_generateKeyFrames("slideinfromtop3d","transform: translate3d(0, -100%, 0);","transform: translate3d(0, 0, 0);"),this.macro_generateKeyFrames("slideouttotop3d","transform: translate3d(0, 0, 0);","transform: translate3d(0, -100%, 0);"),this.__$write("\n\n\n.xslideup.xout, .xslideup.xoutMix, .xslideup.xout3d {\n",226),this.macro_generatePrefix("animation-name","fadeout"),this.macro_generatePrefix("animation-duration","100ms"),this.__$write("\n}\n.xslideup.xin {\n",231),this.macro_generatePrefix("transform","translateY(0)"),this.macro_generatePrefix("animation-name","slideinfrombottom"),this.macro_generatePrefix("animation-duration","250ms"),this.__$write("\n}\n.xslideup.xinMix {\n",236),this.macro_generatePrefix("transform","translateZ(0) translateY(0)"),this.macro_generatePrefix("animation-name","slideinfrombottommix"),this.macro_generatePrefix("animation-duration","250ms"),this.__$write("\n}\n.xslideup.xin3d {\n",241),this.macro_generatePrefix("transform","translate3d(0, 0, 0)"),this.macro_generatePrefix("animation-name","slideinfrombottom3d"),this.macro_generatePrefix("animation-duration","250ms"),this.__$write("\n}\n.xslideup.xin.xreverse, .xslideup.xinMix.xreverse, .xslideup.xin3d.xreverse {\n",246),this.macro_generatePrefix("animation-name","fadein"),this.macro_generatePrefix("animation-duration","150ms"),this.__$write("\n}\n.xslideup.xout.xreverse {\n",250),this.macro_generatePrefix("transform","translateY(100%)"),this.macro_generatePrefix("animation-name","slideouttobottom"),this.macro_generatePrefix("animation-duration","250ms"),this.__$write("\n}\n.xslideup.xoutMix.xreverse {\n",255),this.macro_generatePrefix("transform","translateZ(0) translateY(100%)"),this.macro_generatePrefix("animation-name","slideouttobottommix"),this.macro_generatePrefix("animation-duration","250ms"),this.__$write("\n}\n.xslideup.xout3d.xreverse {\n",260),this.macro_generatePrefix("transform","translate3d(0, 100%, 0)"),this.macro_generatePrefix("animation-name","slideouttobottom3d"),this.macro_generatePrefix("animation-duration","250ms"),this.__$write("\n}\n\n",265),this.macro_generateKeyFrames("slideinfrombottom","transform: translateY(100%);","transform: translateY(0);"),this.macro_generateKeyFrames("slideouttobottom","transform: translateY(0);","transform: translateY(100%);"),this.macro_generateKeyFrames("slideinfrombottommix","transform: translateZ(0) translateY(100%);","transform: translateZ(0) translateY(0);"),this.macro_generateKeyFrames("slideouttobottommix","transform: translateZ(0) translateY(0);","transform: translateZ(0) translateY(100%);"),this.macro_generateKeyFrames("slideinfrombottom3d","transform: translate3d(0, 100%, 0);","transform: translate3d(0, 0, 0);"),this.macro_generateKeyFrames("slideouttobottom3d","transform: translate3d(0, 0, 0);","transform: translate3d(0, 100%, 0);"),this.__$write("\n\n.xviewport-xflip {\n",275),this.macro_generatePrefix("perspective","1000"),this.__$write("\nposition: absolute;\n}\n\n.xflip {\n",278),this.macro_generatePrefix("backface-visibility","hidden"),this.macro_generatePrefix("transform","translateX(0)"),this.__$write("\n}\n.xflip.xout {\n",284),this.macro_generatePrefix("transform","rotateY(-90deg) scale(.9)"),this.macro_generatePrefix("animation-name","flipouttoleft"),this.macro_generatePrefix("animation-duration","175ms"),this.__$write("\n}\n.xflip.xoutMix {\n",289),this.macro_generatePrefix("transform","rotateZ(0) rotateY(-90deg) scale(.9)"),this.macro_generatePrefix("animation-name","flipouttoleftmix"),this.macro_generatePrefix("animation-duration","175ms"),this.__$write("\n}\n.xflip.xout3d {\n",294),this.macro_generatePrefix("transform","rotate3d(0, 1, 0, -90deg) scale3d(.9, .9, .9)"),this.macro_generatePrefix("animation-name","flipouttoleft3d"),this.macro_generatePrefix("animation-duration","175ms"),this.__$write("\n}\n.xflip.xin {\n",299),this.macro_generatePrefix("animation-name","flipintoright"),this.macro_generatePrefix("animation-duration","225ms"),this.__$write("\n}\n.xflip.xinMix {\n",303),this.macro_generatePrefix("animation-name","flipintorightmix"),this.macro_generatePrefix("animation-duration","225ms"),this.__$write("\n}\n.xflip.xin3d {\n",307),this.macro_generatePrefix("animation-name","flipintoright3d"),this.macro_generatePrefix("animation-duration","225ms"),this.__$write("\n}\n.xflip.xout.xreverse {\n",311),this.macro_generatePrefix("transform","rotateY(90deg) scale(.9)"),this.macro_generatePrefix("animation-name","flipouttoright"),this.__$write("\n}\n.xflip.xoutMix.xreverse {\n",315),this.macro_generatePrefix("transform","rotateZ(0) rotateY(90deg) scale(.9)"),this.macro_generatePrefix("animation-name","flipouttorightmix"),this.__$write("\n}\n.xflip.xout3d.xreverse {\n",319),this.macro_generatePrefix("transform","rotate3d(0, 1, 0, 90deg) scale3d(.9, .9, .9)"),this.macro_generatePrefix("animation-name","flipouttoright3d"),this.__$write("\n}\n.xflip.xin.xreverse {\n",323),this.macro_generatePrefix("animation-name","flipintoleft"),this.__$write("\n}\n.xflip.xinMix.xreverse {\n",326),this.macro_generatePrefix("animation-name","flipintoleftmix"),this.__$write("\n}\n.xflip.xin3d.xreverse {\n",329),this.macro_generatePrefix("animation-name","flipintoleft3d"),this.__$write("\n}\n\n",332),this.macro_generateKeyFrames("flipouttoleft","transform: rotateY(0);","transform: rotateY(-90deg) scale(.9);"),this.macro_generateKeyFrames("flipouttoright","transform: rotateY(0);","transform: rotateY(90deg) scale(.9);"),this.macro_generateKeyFrames("flipintoleft","transform: rotateY(-90deg) scale(.9);","transform: rotateY(0);"),this.macro_generateKeyFrames("flipintoright","transform: rotateY(90deg) scale(.9);","transform: rotateY(0);"),this.macro_generateKeyFrames("flipouttoleftmix","transform: rotateZ(0) rotateY(0);","transform: rotateZ(0) rotateY(-90deg) scale(.9);"),this.macro_generateKeyFrames("flipouttorightmix","transform: rotateZ(0) rotateY(0);","transform: rotateZ(0) rotateY(90deg) scale(.9);"),this.macro_generateKeyFrames("flipintoleftmix","transform: rotateZ(0) rotateY(-90deg) scale(.9);","transform: rotateZ(0) rotateY(0);"),this.macro_generateKeyFrames("flipintorightmix","transform: rotateZ(0) rotateY(90deg) scale(.9);","transform: rotateZ(0) rotateY(0);"),this.macro_generateKeyFrames("flipouttoleft3d","transform: rotate3d(0, 0, 0, 0);","transform: rotate3d(0, 1, 0, -90deg) scale(.9, .9, .9);"),this.macro_generateKeyFrames("flipouttoright3d","transform: rotate3d(0, 0, 0, 0);","transform: rotate3d(0, 1, 0, 90deg) scale(.9, .9, .9);"),this.macro_generateKeyFrames("flipintoleft3d","transform: rotate3d(0, 1, 0, -90deg) scale(.9, .9, .9);","transform: rotate3d(0, 0, 0, 0);"),this.macro_generateKeyFrames("flipintoright3d","transform: rotate3d(0, 1, 0, 90deg) scale(.9, .9, .9);","transform: rotate3d(0, 0, 0, 0);")}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["main",this["aria:currentLineNumber"]],_ex)}},macro_generatePrefix:function(property,value){try{with(this){for(var prefixes=["-webkit-","-moz-","-ms-","-o-"],i=0;prefixes.length>i;i+=1)this.__$write(prefixes[i],354),this.__$write(property,354),this.__$write(": ",354),this.__$write(value,354),this.__$write(";\n",354);this.__$write(property,356),this.__$write(": ",356),this.__$write(value,356),this.__$write(";\n",356)}}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["generatePrefix",this["aria:currentLineNumber"]],_ex)}},macro_generateKeyFrames:function(name,from,to){try{with(this){for(var prefixes=["-webkit-","-moz-","-o-"],i=0;prefixes.length>i;i+=1)this.__$write("\n@",363),this.__$write(prefixes[i],363),this.__$write("keyframes ",363),this.__$write(name,363),this.__$write(" {\nfrom { ",363),this.__$write(prefixes[i],364),this.__$write(from,364),this.__$write(" }\nto { ",364),this.__$write(prefixes[i],365),this.__$write(to,365),this.__$write(" }\n}\n",365);this.__$write("\n@keyframes ",368),this.__$write(name,368),this.__$write(" {\nfrom { ",368),this.__$write(from,369),this.__$write(" }\nto { ",369),this.__$write(to,370),this.__$write(" }\n}\n",370)}}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["generateKeyFrames",this["aria:currentLineNumber"]],_ex)}},$init:function(t){t.__$csslibs={},t.__$prefix=!1},__$initTemplate:function(){return!0}}});
//*******************
//LOGICAL-PATH:aria/utils/css/Animations.js
//*******************
Aria.classDefinition({$classpath:"aria.utils.css.Animations",$dependencies:["aria.utils.ClassList","aria.utils.Delegate","aria.templates.CSSMgr"],$css:["aria.utils.css.Transitions"],$constructor:function(){this._name="",this._cfg={},aria.templates.CSSMgr.loadClassPathDependencies("aria.utils.css.Animations",["aria.utils.css.Transitions"])},$destructor:function(){aria.templates.CSSMgr.unloadClassPathDependencies("aria.utils.css.Animations",["aria.utils.css.Transitions"])},$events:{animationend:""},$prototype:{start:function(t,e){this._name="x"+t,this._cfg.from=e.from,this._cfg.to=e.to,this._cfg.reverse=e.reverse?"xreverse":"",this._cfg.sequential=this._isSequential(),this._cfg.type=e.type,this._cfg.hiddenClass=e.hiddenClass,this._toggleClassBody(),this._cfg.from?this._startOut():this._doneOut()},_startOut:function(){this._cfg.sequential?aria.utils.Event.addListener(this._cfg.from,this._animationEndEvent(),{fn:this._doneOut,scope:this}):this._doneOut(),this._addOutClass(this._cfg.from)},_doneOut:function(){this._cfg.from&&this._cfg.sequential&&this._cleanFrom(),this._cfg.to?this._startIn():this._doneIn()},_startIn:function(){aria.utils.Event.addListener(this._cfg.to,this._animationEndEvent(),{fn:this._doneIn,scope:this}),this._addInClass(this._cfg.to)},_doneIn:function(){!this._cfg.sequential&&this._cfg.from&&this._cleanFrom(),this._cfg.to&&(this._removeClass(this._cfg.to,"xout xin xreverse xinMix xoutMix xin3d xout3d "+this._name),aria.utils.Event.removeListener(this._cfg.to,this._animationEndEvent())),this._toggleClassBody(),this.$raiseEvent({name:"animationend",animation:this._name.substring(1)+(this._cfg.reverse?" reverse":"")})},_addOutClass:function(t){1!=this._cfg.type&&this._cfg.type?2==this._cfg.type?this._addClass(t,this._name+" xoutMix"+" "+this._cfg.reverse):3==this._cfg.type&&this._addClass(t,this._name+" xout3d"+" "+this._cfg.reverse):this._addClass(t,this._name+" xout"+" "+this._cfg.reverse)},_addInClass:function(t){this._cfg.hiddenClass?this._removeClass(t,this._cfg.hiddenClass):this._removeClass(t,"xanimation-element"),1!=this._cfg.type&&this._cfg.type?2==this._cfg.type?this._addClass(t,this._name+" xinMix"+" "+this._cfg.reverse):3==this._cfg.type&&this._addClass(t,this._name+" xin3d"+" "+this._cfg.reverse):this._addClass(t,this._name+" xin"+" "+this._cfg.reverse)},_addClass:function(t,e){var i=new aria.utils.ClassList(t);i.add(e),i.$dispose()},_removeClass:function(t,e){var i=new aria.utils.ClassList(t);i.remove(e),i.$dispose()},_cleanFrom:function(){this._removeClass(this._cfg.from,"xout xin xreverse xinMix xoutMix xin3d xout3d "+this._name),this._cfg.hiddenClass?this._addClass(this._cfg.from,this._cfg.hiddenClass):this._addClass(this._cfg.from,"xanimation-element"),aria.utils.Event.removeListener(this._cfg.from,this._animationEndEvent())},_toggleClassBody:function(){var t=new aria.utils.ClassList(Aria.$window.document.body);t.toggle("xviewport-xanimation"),t.toggle("xviewport-"+this._name),t.$dispose()},_isSequential:function(){return"xslide"==this._name&&this._cfg.from&&this._cfg.to?!1:!0},_animationEndEvent:function(){var t=(aria.utils.Delegate.vendorPrefix||"").toLowerCase();switch(t){case"webkit":return"webkitAnimationEnd";case"moz":return"animationend";case"o":return"oanimationend";case"ms":return"MSAnimationEnd"}}}});
//*******************
//LOGICAL-PATH:aria/utils/css/Effects.js
//*******************
(function(){function t(t){return Math.round(100*t)/100}Aria.classDefinition({$classpath:"aria.utils.css.Effects",$dependencies:["aria.utils.css.Units","aria.utils.css.PropertiesConfig"],$singleton:!0,$statics:{DEFAULT_INTERVAL:20,DEFAULT_DURATION:1e3,DEFAULT_EASING:"linear",DEFAULT_QUEUE_KEY:"default",NO_PROPERTY_TO_ANIMATE:"No valid property to animate.",__easing:{linear:function(t){return t},"ease-in-out":function(t){var e=3;return(Math.atan(2*e*t-e)+Math.atan(e))/(2*Math.atan(e))},"ease-out":function(t){var e=3;return Math.atan(e*t)/Math.atan(e)},"ease-in":function(t){var e=1.3;return Math.tan(e*t)/Math.tan(e)}},_computeInterpolation:function(e,i,r,n,a,s){var o=n,l=a,h=i,c=r,u=s,d=(u-o)/(l-o),p=c-h,f=h+e(d)*p;return t(f)}},$constructor:function(){this.cfg=aria.utils.css.PropertiesConfig,this.unitUtil=aria.utils.css.Units,this.queues={},this.animations={},this.animCount=0;var t=Aria.$window.document.createElement("div");t.style.cssText="height: 1in; left: -100%; position: absolute; top: -100%; width: 1in;",t.id="dpiDetectionTest",Aria.$window.document.body.appendChild(t),this.dpi={x:Aria.$window.document.getElementById("dpiDetectionTest").offsetWidth,y:Aria.$window.document.getElementById("dpiDetectionTest").offsetHeight},Aria.$window.document.body.removeChild(t)},$prototype:{animate:function(t,e,i){var r;i=i||{};var n=t,a={props:[]};return aria.utils.Type.isHTMLElement(t)||(n=aria.utils.Dom.getElementById(t)),a.duration=i.duration?parseInt(i.duration,10):this.DEFAULT_DURATION,a.interval=i.interval?parseInt(i.interval,10):this.DEFAULT_INTERVAL,null!=i.easing&&(aria.utils.Type.isFunction(i.easing)?a.easing=i.easing:aria.utils.Type.isString(i.easing)&&(a.easing=this.__easing[i.easing])),a.easing=a.easing||this.__easing[this.DEFAULT_EASING],a.queue=i.queue===!0?this.DEFAULT_QUEUE_KEY:null!=i.queue?this.__getQueueKey(i.queue):!1,a.element=n,a.userProperties=e,a.onStartAnimation=i.onStartAnimation,a.onEndAnimation=i.onEndAnimation,a.onEndQueue=i.onEndQueue,a.queue?this.queues[a.queue]?(r=this._createAnimationSpot(),this.queues[a.queue].list.push(a)):(this.queues[a.queue]={list:[a],onEndQueue:i.onEndQueue},this.$callback(i.onStartQueue),r=this._createAndLaunchAnimation(n,a)):r=this._createAndLaunchAnimation(n,a),a.idTiming=r,r},_createAnimationSpot:function(){return++this.animCount%1e15},_createAndLaunchAnimation:function(t,e){return this._launchAnimation(t,e,this._createAnimationSpot())},_launchAnimation:function(t,e,i){var r=this.cfg.PROPERTIES;this.$callback(e.onStartAnimation),e.start=(new Date).getTime(),e.end=e.start+e.duration;for(var n in e.userProperties)if(e.userProperties.hasOwnProperty(n)){var a,s,o,l,h,c,u;if(u=e.userProperties[n]+"",s=u.match(/^[\+\-]/),o=this.__getUnit(u,n),l=parseFloat(u),h=this.__getProperty(t,n),c=this.__getUnit(h,n),a=parseFloat(h)||0,aria.utils.Type.isNumber(l)&&aria.utils.Type.isNumber(a)&&n in r&&(!r[n].percentNotAdmitted||"%"!=o)){var d=[],p=!1;if(r[n].orientation==this.cfg.COMPOSITE&&null!=r[n].subProperties)for(var f,_=0,m=r[n].subProperties.length;m>_;_++){var g=r[n].subProperties[_],y=this.__getProperty(t,g),$=this.__getUnit(y,g),v=parseFloat(y)||0;d.push({prop:g,currentValueNum:v,currentUnit:$}),_>0&&y!=f&&(p=!0),f=y}p||(d=[{prop:n,currentValueNum:a,currentUnit:c}]);for(var _=0,m=d.length;m>_;_++){var w=d[_].currentValueNum;d.currentUnit!=o&&(w=this.unitUtil.convertFromPixels(o,d[_].currentValueNum,t,d[_].prop)),e.props.push({prop:d[_].prop,origin:w,dest:l,unit:o})}}}if(delete e.userProperties,e.props.length>0){var x=setInterval(function(i){return function(){i._interpolate.call(i,t,e)}}(this),e.interval);this.animations[i]=x}else this.$logWarn(this.NO_PROPERTY_TO_ANIMATE);return i},_interpolate:function(t,e){for(var i=(new Date).getTime(),r=i>=e.end,n=0,a=e.props.length;a>n;n++){var s,o=e.props[n];s=r?o.dest:this._computeInterpolation(e.easing,o.origin,o.dest,e.start,e.end,i),this.__setProperty(e.element,o.prop,s,o.unit)}if(r&&(this.$callback(e.onEndAnimation),clearInterval(this.animations[e.idTiming]),delete this.animations[e.idTiming],e.queue))if(this.queues[e.queue].list.shift(),0===this.queues[e.queue].list.length)this.$callback(this.queues[e.queue].onEndQueue),delete this.queues[e.queue];else{var l=this.queues[e.queue].list[0];this._launchAnimation(t,l,l.idTiming)}},__getUnit:function(t,e){var i=RegExp("("+this.cfg.UNITS.join("|")+")$"),r=aria.utils.String.trim(t).toLowerCase().match(i);return"opacity"==e||"scrollTop"==e||"scrollLeft"==e?null:r?r[0]:"px"},__getQueueKey:function(t){return"_"+t},__getProperty:function(t,e){var i;return i=this.cfg.PROPERTIES[e]&&!this.cfg.PROPERTIES[e].notStyleProperty?aria.utils.Dom.getStyle(t,e):t[e],null==i?"":""+i},__setProperty:function(t,e,i,r){var n=aria.core.Browser;this.cfg.PROPERTIES[e]&&!this.cfg.PROPERTIES[e].notStyleProperty?"opacity"==e&&(n.isIE6||n.isIE7||n.isIE8)?t.style.filter="alpha(opacity = "+100*i+")":t.style[e]=i+r:t[e]=i}}})})();
//*******************
//LOGICAL-PATH:aria/touch/Event.js
//*******************
Aria.classDefinition({$singleton:!0,$classpath:"aria.touch.Event",$constructor:function(){this.touchEventMap={touchstart:"touchstart",touchend:"touchend",touchmove:"touchmove"},this.touch=!0,this.__touchDetection()},$prototype:{__touchDetection:function(){this.touch="ontouchstart"in Aria.$frameworkWindow||Aria.$frameworkWindow.DocumentTouch&&Aria.$frameworkWindow.document instanceof Aria.$frameworkWindow.DocumentTouch,this.touch||(this.touchEventMap={touchstart:"mousedown",touchend:"mouseup",touchmove:"mousemove"}),Aria.$window.navigator.msPointerEnabled&&(this.touchEventMap={touchstart:"MSPointerDown",touchend:"MSPointerUp",touchmove:"MSPointerMove"})},getPositions:function(t){var e=[];if(t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0]){for(var i=0;t.touches.length>i;i++)e.push({x:t.touches[i].pageX?t.touches[i].pageX:t.touches[i].clientX,y:t.touches[i].pageY?t.touches[i].pageY:t.touches[i].clientY});if(t.type==this.touchEventMap.touchend)for(var i=0;t.changedTouches.length>i;i++)e.push({x:t.changedTouches[i].pageX?t.changedTouches[i].pageX:t.changedTouches[i].clientX,y:t.changedTouches[i].pageY?t.changedTouches[i].pageY:t.changedTouches[i].clientY})}else e.push({x:t.pageX?t.pageX:t.clientX,y:t.pageY?t.pageY:t.clientY});return e},getFingerIndex:function(t){var e=0;if(Aria.$window.navigator.msPointerEnabled)e=t.isPrimary?0:1;else if(t.touches||t.changedTouches)if(t.changedTouches.length>1)e=100+t.changedTouches.length;else if(t.type==this.touchEventMap.touchend)e=t.touches.length+t.changedTouches.length-1;else for(var i=t.changedTouches[0].pageX?t.changedTouches[0].pageX:t.changedTouches[0].clientX,r=t.changedTouches[0].pageY?t.changedTouches[0].pageY:t.changedTouches[0].clientY,n=0;t.touches.length>n;n++)if(i==(t.touches[n].pageX?t.touches[n].pageX:t.touches[n].clientX)&&r==(t.touches[n].pageY?t.touches[n].pageY:t.touches[n].clientY)){e=n;break}return e}}});
//*******************
//LOGICAL-PATH:aria/utils/Mouse.js
//*******************
(function(){function t(t){var e=Aria.$window.document.body;n.addListener(e,"mousemove",{fn:t._onMouseMove,scope:t}),n.addListener(e,"mouseup",{fn:t._onMouseUp,scope:t}),n.addListener(e,"touchmove",{fn:t._onMouseMove,scope:t}),n.addListener(e,"touchend",{fn:t._onMouseUp,scope:t})}function e(t){var e=Aria.$window.document.body;n.removeListener(e,"mousemove",{fn:t._onMouseMove,scope:t}),n.removeListener(e,"mouseup",{fn:t._onMouseUp,scope:t}),n.removeListener(e,"touchmove",{fn:t._onMouseMove,scope:t}),n.removeListener(e,"touchend",{fn:t._onMouseUp,scope:t})}function i(t,e,i,n){for(var r,a=t;i&&a&&a!=n;){if(a.attributes){var r=a.attributes[e];if(r)return r.nodeValue}a=a.parentNode,i--}}var n,r=0;Aria.classDefinition({$classpath:"aria.utils.Mouse",$singleton:!0,$dependencies:["aria.utils.Event","aria.utils.AriaWindow","aria.touch.Event","aria.DomEvent"],$statics:{DRAGGABLE_ATTRIBUTE:"atdraggable"},$destructor:function(){aria.utils.AriaWindow.$unregisterListeners(this),this._disconnectMouseDownEvent(),n=null},$constructor:function(){n=aria.utils.Event;var t=aria.utils.AriaWindow;t.$on({attachWindow:this._connectMouseDownEvent,detachWindow:this._disconnectMouseDownEvent,scope:this}),t.isWindowUsed&&this._connectMouseDownEvent(),this._dragStartPosition=null,this._dragStarted=!1},$prototype:{_connectMouseDownEvent:function(){n.addListener(Aria.$window.document.body,"mousedown",{fn:this._onMouseDown,scope:this}),n.addListener(Aria.$window.document.body,"touchstart",{fn:this._onMouseDown,scope:this})},_disconnectMouseDownEvent:function(){n.removeListener(Aria.$window.document.body,"mousedown",{fn:this._onMouseDown,scope:this}),n.removeListener(Aria.$window.document.body,"touchstart",{fn:this._onMouseDown,scope:this}),e(this)},maxDepth:-1,_idList:{drag:{}},_candidateForDrag:"",_activeDrag:"",listen:function(t,e){return"drag"==t?this._listenDrag(e):void 0},_listenDrag:function(t){var e=++r;return this._idList.drag[e]=t,e},stopListen:function(t,e){this._idList[t]&&delete this._idList[t][e]},_onMouseDown:function(e){var i=new aria.DomEvent(e);if(t(this),"touchstart"===e.type){var n=aria.touch.Event.getPositions(i);i.clientX=n[0].x,i.clientY=n[0].y}return this._detectDrag(i)&&i.preventDefault(!0),i.$dispose(),!1},_detectDrag:function(t){var e=Aria.$window.document.body,n=i(t.target,this.DRAGGABLE_ATTRIBUTE,this.maxDepth,e);if(n){var r=this._idList.drag[n];return this.$assert(211,!!r),this._candidateForDrag=r,this._dragStartPosition={x:t.clientX,y:t.clientY},this._dragStarted=!1,!0}},_startDrag:function(t){var e=this._candidateForDrag;e&&(this._activeDrag=e,this._dragStarted=!0,e.start(t))},_onMouseMove:function(t){var e=new aria.DomEvent(t);if("touchmove"===e.type){var i=aria.touch.Event.getPositions(t);1===i.length&&(e.clientX=i[0].x,e.clientY=i[0].y)}this._dragStartPosition&&!this._dragStarted&&this._startDrag(this._dragStartPosition);var n=this._activeDrag;if(n){if("touchmove"!==t.type&&!t.button){var r=aria.core.Browser;if(r.isIE8||r.isIE7||r.isIE6)return e.$dispose(),this._onMouseUp(t)}n.move(e)}e.$dispose()},_onMouseUp:function(){this._dragStartPosition=null,e(this);var t=this._activeDrag;t&&t.end(),this._candidateForDrag=null,this._activeDrag=null}}})})();
//*******************
//LOGICAL-PATH:aria/utils/dragdrop/IDrag.js
//*******************
Aria.interfaceDefinition({$classpath:"aria.utils.dragdrop.IDrag",$interface:{start:{$type:"Function"},move:{$type:"Function"},end:{$type:"Function"}},$events:{dragstart:"",move:"",dragend:"",beforeresize:"",resize:"",resizeend:""}});
//*******************
//LOGICAL-PATH:aria/utils/dragdrop/Drag.js
//*******************
(function(){function t(t,e,i){t&&t.setAttribute(e,i)}function e(t,e){t&&t.removeAttribute(e)}var i=0;Aria.classDefinition({$classpath:"aria.utils.dragdrop.Drag",$dependencies:["aria.utils.Dom","aria.utils.Mouse","aria.utils.Type"],$implements:["aria.utils.dragdrop.IDrag"],$statics:{INVALID_ATTRIBUTE:"Invalid attribute '%1' in '%2'"},$constructor:function(e,i){i=i||{},this.id=null,this.element=null;var r=aria.utils.Type;r.isString(e)?this.id=e:r.isHTMLElement(e)?(this.element=e,this.id=this.element.id):(this.$logError(this.INVALID_ATTRIBUTE,["id","constructor"]),this.start=Aria.empty,this.move=Aria.empty,this.end=Aria.empty),this.params=i,this.handle=i.handle,this.cursor=i.cursor,this.originalCursor=null,this.proxy=null,this.posX=null,this.posY=null,this._boundary=null,this._horizontal=i.axis&&"x"==i.axis,this._vertical=i.axis&&"y"==i.axis,this._elementInitialPosition=null,this._movableInitialGeometry=null,this._movableGeometry=null,this._baseMovableOffset=null,this.listenerId=aria.utils.Mouse.listen("drag",this),t(this.getDraggable(!0),aria.utils.Mouse.DRAGGABLE_ATTRIBUTE,this.listenerId),this.getMovable(!1)},$destructor:function(){var t=this.getDraggable();t&&(e(t,aria.utils.Mouse.DRAGGABLE_ATTRIBUTE),t.style.cursor=this.originalCursor,t=null),this.proxy&&this.proxy.overlay&&this.proxy.$dispose(),this.element=null,this.handle=null,this.cursor=null,this.proxy=null,aria.utils.Mouse.stopListen("drag",this)},$prototype:{getDraggable:function(t){var e,i=this.handle,r=this.cursor;if(i){var n=aria.utils.Type;n.isString(i)&&(i=aria.utils.Dom.getElementById(i)),n.isHTMLElement(i)?(this.handle=i,e=i):t===!0&&this.$logError(this.INVALID_ATTRIBUTE,["handle","params"])}else e=this.getElement(t);return e?(r&&(null==this.originalCursor&&(this.originalCursor=e.style.cursor),e.style.cursor=r),e):void 0},getElement:function(t){var e=this.element;if(!e){if(e=aria.utils.Dom.getElementById(this.id),!e)return t===!0&&this.$logError(this.INVALID_ATTRIBUTE,["id","constructor"]),void 0;this.element=e}return e},_setElementStyle:function(t){var e=aria.utils.Dom.getOffset(t),i={left:e.left,top:e.top};this._elementInitialPosition=i;var r=t.style;r.position="absolute",r.left=i.left+"px",r.top=i.top+"px"},getMovable:function(t){var e=this.proxy;if(e)return e.overlay;var i=this.params,r=i.proxy;if(r){var n="aria.utils.overlay."+r.type;return Aria.load({classes:[n],oncomplete:t===!1?null:{fn:this._createProxy,scope:this,args:{classpath:n,cfg:r.cfg}},onerror:{fn:function(){this.$logError(this.INVALID_ATTRIBUTE,["proxy","params"])},scope:this,override:!0}}),t===!1||this.proxy||(this.proxy={}),this.proxy?this.proxy.overlay:this.proxy}return this.getElement()},_createProxy:function(t){var e=Aria.getClassRef(t.classpath);try{var r=t.cfg||{};r.id=this.id||"proxy_"+i,i++,this.proxy=new e(this.getElement(),r)}catch(n){this.$logError(this.INVALID_ATTRIBUTE,["proxy","params"])}},start:function(t){this.posX=t.x,this.posY=t.y;var e,i=this.getElement(!0),r=aria.utils.Dom;i.onselectstart=Aria.returnFalse,this._setElementStyle(i),this._setBoundary();var n=this.getMovable();if(n){n.onselectstart=Aria.returnFalse,n.offsetTop<i.offsetTop&&(n.style.top=i.offsetTop+"px"),this._movableInitialGeometry=aria.utils.Dom.getGeometry(n),this._movableGeometry=aria.utils.Json.copy(this._movableInitialGeometry),e=r._getDocumentScroll().scrollTop,this._movableGeometry.y+=e>0?e:0;var a=aria.utils.Dom.getOffset(n);this._baseMovableOffset={left:this._movableGeometry.x-a.left,top:this._movableGeometry.y-a.top},this.$raiseEvent("dragstart")}},move:function(t){var e=this.getMovable(),i=aria.utils.Dom;if(e&&e.style){var r=this._vertical?0:t.clientX-this.posX,n=this._horizontal?0:t.clientY-this.posY,a=aria.utils.Json.copy(this._movableGeometry);a.x+=r,a.y+=n;var s=this._boundary?i.fitInside(a,this._boundary):{top:a.y,left:a.x};e.style.top=s.top-this._baseMovableOffset.top+"px",e.style.left=s.left-this._baseMovableOffset.left+"px",a.y=s.top,a.x=s.left,this.posY+=a.y-this._movableGeometry.y,this.posX+=a.x-this._movableGeometry.x,this._movableGeometry=a,this.$raiseEvent("move")}},end:function(){var t,e=this.getElement(),i=aria.utils.Dom;t=i._getDocumentScroll().scrollTop,e.onselectstart=Aria.returnTrue,this.proxy&&this.proxy.overlay&&(this._movableInitialGeometry.y+=t>0?t:0,e.style.top=this._elementInitialPosition.top+this._movableGeometry.y-this._movableInitialGeometry.y+"px",e.style.left=this._elementInitialPosition.left+this._movableGeometry.x-this._movableInitialGeometry.x+"px",this.proxy.$dispose(),this.proxy=null),this.$raiseEvent("dragend")},_setBoundary:function(){var t=this.params.constrainTo,e=aria.utils.Dom;return t&&t!==e.VIEWPORT?(aria.utils.Type.isString(t)&&(t=e.getElementById(t)),t?(this._boundary=aria.utils.Dom.getGeometry(t),void 0):(this._boundary=null,this.$logError(this.INVALID_ATTRIBUTE,["constrainTo","params"]),void 0)):(this._boundary=t,void 0)}}})})();
//*******************
//LOGICAL-PATH:aria/utils/dragdrop/DragDropBean.js
//*******************
Aria.beanDefinitions({$package:"aria.utils.dragdrop.DragDropBean",$namespaces:{json:"aria.core.JsonTypes"},$beans:{DragCfg:{$type:"json:Object",$properties:{handle:{$type:"json:MultiTypes",$contentTypes:[{$type:"json:String"},{$type:"json:ObjectRef"}]},cursor:{$type:"json:String"},proxy:{$type:"ProxyCfg"},constrainTo:{$type:"json:MultiTypes",$contentTypes:[{$type:"json:String"},{$type:"json:String"},{$type:"json:ObjectRef"}]},axis:{$type:"json:Enum",$enumValues:["x","y"]}}},ProxyCfg:{$type:"json:Object",$properties:{type:{$type:"json:Enum",$enumValues:["Overlay","CloneOverlay"]},cfg:{$type:"json:ObjectRef"}}}}});
//*******************
//LOGICAL-PATH:aria/utils/environment/VisualFocusCfgBeans.js
//*******************
Aria.beanDefinitions({$package:"aria.utils.environment.VisualFocusCfgBeans",$namespaces:{json:"aria.core.JsonTypes"},$beans:{AppCfg:{$type:"json:Object",$restricted:!1,$properties:{appOutlineStyle:{$type:"json:String",$default:null}}}}});
//*******************
//LOGICAL-PATH:aria/utils/environment/VisualFocus.js
//*******************
Aria.classDefinition({$classpath:"aria.utils.environment.VisualFocus",$extends:"aria.core.environment.EnvironmentBase",$dependencies:["aria.utils.environment.VisualFocusCfgBeans"],$singleton:!0,$prototype:{_cfgPackage:"aria.utils.environment.VisualFocusCfgBeans.AppCfg",getAppOutlineStyle:function(){return this.checkApplicationSettings("appOutlineStyle")},_applyEnvironment:function(t){var e=this.checkApplicationSettings("appOutlineStyle");e?Aria.load({classes:["aria.utils.VisualFocus"],oncomplete:t?{fn:function(){this.$callback(t)},scope:this}:null}):this.$callback(t)}}});
//*******************
//LOGICAL-PATH:aria/modules/requestHandler/environment/RequestHandlerCfgBeans.js
//*******************
Aria.beanDefinitions({$package:"aria.modules.requestHandler.environment.RequestHandlerCfgBeans",$namespaces:{json:"aria.core.JsonTypes"},$beans:{AppCfg:{$type:"json:Object",$restricted:!1,$properties:{requestHandler:{$type:"RequestHandlerCfg",$default:{implementation:"aria.modules.requestHandler.JSONRequestHandler"}},requestJsonSerializer:{$type:"RequestJsonSerializerCfg",$default:{options:{encodeParameters:!0,keepMetadata:!1}}}}},RequestHandlerCfg:{$type:"json:Object",$properties:{implementation:{$type:"json:PackageName",$default:null},args:{$type:"json:ObjectRef"}}},RequestJsonSerializerCfg:{$type:"json:Object",$properties:{instance:{$type:"json:ObjectRef"},options:{$type:"json:Map",$contentType:{$type:"json:MultiTypes"},$default:null}}}}});
//*******************
//LOGICAL-PATH:aria/modules/RequestBeans.js
//*******************
Aria.beanDefinitions({$package:"aria.modules.RequestBeans",$namespaces:{json:"aria.core.JsonTypes",env:"aria.modules.requestHandler.environment.RequestHandlerCfgBeans"},$beans:{RequestObject:{$type:"json:Object",$restricted:!1,$properties:{moduleName:{$type:"json:String",$mandatory:!0},actionName:{$type:"json:String",$mandatory:!1},serviceSpec:{$type:"json:ObjectRef",$mandatory:!1},session:{$type:"json:ObjectRef"},actionQueuing:{$type:"json:ObjectRef"},requestHandler:{$type:"json:ObjectRef"},urlService:{$type:"json:ObjectRef"},requestJsonSerializer:{$type:"env:RequestJsonSerializerCfg"},postHeader:{$type:"json:String"},headers:{$type:"json:Object"}}},RequestDetails:{$type:"json:Object",$restricted:!1,$properties:{url:{$type:"json:String",$mandatory:!0},method:{$type:"json:String"}}},SuccessResponse:{$type:"json:Object",$properties:{responseText:{$type:"json:String"},responseXML:{$type:"json:ObjectRef"},responseJSON:{$type:"json:ObjectRef"}}},FailureResponse:{$type:"json:Object",$properties:{status:{$type:"json:Integer",$mandatory:!0},error:{$type:"json:String"},responseText:{$type:"json:String"},responseXML:{$type:"json:ObjectRef"},responseJSON:{$type:"json:ObjectRef"}}},Request:{$type:"json:Object",$properties:{url:{$type:"json:String"},session:{$type:"json:ObjectRef"},requestObject:{$type:"RequestObject"}}},ProcessedResponse:{$type:"json:Object",$restricted:!1,$properties:{response:{$type:"json:ObjectRef"},error:{$type:"json:Boolean"},errorData:{$type:"json:ObjectRef"}}}}});
//*******************
//LOGICAL-PATH:aria/modules/queuing/SimpleSessionQueuing.js
//*******************
Aria.classDefinition({$classpath:"aria.modules.queuing.SimpleSessionQueuing",$constructor:function(){this._idSessionMap={},this._sessionQueues={}},$statics:{NO_SESSION_ID_KEY:"1"},$destructor:function(){this._idSessionMap=null;for(var t in this._sessionQueues)this._sessionQueues.hasOwnProperty(t)&&delete this._sessionQueues[t];this._sessionQueues=null},$prototype:{pushRequest:function(t,e,i){var n,r=t.session.id;if(r||(r=this.NO_SESSION_ID_KEY),this._sessionQueues[r]||(this._sessionQueues[r]=[]),n=this._sessionQueues[r],t.actionQueuing=this,n.length>0)return n.push({requestObject:t,jsonData:e,cb:i}),aria.modules.RequestMgr.QUEUE_STATUS;var a=this._sendRequest(t,e,i);return a===aria.modules.RequestMgr.ERROR_STATUS?a:(this._idSessionMap[a]=r,n.push(a),aria.modules.RequestMgr.EXECUTE_STATUS)},handleNextRequest:function(t){if(this._idSessionMap){var e,i,n=this._idSessionMap[t];if(n){delete this._idSessionMap[t];var r=this._sessionQueues[n];for(this.$assert(99,r&&r.length>0),this.$assert(100,r[0]===t),r.splice(0,1);r.length>0;){if(e=r[0],i=this._sendRequest(e.requestObject,e.jsonData,e.cb),i!==aria.modules.RequestMgr.ERROR_STATUS)return this._idSessionMap[i]=n,r[0]=i,void 0;r.splice(0,1)}}}},_sendRequest:function(t,e,i){return aria.modules.RequestMgr.sendJsonRequest(t,e,i)}}});
//*******************
//LOGICAL-PATH:aria/modules/urlService/environment/UrlServiceCfgBeans.js
//*******************
Aria.beanDefinitions({$package:"aria.modules.urlService.environment.UrlServiceCfgBeans",$namespaces:{json:"aria.core.JsonTypes"},$beans:{AppCfg:{$type:"json:Object",$restricted:!1,$properties:{urlService:{$type:"UrlServiceCfg",$default:{implementation:"aria.modules.urlService.PatternURLCreationImpl",args:["${moduleName}/${actionName}","${moduleName}"]}}}},UrlServiceCfg:{$type:"json:Object",$properties:{implementation:{$type:"json:PackageName",$default:null},args:{$type:"json:Array",$default:[],$contentType:{$type:"json:String"}}}}}});
//*******************
//LOGICAL-PATH:aria/modules/urlService/environment/UrlService.js
//*******************
Aria.classDefinition({$classpath:"aria.modules.urlService.environment.UrlService",$dependencies:["aria.modules.urlService.environment.UrlServiceCfgBeans"],$extends:"aria.core.environment.EnvironmentBase",$singleton:!0,$prototype:{_cfgPackage:"aria.modules.urlService.environment.UrlServiceCfgBeans.AppCfg",getUrlServiceCfg:function(){return aria.utils.Json.copy(this.checkApplicationSettings("urlService"))}}});
//*******************
//LOGICAL-PATH:aria/modules/requestHandler/environment/RequestHandler.js
//*******************
Aria.classDefinition({$classpath:"aria.modules.requestHandler.environment.RequestHandler",$dependencies:["aria.modules.requestHandler.environment.RequestHandlerCfgBeans"],$singleton:!0,$extends:"aria.core.environment.EnvironmentBase",$prototype:{_cfgPackage:"aria.modules.requestHandler.environment.RequestHandlerCfgBeans.AppCfg",getRequestHandlerCfg:function(){return aria.utils.Json.copy(this.checkApplicationSettings("requestHandler"))},getRequestJsonSerializerCfg:function(){return this.checkApplicationSettings("requestJsonSerializer")}}});
//*******************
//LOGICAL-PATH:aria/modules/RequestMgr.js
//*******************
Aria.classDefinition({$classpath:"aria.modules.RequestMgr",$dependencies:["aria.modules.queuing.SimpleSessionQueuing","aria.modules.RequestBeans","aria.modules.urlService.environment.UrlService","aria.modules.requestHandler.environment.RequestHandler","aria.utils.Type"],$singleton:!0,$events:{error:""},$constructor:function(){this.session={paramName:"jsessionid",id:""},this._params=null,this.defaultActionQueuing=new aria.modules.queuing.SimpleSessionQueuing,this._idCounter=1,this._urlService=null,this._requestHandler=null,aria.core.AppEnvironment.$on({changingEnvironment:{fn:this.__environmentUpdated,scope:this},environmentChanged:{fn:this.__environmentUpdated,scope:this}})},$destructor:function(){this._params=null,this._urlService&&(this._urlService.$dispose(),this._urlService=null),this._requestHandler&&(this._requestHandler.$dispose(),this._requestHandler=null),this.defaultActionQueuing&&(this.defaultActionQueuing.$dispose(),this.defaultActionQueuing=null)},$statics:{ERROR_STATUS:-1,EXECUTE_STATUS:0,QUEUE_STATUS:1,DISCARD_STATUS:2,INVALID_REQUEST_OBJECT:"Provided request object does not match aria.modules.RequestBeans.RequestObject.",FILTER_CREATION_ERROR:"An error occured while creating a Request filter:\nclass: %1",INVALID_BASEURL:"The base URL defined in the RequestMgr object is empty or invalid - please check: \nurl: %1",MISSING_SERVICESPEC:"Provided request object must contain an actionName or a serviceSpec element",CALLBACK_ERROR:"An error occured in the Request manager while processing the callback function.",INVALID_URL:"Url for request is invalid: %1"},$prototype:{addParam:function(t,e){if(null==e)return this.removeParam(t);null==this._params&&(this._params=[]);for(var i=0,r=this._params.length;r>i;i++){var n=this._params[i];if(n.name===t)return n.value=encodeURIComponent(e),void 0}this._params.push({name:t,value:encodeURIComponent(e)})},getParam:function(t){if(null==t||null==this._params)return null;for(var e=0,i=this._params.length;i>e;e++){var r=this._params[e];if(r.name===t)return r.value}return null},removeParam:function(t){if(null==t&&(this._params=null),null!=this._params)for(var e=0,i=this._params.length;i>e;e++){var r=this._params[e];r.name===t&&(this._params.splice(e,1),i--)}},submitJsonRequest:function(t,e,i){try{aria.core.JsonValidator.normalize({json:t,beanName:"aria.modules.RequestBeans.RequestObject"},!0)}catch(r){return this.$logError(this.INVALID_REQUEST_OBJECT,null,t),this.DISCARD_STATUS}return t.actionQueuing||(t.actionQueuing=this.defaultActionQueuing),t.session||(t.session=this.session),t.requestHandler||(t.requestHandler=this._requestHandler),t.actionQueuing.pushRequest(t,e,i)},__getHandlersDependencies:function(){var t=[],e=aria.modules.urlService.environment.UrlService;if(!this._urlService){var i=e.getUrlServiceCfg();t.push(i.implementation)}if(!this._requestHandler){var r=aria.modules.requestHandler.environment.RequestHandler.getRequestHandlerCfg();t.push(r.implementation)}return t},sendJsonRequest:function(t,e,i){var r={requestObject:t,jsonData:e,data:null,method:"POST"},n=this._idCounter++,a=this.__getHandlersDependencies(),s={req:r,cb:i,id:n,session:t.session,actionQueuing:t.actionQueuing,requestHandler:t.requestHandler};return Aria.load({classes:a,oncomplete:{fn:this._onDependenciesReady,scope:this,args:s}}),n},_onDependenciesReady:function(t){var e=t.req,i=this.createRequestDetails(e.requestObject,t.session);return i&&""!==i.url?(e.url=i.url,i.method&&(e.method=i.method),this._callAsyncRequest(t),void 0):this.$logError(this.INVALID_URL,[""])},_callAsyncRequest:function(t){var e=t.req,i=t.requestHandler;null==i&&(i=this.__getRequestHandler()),e.data=null==e.data&&"POST"==e.method?i.prepareRequestBody(e.jsonData,e.requestObject):e.data,e.headers=i.getRequestHeaders();var r={classpath:this.$classpath,requestObject:e.requestObject,requestData:e.jsonData,responseData:null,responseErrorData:null},n={sender:r,url:e.url,method:e.method,postData:e.data,headers:e.headers,callback:{fn:this._onresponse,onerror:this._onresponse,scope:this,args:{requestObject:e.requestObject,senderObject:r,cb:t.cb,id:t.id,session:t.session,actionQueuing:t.actionQueuing,requestHandler:i}}};e.postHeader&&(n.postHeader=e.postHeader),i.expectedResponseType&&(n.expectedResponseType=i.expectedResponseType),aria.core.IO.asyncRequest(n)},_onresponse:function(t,e){var i=e.requestObject,r=e.actionQueuing,n=e.id,a=e.senderObject;r&&r.handleNextRequest(n);var s={requestUrl:t.url,requestObject:i,responseXML:t.responseXML,responseText:t.responseText,responseJSON:t.responseJSON,status:t.status,error:t.error,data:a.responseData,errorData:a.responseErrorData};e.res=s,this._processOnResponse(e)},_processOnResponse:function(t){var e=t.res,i=t.requestHandler;e.error?i.processFailure({error:e.error,status:e.status,responseXML:e.responseXML,responseText:e.responseText,responseJSON:e.responseJSON},{url:t.res.url,session:t.session,requestObject:t.requestObject},{fn:this._callRequestCallback,scope:this,args:t}):i.processSuccess({responseXML:e.responseXML,responseText:e.responseText,responseJSON:e.responseJSON},{url:e.url,session:t.session,requestObject:t.requestObject},{fn:this._callRequestCallback,scope:this,args:t})},_callRequestCallback:function(t,e){var i=e.res;if(i.errorData&&(t.error=!0),i.data&&(t.data=i.data),i.errorData&&(t.errorData=i.errorData),t.error){var r={name:"error",requestUrl:i.requestUrl,requestObject:e.requestObject,errorData:t.errorData};i.error&&(r.httpError={error:i.error,status:i.status}),this.$raiseEvent(r)}this.$callback(e.cb,t,this.CALLBACK_ERROR)},createRequestDetails:function(t,e){var i=aria.utils.Type,r=t.urlService;r||(r=this.__getUrlService()),this.$assert(434,null!=r),e||(e=this.session);var n,a=t.moduleName.replace(/\./g,"/");if(i.isString(t.actionName)){var s=this.__extractActionName(t.actionName);n=r.createActionUrl(a,s.name,e.id)}else{if(!t.serviceSpec)return this.$logError(this.MISSING_SERVICESPEC,[n]),null;n=r.createServiceUrl(a,t.serviceSpec,e.id)}return!n||i.isObject(n)&&!n.url?(this.$logError(this.INVALID_BASEURL,[n]),null):(i.isString(n)&&(n={url:n}),n.method||(n.method="POST"),t.actionName&&(n.url=this.__appendActionParameters(n.url,s.params)),n.url=this.__appendGlobalParams(n.url,this._params),n)},createI18nUrl:function(t,e,i){var r=aria.modules.urlService.environment.UrlService.getUrlServiceCfg();Aria.load({classes:[r.implementation],oncomplete:{fn:this.__onI18nReady,scope:this,args:{moduleName:t,locale:e,callback:i}}})},__onI18nReady:function(t){var e=this.__getUrlService();this.$assert(595,null!=e);var i=e.createI18nUrl(t.moduleName,this.session.id,t.locale);i=this.__appendGlobalParams(i,this._params),t.callback.args=t.callback.args||{},t.callback.args.full=i,this.$callback(t.callback)},__appendGlobalParams:function(t,e){if(!e||0===e.length)return t;for(var i=[],r=0,n=e.length;n>r;r+=1){var a=e[r];i.push(a.name+"="+a.value)}var s="&",o=i.join(s);return this.__appendActionParameters(t,o)},__appendActionParameters:function(t,e){if(t=t||"",!e)return t;var i=t.indexOf("?"),r="&";return t+=i>-1?r:"?",t+e},__extractActionName:function(t){t=t||"";var e=t.indexOf("?"),i={name:"",params:""};return 0>e?i.name=t:i={name:t.substring(0,e),params:t.substring(e+1)},i},__getUrlService:function(){if(!this._urlService){var t=aria.modules.urlService.environment.UrlService.getUrlServiceCfg(),e=t.args[0],i=t.args[1],r=Aria.getClassRef(t.implementation);this._urlService=new r(e,i)}return this._urlService},__getRequestHandler:function(){if(!this._requestHandler){var t=aria.modules.requestHandler.environment.RequestHandler.getRequestHandlerCfg();this._requestHandler=Aria.getClassInstance(t.implementation,t.args)}return this._requestHandler},__environmentUpdated:function(t){return"environmentChanged"==t.name?(this._urlService&&(this._urlService.$dispose(),this._urlService=null),this._requestHandler&&(this._requestHandler.$dispose(),this._requestHandler=null),void 0):void 0}}});
//*******************
//LOGICAL-PATH:aria/core/environment/CustomizationsCfgBeans.js
//*******************
Aria.beanDefinitions({$package:"aria.core.environment.CustomizationsCfgBeans",$namespaces:{json:"aria.core.JsonTypes"},$beans:{AppCfg:{$type:"json:Object",$restricted:!1,$properties:{customization:{$type:"CustomizationCfg",$default:{}}}},CustomizationCfg:{$type:"json:Object",$properties:{descriptor:{$type:"json:MultiTypes",$default:"",$contentTypes:[{$type:"json:ObjectRef"},{$type:"json:String"}]}}},DescriptorCfg:{$type:"json:Object",$properties:{templates:{$type:"json:Map",$default:{},$keyType:{$type:"json:PackageName"},$contentType:{$type:"json:PackageName"}},modules:{$type:"json:Map",$default:{},$keyType:{$type:"json:PackageName"},$contentType:{$type:"json:Array",$contentType:{$type:"CustomModuleCfg"}}},flows:{$type:"json:Map",$default:{},$keyType:{$type:"json:PackageName"},$contentType:{$type:"json:PackageName"}}}},CustomModuleCfg:{$type:"json:MultiTypes",$contentTypes:[{$type:"json:String"},{$type:"json:Object",$properties:{classpath:{$type:"json:PackageName"},refpath:{$type:"json:String",$regExp:/^custom:/},initArgs:{$type:"json:ObjectRef"}}}]}}});
//*******************
//LOGICAL-PATH:aria/core/environment/Customizations.js
//*******************
Aria.classDefinition({$classpath:"aria.core.environment.Customizations",$extends:"aria.core.environment.EnvironmentBase",$dependencies:["aria.core.environment.CustomizationsCfgBeans"],$singleton:!0,$statics:{DESCRIPTOR_NOT_LOADED:"A customization descriptor was specified but could not be loaded (url: '%1')",INVALID_DESCRIPTOR:"The Customization descriptor at '%1' is invalid"},$events:{descriptorLoaded:""},$constructor:function(){this._isCustomized=!1,this._descriptorLoaded=!1,this._customizationDescriptor=null,this._customizations={templates:{},modules:{}},this.$EnvironmentBase.constructor.call(this)},$prototype:{_cfgPackage:"aria.core.environment.CustomizationsCfgBeans.AppCfg",_applyEnvironment:function(t){var e=this.checkApplicationSettings("customization");e&&(e.descriptor!==this._customizationDescriptor||aria.utils.Type.isObject(e.descriptor))&&(this._customizationDescriptor=e.descriptor,this.reloadCustomizationDescriptor()),this.$callback(t)},_onDescriptorReceive:function(t){var e="200"!=t.status;if(e)this.$logError(this.DESCRIPTOR_NOT_LOADED,this._customizationDescriptor);else{var i=aria.utils.Json.load(t.responseText);if(null==i)return this.$logError(this.INVALID_DESCRIPTOR,this._customizationDescriptor),this.$raiseEvent("descriptorLoaded"),void 0;this._setCustomizationDescriptor(i)}this._descriptorLoaded=!0,this.$raiseEvent("descriptorLoaded")},_setCustomizationDescriptor:function(t){var e=aria.core.JsonValidator.normalize({json:t,beanName:"aria.core.environment.CustomizationsCfgBeans.DescriptorCfg"});e?this._customizations=t:this.$logError(this.INVALID_DESCRIPTOR,this._customizationDescriptor)},reloadCustomizationDescriptor:function(){this._isCustomized=this._customizationDescriptor?!0:!1,this._isCustomized&&(this._descriptorLoaded=!1,aria.utils.Type.isString(this._customizationDescriptor)?aria.core.IO.asyncRequest({url:this._customizationDescriptor,callback:{fn:this._onDescriptorReceive,onerror:this._onDescriptorReceive,scope:this}}):(this._setCustomizationDescriptor(this._customizationDescriptor),this._descriptorLoaded=!0,this.$raiseEvent("descriptorLoaded")))},isCustomized:function(){return this._isCustomized},descriptorLoaded:function(){return this._descriptorLoaded},getFlowCP:function(t){var e=t;return this._isCustomized&&null!=this._customizations.flows[t]&&(e=this._customizations.flows[t]),e},getCustomModules:function(t){if(this._isCustomized){var e=this._customizations.modules[t];if(e)return e}return[]},getCustomizations:function(){return aria.utils.Json.copy(this._customizations)},getTemplateCP:function(t){var e=t;return this._isCustomized&&null!=this._customizations.templates[t]&&(e=this._customizations.templates[t]),e},setCustomizations:function(t){var e=this.checkApplicationSettings("customization");e.descriptor=t,this._customizationDescriptor=t,this.reloadCustomizationDescriptor()}}});
//*******************
//LOGICAL-PATH:aria/templates/DomEventWrapper.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.DomEventWrapper",$extends:"aria.DomEvent",$dependencies:["aria.templates.DomElementWrapper"],$constructor:function(t){var e=aria.templates.DomElementWrapper;this.$DomEvent.constructor.call(this,t),this.target=this.target?new e(this.target):null,this.relatedTarget=this.relatedTarget?new e(this.relatedTarget):null},$destructor:function(){this.target&&(this.target.$dispose(),this.target=null),this.relatedTarget&&(this.relatedTarget.$dispose(),this.relatedTarget=null),this.$DomEvent.$destructor.call(this)},$prototype:{setTarget:function(t){this.target&&this.target.$dispose(),this.target=t?new aria.templates.DomElementWrapper(t):null}}});
//*******************
//LOGICAL-PATH:aria/templates/GlobalStyle.tpl.css
//*******************
Aria.classDefinition({$classpath:"aria.templates.GlobalStyle",$extends:"aria.templates.CSSTemplate",$constructor:function(){this.$CSSTemplate.constructor.call(this)},$destructor:function(){this.$CSSTemplate.$destructor.call(this)},$prototype:{macro_main:function(){try{with(this)this.__$write("\n\n.xLDI-text {\nposition: relative;\ntop: 50%;\ndisplay:block;\ntext-align:center;\npadding-top: 20px;\n}\n\n.xLDI {\n\nbackground-color: #fff;\n",22),this.macro_opacity(80),this.__$write("\nwidth: 100%;\nheight: 100%;\n}\n\n.xOverlay {\n\nbackground-color: #ddd;\nborder: 1px solid black;\n",35),this.macro_opacity(40),this.__$write("\n}\n\n.xModalMask-default {\nwidth:100%;\nheight:100%;\nbackground-color: black;\n",44),this.macro_opacity(40),this.__$write("\n}\n\n.xOverflowAuto {\noverflow: auto;\n}\n\n.xOverflowHidden {\noverflow: hidden;\n}\n\n.xOverflowXAuto {\noverflow-x: auto;\n}\n\n.xOverflowYAuto {\noverflow-y: auto;\n}\n\n.xOverflowXScroll {\noverflow-x: scroll;\n}\n\n.xOverflowYScroll {\noverflow-y: scroll;\n}\n\n.xOverflowXHidden {\noverflow-x: hidden;\n}\n\n.xOverflowYHidden {\noverflow-y: hidden;\n}\n\n\n.xTplContent {\n}\n\n",51)}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["main",this["aria:currentLineNumber"]],_ex)}},macro_opacity:function(percent){try{with(this)this.__$write("\nfilter: alpha(opacity=",92),this.__$write(percent,92),this.__$write(");\n-moz-opacity: ",92),this.__$write(percent/100,93),this.__$write(";\nopacity: ",93),this.__$write(percent/100,94),this.__$write(";\n",94)}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["opacity",this["aria:currentLineNumber"]],_ex)}},$init:function(t){t.__$csslibs={},t.__$prefix=!0},__$initTemplate:function(){return!0}}});
//*******************
//LOGICAL-PATH:aria/templates/IModuleCtrl.js
//*******************
Aria.interfaceDefinition({$classpath:"aria.templates.IModuleCtrl",$events:{methodCallBegin:"",methodCallEnd:"",methodCallback:"",beforeDispose:""},$interface:{init:{$type:"Function",$callbackParam:1},getData:function(){},setData:function(){},getResourceSet:function(){},getSubModuleCtrl:function(){},registerListener:function(){},unregisterListeners:function(){},setSession:function(){}}});
//*******************
//LOGICAL-PATH:aria/templates/IObjectLoading.js
//*******************
Aria.interfaceDefinition({$classpath:"aria.templates.IObjectLoading",$events:{objectLoaded:""},$interface:{}});
//*******************
//LOGICAL-PATH:aria/templates/ITemplate.js
//*******************
Aria.interfaceDefinition({$classpath:"aria.templates.ITemplate",$extends:"aria.templates.IBaseTemplate",$events:{SectionRefreshed:""},$interface:{data:"Object",moduleCtrl:"Object",flowCtrl:"Object",moduleRes:"Object",$refresh:function(){},$getChild:function(){},$getElementById:function(){},$focus:function(){},$getFocusedWidget:function(){},$setFocusedWidget:function(){},$hdim:function(){},$vdim:function(){},$getId:function(){},getContainerScroll:function(){},setContainerScroll:function(){},__$writeId:function(){},__$processWidgetMarkup:function(){},__$beginContainerWidget:function(){},__$endContainerWidget:function(){},__$statementOnEvent:function(){},__$statementRepeater:function(){},__$createView:function(){},__$beginSection:function(){},__$endSection:function(){},__$bindAutoRefresh:function(){}}});
//*******************
//LOGICAL-PATH:aria/templates/ITemplateCtxt.js
//*******************
Aria.interfaceDefinition({$classpath:"aria.templates.ITemplateCtxt",$interface:{tplClasspath:"Object",moduleCtrl:"Object",moduleCtrlPrivate:"Object",moduleRes:"Object",flowCtrl:"Object",flowCtrlPrivate:"Object",data:"Object",$reload:"Function"}});
//*******************
//LOGICAL-PATH:aria/templates/TemplateCtxtManager.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.TemplateCtxtManager",$extends:"aria.utils.Store",$dependencies:["aria.utils.Array","aria.utils.AriaWindow"],$singleton:!0,$constructor:function(){this.$Store.constructor.call(this),this._rootTemplateContexts=[],Aria.rootTemplates=this._rootTemplateContexts,aria.utils.AriaWindow.$on({unloadWindow:this._unloadWindow,scope:this})},$destructor:function(){Aria.rootTemplates=this._templateContexts=null,aria.utils.AriaWindow.$unregisterListeners(this),this.$Store.$destructor.call(this)},$prototype:{_unloadWindow:function(){for(var t=Aria.rootTemplates,e=t.length-1;e>=0;e--)t[e].$dispose()},add:function(t){t._cfg&&t._cfg.isRootTemplate&&(this._rootTemplateContexts.push(t),aria.utils.AriaWindow.attachWindow()),this.$Store.add.call(this,t)},remove:function(t){return t._cfg&&t._cfg.isRootTemplate&&aria.utils.Array.remove(this._rootTemplateContexts,t)&&aria.utils.AriaWindow.detachWindow(),this.$Store.remove.call(this,t)},getFromDom:function(t){var e=function(e){return t==e.getContainerDiv()};return this.getMatch(e)},disposeFromDom:function(t){var e=function(e){return t==e.getContainerDiv()},i=this.removeMatch(e);return i?(i.$dispose(),!0):!1},getRootCtxts:function(){return this._rootTemplateContexts}}});
//*******************
//LOGICAL-PATH:aria/templates/Layout.js
//*******************
(function(){var t,e,i,r,n,a={width:{},height:{}},s=null,o=function(){null==s&&(s=[],aria.utils.AriaWindow.attachWindow(),i.addListener(Aria.$window,"resize",{fn:u}))},l=function(){r&&(e.cancelCallback(r),r=null),null!=s&&(i.removeListener(Aria.$window,"resize",{fn:u}),aria.utils.AriaWindow.detachWindow(),s=null)},c=function(){null==s&&t._listeners&&t._listeners.viewportResized?o():null==s||0!==s.length||null!=t._listeners&&null!=t._listeners.viewportResized||l()},h=function(e){var i;(null!=e.min||null!=e.max)&&(i=Aria.minSizeMode&&null!=e.min?e.min:e.viewport,null!=i?(e.scrollbar&&(i-=t.getScrollbarsWidth()),null!=e.min&&e.min>i&&(i=e.min),null!=e.max&&i>e.max&&(i=e.max)):e.min==e.max&&(i=e.min)),e.value=i},u=function(){r&&(e.cancelCallback(r),r=null),r=e.addCallback({fn:d,scope:t,delay:50})},p=function(){var e=t.viewportSize,i=aria.utils.Dom._getViewportSize();return i.width!=e.width||i.height!=e.height?(t.viewportSize=i,t.setSOViewport(a.width,i.width),t.setSOViewport(a.height,i.height),!0):!1},d=function(){if(r=null,p()){for(var e=s.length,i=0;e>i;i++){var n=s[i];t.setDivSize(n.domElt,n.width,n.height);var a=aria.templates.TemplateCtxtManager.getFromDom(n.domElt);if(a){var o=!1;a.$setViewportWidth(f(n.width,"width"))&&(o=!0),a.$setViewportHeight(f(n.height,"height"))&&(o=!0),o&&a.$refresh()}aria.utils.Dom.refreshScrollbars(n.domElt)}p(),t.$raiseEvent({name:"viewportResized",viewportNewSize:t.viewportSize})}},f=function(e,i){return"object"==typeof e&&(e=t.getSODim(a[i],e.min,e.incrementFactor,e.max)),e};Aria.classDefinition({$classpath:"aria.templates.Layout",$dependencies:["aria.templates.CfgBeans","aria.templates.TemplateCtxtManager","aria.utils.Event","aria.core.Browser","aria.utils.Dom","aria.utils.AriaWindow"],$singleton:!0,$events:{viewportResized:""},$constructor:function(){t=this,e=aria.core.Timer,p(),i=aria.utils.Event},$destructor:function(){l(),t=null,e=null,i=null},$statics:{LAYOUT_INCOHERENT_MIN_MAX:"Error while setting size configuration: min (%1) > max (%2).",MINSIZE_UNDEFINED:"vdim or hdim cannot be used if container has no minimum size."},$prototype:{viewportSize:{width:null,height:null},$on:function(){this.$JsObject.$on.apply(this,arguments),c()},$unregisterListeners:function(){this.$JsObject.$unregisterListeners.apply(this,arguments),c()},$addListeners:function(){this.$JsObject.$addListeners.apply(this,arguments),c()},$removeListeners:function(){this.$JsObject.$removeListeners.apply(this,arguments),c()},registerAutoresize:function(t,e,i){null==s&&o(),s.push({domElt:t,width:e,height:i})},unregisterAutoresize:function(t){if(null!=s){for(var e=s.length,i=[],r=0;e>r;r++){var n=s[r];n.domElt!=t&&i.push(n)}s=i,0===i.length&&c()}},setRootDim:function(t){aria.core.JsonValidator.check(t,"aria.templates.CfgBeans.RootDimCfg"),this.setSOSizeCfg(a.width,t.width),this.setSOSizeCfg(a.height,t.height)},realWidth:function(t){return f(t,"width")},realHeight:function(t){return f(t,"height")},setDivSize:function(t,e,i,r){null==r&&(r="auto"),e=f(e,"width"),i=f(i,"height");var n=t.style;e&&(n.width=e+"px"),i&&(n.height=i+"px");var a="";(null!=e||null!=i)&&("auto"==r?a=" xOverflowAuto":"hidden"==r&&(a=" xOverflowHidden"));var s=t.className;s?(s=s.replace(/\s*xOverflow\w+/g,""),s+=a):s=a,t.className=s},setSOSizeCfg:function(t,e){null!=e.value&&(e.min=e.value,e.max=e.value),t.min=e.min,t.max=e.max,t.scrollbar=e.scrollbar,null!=t.min&&null!=t.max&&t.min>t.max&&(this.$logError(this.LAYOUT_INCOHERENT_MIN_MAX,[t.min,t.max]),t.max=void 0),h(t)},setSOViewport:function(t,e){t.viewport=e,h(t)},getSODim:function(t,e,i,r){var n=t.min;if(null==n)return this.$logError(this.MINSIZE_UNDEFINED),e;var a=t.value;null==i&&(i=1);var s=parseInt(e+(a-n)*i,10);return null!=r&&s>r&&(s=r),s},getScrollbarsWidth:function(){if(null!=n)return n;if(aria.core.Browser.isMac&&aria.core.Browser.isWebkit)return 17;var t=Aria.$window.document,e=t.createElement("div"),i=t.createElement("div");return e.style.overflow="",e.style.position="absolute",e.style.left="-10000px",e.style.top="-10000px",e.style.width="500px",e.style.height="500px",aria.core.Browser.isIE7||(i.style.width="100%"),i.style.height="100%",t.body.appendChild(e),e.appendChild(i),n=i.offsetWidth,e.style.overflow="scroll",n-=i.offsetWidth,t.body.removeChild(e),n}}})})();
//*******************
//LOGICAL-PATH:aria/templates/NavigationManager.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.NavigationManager",$singleton:!0,$dependencies:["aria.utils.Type","aria.templates.CfgBeans"],$constructor:function(){this._tableNavMarker=Aria.FRAMEWORK_PREFIX+"tableNavDone",this._keyMapMarker=Aria.FRAMEWORK_PREFIX+"keyMapDone",this.globalKeyMap=[],this._hasModalBehaviour=!1},$statics:{INVALID_GLOBAL_KEYMAP_CFG:"Invalid global keymap configuration."},$prototype:{addGlobalKeyMap:function(t){var e={json:t,beanName:"aria.templates.CfgBeans.GlobalKeyMapCfg"};aria.core.JsonValidator.normalize(e)?(t=e.json,this.globalKeyMap.push(t)):this.$logError(this.INVALID_GLOBAL_KEYMAP_CFG)},removeGlobalKeyMap:function(t){for(var e,i=0,r=this.globalKeyMap.length;r>i;i++)if(e=this.globalKeyMap[i],e.key==t.key&&!!t.alt==!!e.alt&&!!t.shift==!!e.shift&&!!t.ctrl==!!e.ctrl)return this.globalKeyMap.splice(i,1),!0;return!1},handleNavigation:function(t,e,i){("keyup"==i.type||"keydown"==i.type)&&(i[this._tableNavMarker]||"keydown"!=i.type||(i[this._tableNavMarker]=this._handleTableNavigation(e,i)),i[this._keyMapMarker]||(i[this._keyMapMarker]=this._handleKeyMap(t,i)))},handleGlobalNavigation:function(t){("keyup"==t.type||"keydown"==t.type)&&(t[this._keyMapMarker]||(t[this._keyMapMarker]=this._handleKeyMap(this.globalKeyMap,t,!0)))},focusFirst:function(t,e){var i;if(1==t.nodeType){for(var r,n=t.childNodes,a=n.length,s=e?a-1:0;s>-1&&a>s;e?s--:s++){if(r=n[s],i={fn:function(){this._focusNext(r,e)},scope:this},this._doFocus(r,i))return!0;if(this.focusFirst(r,e))return!0}return!1}return!1},setModalBehaviour:function(t){this._hasModalBehaviour=t},_focusNext:function(t,e){for(var i,r=Aria.$window.document.body;!i;)if(i=e?t.previousSibling:t.nextSibling,!i&&(t=t.parentNode,!t||t==r))return!1;return this._doFocus(i)||this.focusFirst(i,e)?!0:this._focusNext(i,e)},_doFocus:function(t,e){if(1!=t.nodeType)return!1;if(t.__widget){if(t.__widget.focus){var i=t.__widget.focus(null,e);return!!i}return!1}var r=t.nodeName,n=t.getAttributeNode("tabindex");if(("INPUT"==r||"TEXTAREA"==r||"A"==r||"BUTTON"==r||n&&n.specified&&-1!=n.nodeValue)&&!t.disabled)try{return t.focus(),!0}catch(a){return!1}return!1},_handleTableNavigation:function(t,e){var i=e.keyCode,r=!1;if(t===!1||i>40||37>i)return!0;if(!t)return!1;t===!0&&(t={});var n=this._validateModifiers(t,e);if(n){var a=e.target,s=this._getContainingTD(a);if(s){var o=s.parentNode.parentNode,l=this._getTableMap(o,s);r=this._navigateMap(o,l,e)}else i==e.KC_ARROW_DOWN?r=this._focusNext(a):i==e.KC_ARROW_UP&&(r=this._focusNext(a,!0));return r&&e.preventDefault(),!0}},_validateModifiers:function(t,e){return e.altKey==!!t.alt&&e.shiftKey==!!t.shift&&e.ctrlKey==!!t.ctrl},_navigateMap:function(t,e,i){var r=i.keyCode,n=e.map,a=e.pos,s=0,o=0;r==i.KC_ARROW_UP?s=-1:r==i.KC_ARROW_DOWN?s=1:o=r==i.KC_ARROW_LEFT?-1:1;var l,c,h,u,p=!1,d=a,f=a.rowIndex,m=a.mapCellIndex;do{if(0!==o?m+=o:f+=s,0>f||f>=n.length)return this._focusNext(t,0>f);if(l=n[f],u=!1,0>m||m>=l.length){if(0===s)return!1;1==o?(o=-1,m=a.mapCellIndex):(o=1,m=a.mapCellIndex-1,f+=s),u=!0}if(!u&&(h=n[f][m],h!=d&&(0!==s&&0!==o&&(-1==s&&h.rowIndex+h.rowSpan-1!=f?u=!0:1==s&&h.rowIndex!=f&&(u=!0)),!u))){if(c=t.rows[h.rowIndex].cells[h.cellIndex],d=h,!c)return!1;p=this.focusFirst(c),p||0===s||0!==o||(o=1)}}while(!p);return!0},_getContainingTD:function(t){for(var e=Aria.$window.document.body,i=t;i&&i!=e;){if("TD"==i.nodeName&&!i.parentNode.parentNode.attributes.isFrame)return i;i=i.parentNode}},_getTableMap:function(t,e){for(var i,r=[],n=t.rows,a=0,s=n.length;s>a;a++){var o=n[a].cells,l=r[a];l||(l=[],r[a]=l);for(var c=0,h=0,u=o.length;u>h;h++){for(var p=o[h],d=p.rowSpan,f=p.colSpan,m=l[c];m;)m=l[++c];var _={rowIndex:a,cellIndex:h,rowSpan:d,mapCellIndex:c};p==e&&(i=_);for(var g=0;d>g;g++){var y=r[a+g];y||(y=[],r[a+g]=y);for(var $=0;f>$;$++)y[c+$]=_}c+=f}}return{map:r,pos:i}},_handleKeyMap:function(t,e,i){var r,n,a=e.keyCode,s=!1,o=!1;if(!t||!a)return!1;for(var l,c=0;l=t[c];c++)if(this._validateModifiers(l,e)){if(n=l&&"event"in l?l.event:"keydown",!l.key||n!=e.type)return!1;if(i===!0&&this._hasModalBehaviour&&!l.modal)continue;if(aria.utils.Type.isNumber(l.key)){if(l.key==a){s=this.$callback(l.callback),o=!0;break}}else if("*"!==l.key){if(e["KC_"+l.key.toUpperCase()]==a){s=this.$callback(l.callback),o=!0;break}}else r=l.callback}return o?s?!1:(e.preventDefault(),!0):r?!this.$callback(r):!1}}});
//*******************
//LOGICAL-PATH:aria/templates/SectionWrapper.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.SectionWrapper",$extends:"aria.templates.DomElementWrapper",$dependencies:["aria.utils.DomOverlay","aria.utils.Dom"],$constructor:function(t,e){if(t)for(;1!=t.nodeType;)t=t.parentNode;this.$DomElementWrapper.constructor.call(this,t,e.tplCtxt),this.insertAdjacentSection=function(i,r){return"beforeBegin"!=i&&"afterBegin"!=i&&"beforeEnd"!=i&&"afterEnd"!=i?(this.$logError(aria.utils.Dom.INSERT_ADJACENT_INVALID_POSITION,[i]),void 0):(e.tplCtxt.insertAdjacentSections({position:i,refSection:{domElt:t,object:e},sections:[r]}),void 0)},this.remove=function(){e.$dispose();var i=t.parentNode;aria.utils.Dom.removeElement(t),aria.utils.Dom.refreshDomElt(i),this.$dispose()},this.setProcessingIndicator=function(i,r){var n,a=!0;i?n=aria.utils.DomOverlay.create(t,r):(n=aria.utils.DomOverlay.detachFrom(t),n||(a=!1)),a&&e.registerProcessingIndicator(i,n)};var i=this.classList.setClassName;this.classList.setClassName=function(t){i.call(this,t),e.cssClass=t};var r=this.setClassName;this.setClassName=function(t){r.call(this,t),e.cssClass=t};var n=this._dispose;this._dispose=function(){n.call(this),e=null,n=null,r=null}},$prototype:{}});
//*******************
//LOGICAL-PATH:aria/templates/Section.js
//*******************
(function(){var t=null,e=0,i=1,r=/^[\w\-:\.]+\+?$/;Aria.classDefinition({$classpath:"aria.templates.Section",$dependencies:["aria.utils.Array","aria.utils.Json","aria.utils.Delegate","aria.templates.NavigationManager","aria.templates.CfgBeans","aria.utils.Dom","aria.utils.String","aria.utils.Json","aria.templates.DomElementWrapper","aria.utils.Html","aria.templates.DomEventWrapper","aria.utils.IdManager","aria.templates.SectionWrapper"],$onload:function(){t=new aria.utils.IdManager("s")},$onunload:function(){t.$dispose(),t=null},$constructor:function(t,e,i){var n,s,a,o;if(this._content=[],this.parent=null,this._initWidgetsDone=!1,this.html=null,this._bindings=[],this._processing=null,this.delegateIds=[],this.cfgOk=!0,this.tplCtxt=t,this.delegateCallbacks=[],this.isRoot=i&&i.isRoot===!0,this.idMap=i&&i.ownIdMap?{}:null,this._cfg=e,this._normalizeCallbacks(),this.delegateId=aria.utils.Delegate.add({fn:this._onDomEvent,scope:this}),!this.isRoot&&(this.cfgOk=aria.core.JsonValidator.validateCfg("aria.templates.CfgBeans."+this.$class+"Cfg",e,{msg:this.INVALID_CONFIGURATION,params:[this.tplCtxt.tplClasspath,e.id]}),this.cfgOk)){o=e.type,s=e.bindRefreshTo,a=e.id;var l;if(a){if(!r.test(a))return this.$logError(this.INVALID_SECTION_ID,[this.tplCtxt.tplClasspath,a]),this.cfgOk=!1,void 0;a.indexOf("+")>-1&&(Aria.testMode&&(l=this.tplCtxt.$getAutoId(a)),delete e.id,a=null)}this.domType=o,this._domId=l||(a?this.tplCtxt.$getId(a):this._createDynamicId()),this.id=a||"_gen_"+this._domId,this.cssClass=e.cssClass,this.keyMap=e.keyMap,this.tableNav=e.tableNav,this.processingLabel=e.processingLabel,this.__skipProcessingChange=!1,this.macro=e.macro?t.checkMacro(e.macro):null,this.wrapper=null;for(var c=0;n=s[c];c++)this.registerBinding(n,this._notifyDataChange);this.registerProcessing(e.bindProcessingTo),this._refreshMgrInfo=null,this.attributes=e.attributes;var h=e.bind&&e.bind.attributes?e.bind.attributes:null;h&&(this.attributes=h.inside[h.to],this.registerBinding(h,this._notifyAttributeChange))}},$destructor:function(){this.removeDelegateIdsAndCallbacks(),this._releaseAllDynamicIds(),this.delegateId&&(aria.utils.Delegate.remove(this.delegateId),this.delegateId=null),this._content&&(this.removeContent(),this.id&&this.idMap&&(this.idMap[this.id]=null,delete this.idMap[this.id]),this._content=null,this.idMap=null);var t=this.parent;t&&(this.parent=null,t.removeSubSection(this)),this._listenersStopped!==!0&&this.stopListeners(),this._processing=null,this.setDom(null),this.html=null,this._refreshMgrInfo=null,this.tplCtxt=null,this._cfg=null},$events:{beforeRemoveContent:"",afterRemoveContent:""},$statics:{MISSING_TO_BINDING:"Invalid Binding Configuration: 'to' is mandatory",INVALID_TO_BINDING:"Invalid Binding Configuration: 'to' must be a Boolean value or null",WIDGETCALL_ERROR:"Error in '%2' for widget '%1'.",INVALID_SECTION_ID:"Error in template '%1': invalid section id '%2'.",SECTION_ALREADY_EXISTS:"Error in template '%1': section uses already used id '%2'.",SECTION_BINDING_ERROR:"Section binding failed. Inside: %1, to: %2. Section id: %3, template: %4.",INVALID_CONFIGURATION:"Error in template '%1': invalid configuration for section id '%2'.",WIDGET_ID_NOT_UNIQUE:"The %1 widget with id %2 does not have a unique id",SECTION_CALLBACK_ERROR:"The callback function raised an exception. Template: '%1'\nSection: '%2'\nEvent: '%3' "},$prototype:{$init:function(t){t.__navigationManager=aria.templates.NavigationManager,t.__json=aria.utils.Json},_type:e,initWidgets:function(){var t=[];if(this._initWidgetsDone)return t;this._initWidgetsDone=!0,this.html=null;for(var e=this._content,r=e.length,n=0;r>n;n++){var s=e[n];if(s._type==i){var a=s.behavior;if(a.initWidget)try{a.initWidget(),a.isDiffered&&t.push(a)}catch(o){this.$logError(this.WIDGETCALL_ERROR,[a.$classpath,"initWidget"],o)}}else t=t.concat(s.initWidgets())}return this.refreshProcessingIndicator(),t},removeContent:function(){this.$raiseEvent("beforeRemoveContent"),this._removingContent=!0;for(var t=this._content,e=t.length,r=0;e>r;r++){var n=t[r];if(n._type==i){var s=n.behavior;n.id&&this.idMap&&(this.idMap[n.id]=null,delete this.idMap[n.id]),s.$dispose()}else n.$dispose()}this._content=[],this._initWidgetsDone=!1,this._removingContent=!1,this.$raiseEvent("afterRemoveContent")},removeDelegateIdsAndCallbacks:function(){if(this.delegateIds){for(var t=0,e=this.delegateIds.length;e>t;t++)aria.utils.Delegate.remove(this.delegateIds[t]);this.delegateIds=[]}for(var t=0,e=this.delegateCallbacks.length;e>t;t++)this.delegateCallbacks[t].$dispose();this.delegateCallbacks=[]},addBehavior:function(t){var e=t.getId?t.getId():null,r={_type:i,behavior:t,section:this,id:e};e&&this.idMap&&(this.idMap[e]?(this.$logError(this.WIDGET_ID_NOT_UNIQUE,[this.tplCtxt.tplClasspath,e,t.$class]),r.id=null):this.idMap[e]=r),this._content.push(r)},getBehaviorById:function(t){var e=this.idMap?this.idMap[t]:null;return e&&e._type==i?e.behavior:null},getSectionById:function(t){var i=this.idMap?this.idMap[t]:null;return i&&i._type==e?i:null},addSubSection:function(t){this.$assert(141,!t.parent),this.$assert(142,t._type==e),this.$assert(143,t.tplCtxt==this.tplCtxt),t.parent=this,t.__updateIdMap(this.idMap),this._content.push(t)},__updateIdMap:function(t){if(this.idMap!=t){this.idMap=t;var i=this.id;i&&t&&(t[i]?this.$logError(this.SECTION_ALREADY_EXISTS,[this.tplCtxt.tplClasspath,i]):t[i]=this);for(var r=this._content,n=r.length,s=0;n>s;s++){var a=r[s];a._type==e?a.__updateIdMap(t):(i=a.id,i&&t&&(t[i]?this.$logError(this.WIDGET_ID_NOT_UNIQUE,[this.tplCtxt.tplClasspath,i,a.behavior.$class]):t[i]=a))}}},removeSubSection:function(t){this._removingContent||aria.utils.Array.remove(this._content,t)},registerBinding:function(t,e){if(t){var i={fn:e||this._notifyDataChange,scope:this,args:{tplCtxt:this.tplCtxt}};try{t.recursive=t.recursive!==!1,this.__json.addListener(t.inside,t.to,i,!0,t.recursive),this._bindings.push({inside:t.inside,callback:i,to:t.to,recursive:t.recursive})}catch(r){this.$logError(this.SECTION_BINDING_ERROR,[t.inside,t.to,this.id,this.tplCtxt.tplClasspath])}}},__isValidProcessingBind:function(t){if(!t||null==t.to)return this.$logError(this.MISSING_TO_BINDING),!1;var e=t.inside[t.to];return null==e||aria.utils.Type.isBoolean(e)?!0:(this.$logError(this.INVALID_TO_BINDING),!1)},registerProcessing:function(t){t&&this.__isValidProcessingBind(t)&&(this.registerBinding(t,this._notifyProcessingChange),this._processing={inside:t.inside,to:t.to})},registerProcessingIndicator:function(t,e){var i=this._processing,r=!!i;this.tplCtxt.registerProcessingIndicator(t,e,this.id),r&&(this.__skipProcessingChange=!0,this.__json.setValue(i.inside,i.to,t),this.__skipProcessingChange=!1)},refreshProcessingIndicator:function(t){if(t)for(var e=this._content,i=0,r=e.length;r>i;i++)e[i].refreshProcessingIndicator?e[i].refreshProcessingIndicator(!0):e[i].behavior&&e[i].behavior.subTplCtxt&&e[i].behavior.subTplCtxt.refreshProcessingIndicator();var n=this._processing,s=!!n;s&&n.inside[n.to]&&this.getWrapper().setProcessingIndicator(!0,this.processingLabel)},_notifyDataChange:function(t,e){this._initWidgetsDone&&e.tplCtxt._cfg&&e.tplCtxt._cfg.tplDiv&&(this.macro?e.tplCtxt.$refresh({section:this.id,macro:this.macro}):e.tplCtxt.$refresh({filterSection:this.id}))},_notifyAttributeChange:function(t){var e,i,r=this.getDom();if(this._cfg.bind&&t.dataName===this._cfg.bind.attributes.to){for(e in t.oldValue)t.oldValue.hasOwnProperty(e)&&!t.newValue[e]&&r.removeAttribute(e);for(e in t.newValue)t.newValue.hasOwnProperty(e)&&!aria.utils.Json.isMetadata(e)&&aria.templates.DomElementWrapper.attributesWhiteList.test(e)&&t.newValue[e]!==t.oldValue[e]&&null!=t.newValue[e]&&r.setAttribute(e,t.newValue[e])}else aria.templates.DomElementWrapper.attributesWhiteList.test(t.dataName)&&t.newValue!==t.oldValue&&(i=t.newValue?!1:!0,i?r.removeAttribute(t.dataName,t.newValue):r.setAttribute(t.dataName,t.newValue))},_notifyProcessingChange:function(t){this.__skipProcessingChange||this.getWrapper().setProcessingIndicator(t.newValue,this.processingLabel)},getWrapper:function(){var t=this.wrapper;return t||(this.wrapper=t=new aria.templates.SectionWrapper(this.getDom(),this)),t},writeBegin:function(t){if(this.domType){var e=this.cssClass?' class="'+this.cssClass+'"':"",i=this.attributes?aria.utils.Html.buildAttributeList(this.attributes):"",r=["<",this.domType,i,e,' id="',this._domId,'" ',aria.utils.Delegate.getMarkup(this.delegateId),">"];t.write(r.join(""))}},writeEnd:function(t){this.domType&&t.write("</"+this.domType+">")},_onDomEvent:function(t){if(this.__navigationManager.handleNavigation(this.keyMap,this.tableNav,t),this._cfg&&this._cfg.on){var e=this._cfg.on[t.type];if(e){var i,r=new aria.templates.DomEventWrapper(t);try{i=e.fn.call(e.scope,r,e.args)}catch(n){this.$logError(this.SECTION_CALLBACK_ERROR,[this.tplCtxt.tplClasspath,this._cfg.id,t.type],n)}return r.$dispose(),i}}},_normalizeCallbacks:function(){var t=this._cfg?this._cfg.on:null;if(t)for(var e in t)t.hasOwnProperty(e)&&(t[e]=this.$normCallback(t[e]))},copyConfigurationTo:function(t){this.$assert(708,null==t.idMap),t.id=this.id,t.domType=this.domType,t.tableNav=this.tableNav,t.keyMap=this.keyMap,t.macro=this.macro},notifyRefreshPlanned:function(t){var e=this._registerInRefreshMgr();e.queue=null,e.refreshArgs=t},_registerInRefreshMgr:function(){var t=this._refreshMgrInfo;return t||(t={refreshArgs:null,queue:[]},this._refreshMgrInfo=t,aria.templates.RefreshManager.queue({fn:this._refreshManagerCallback,scope:this},this)),t},_refreshManagerCallback:function(){var t=this._refreshMgrInfo;if(t){this._refreshMgrInfo=null;var e=t.queue;e||this.tplCtxt.$refresh(t.refreshArgs)}},beforeRefresh:function(t){var e=this.macro;if(e)if(t.macro){var i=t.macro;aria.utils.Type.isObject(i)&&!i.name&&(i.name=e.name,i.scope=e.scope,i.args||(i.args=e.args))}else t.macro=e;this._domElt=null},getDom:function(){return this._domElt||(this._domElt=aria.utils.Dom.getElementById(this._domId)),this._domElt},setDom:function(t){this._domElt=t,this.wrapper&&(this.wrapper.$dispose(),this.wrapper=null)},_createDynamicId:function(){var e=t.getId();return this._dynamicIds?this._dynamicIds.push(e):this._dynamicIds=[e],e},_releaseAllDynamicIds:function(){var e=this._dynamicIds;if(e){for(var i=e.length-1;i>=0;i--)t.releaseId(e[i]);this._dynamicIds=null}},moveContentTo:function(t){var i=this._content;this.$assert(805,null==this.idMap),this.$assert(806,i);for(var r=t._content,n=r.length,s=0,a=i.length;a>s;s++){var o=i[s];r[n+s]=o,o._type==e&&(o.parent=t)}this.__updateIdMap(t.idMap),t.delegateIds=t.delegateIds.concat(this.delegateIds),t.delegateCallbacks=t.delegateCallbacks.concat(this.delegateCallbacks),this.delegateIds=[],this.delegateCallbacks=[];var l=null;return t._initWidgetsDone&&(l=this.initWidgets()),this.idMap=null,this._content=[],l},stopListeners:function(){this.$assert(838,this._listenersStopped!==!0),this._listenersStopped=!0;var t=this._bindings;if(t)for(var e,i=0;e=t[i];i++)this.__json.removeListener(e.inside,e.to,e.callback,e.recursive)},resumeListeners:function(){this.$assert(859,this._listenersStopped===!0),this._listenersStopped=!1;var t=this._bindings;if(t)for(var e,i=0;e=t[i];i++)this.__json.addListener(e.inside,e.to,e.callback,!0,e.recursive)},writeContent:function(t){this.macro&&t.callMacro(this.macro)}}})})();
//*******************
//LOGICAL-PATH:aria/templates/MarkupWriter.js
//*******************
(function(){Aria.classDefinition({$classpath:"aria.templates.MarkupWriter",$dependencies:["aria.templates.Section","aria.utils.Delegate","aria.templates.DomEventWrapper","aria.utils.Type"],$constructor:function(t,e){var i=e?e.filterSection:null;this._out=[],this._ctrlStack=[],this.tplCtxt=t,this.sectionState=i?this.SECTION_SEARCHING:this.SECTION_KEEP,this.write=i?this.__writeSkip:this.__writeOK,this._filterSection=i,this._topSection=i?null:new aria.templates.Section(this.tplCtxt,null,{isRoot:!0,ownIdMap:e&&e.ownIdMap}),this._currentSection=this._topSection,this._delegateMap=null},$destructor:function(){this._currentSection=null,this._delegateMap=null,this._topSection&&(this._topSection.$dispose(),this._topSection=null)},$statics:{SECTION_SEARCHING:0,SECTION_KEEP:1,SECTION_SKIP:2,SECTION_FILTER_NOT_FOUND:"Error while refreshing template '%1': filter section '%2' was not found."},$prototype:{skipContent:!1,_beginSectionOrRepeater:function(t,e){if(this.sectionState!=this.SECTION_SKIP){var i=t.id;if(this.sectionState==this.SECTION_KEEP||i==this._filterSection){var r=new e(this.tplCtxt,t);if(!r.cfgOk)return r.$dispose(),void 0;this.sectionState==this.SECTION_KEEP?(this._currentSection&&this._currentSection.addSubSection(r),r.writeBegin(this)):(this.sectionState=this.SECTION_KEEP,this.write=this.__writeOK),this._currentSection=r,r.writeContent(this)}}},repeater:function(t){this._beginSectionOrRepeater(t,aria.templates.Repeater),this.endSection()},beginSection:function(t){this._beginSectionOrRepeater(t,aria.templates.Section)},endSection:function(){if(this.sectionState==this.SECTION_KEEP){var t=this._currentSection;t.id==this._filterSection?(this._topSection=this._currentSection,this.sectionState=this.SECTION_SKIP,this.write=this.__writeSkip):this.sectionState==this.SECTION_KEEP&&(t.writeEnd(this),this._currentSection=t.parent),this.$assert(99,!!this._currentSection)}},addToCtrlStack:function(t){this._ctrlStack.push(t)},removeFromCtrlStack:function(){return this._ctrlStack.pop()},__writeOK:function(t){if(this._delegateMap&&(t||0===t)){t=""+t;var e=t.indexOf(">");if(-1!=e){var i=this._delegateMap;this._delegateMap=null;var r=function(t){var e=new aria.templates.DomEventWrapper(t),r=!0,n=i[t.type];return n&&(r=n.call(e)),e.$dispose(),r},n=aria.utils.Delegate.add(r);return this._currentSection.delegateIds.push(n),this._out.push(t.substring(0,e)),this._out.push(" "+aria.utils.Delegate.getMarkup(n)),this._out.push(t.substring(e)),void 0}}this._out.push(t)},__writeSkip:function(){},pushDelegate:function(t,e){if(this._currentSection){var i=aria.utils.Delegate;if(this.sectionState==this.SECTION_KEEP){if(!i.isDelegated(t)){var r=i.add(e);return this._currentSection.delegateIds.push(r),this.write(i.getFallbackMarkup(t,r,!0)),void 0}e=new aria.utils.Callback(e),this._currentSection.delegateCallbacks.push(e),this._delegateMap||(this._delegateMap={}),this._delegateMap[t]=e}}},registerBehavior:function(t){this._currentSection&&this._currentSection.addBehavior(t)},callMacro:function(t){this.tplCtxt._callMacro(this,t)},getSection:function(){var t=this._topSection;return t?(t.html=this._out.join(""),this._delegate=null):this.$logError(this.SECTION_FILTER_NOT_FOUND,[this.tplCtxt.tplClasspath,this._filterSection]),this._out=null,this._topSection=null,t}}})})();
//*******************
//LOGICAL-PATH:aria/templates/PublicWrapper.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.PublicWrapper",$prototype:{$publicInterfaceName:null,$publicInterface:function(){return this.$interface(this.$publicInterfaceName)}}});
//*******************
//LOGICAL-PATH:aria/templates/ObjectLoading.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.ObjectLoading",$extends:"aria.templates.PublicWrapper",$implements:["aria.templates.IObjectLoading"],$constructor:function(){this.$PublicWrapper.constructor.call(this)},$prototype:{$publicInterfaceName:"aria.templates.IObjectLoading",notifyObjectLoaded:function(t){this.$raiseEvent({name:"objectLoaded",object:t})}}});
//*******************
//LOGICAL-PATH:aria/templates/ModuleCtrlFactory.js
//*******************
(function(){var t,e,i,r,n,s,a,o,l,c,h,u,d,p="__$moduleCtrlId",f={},m=aria.core.Interfaces.generateKey,_=function(t,e){e&&this.$logError(this.EXCEPTION_CREATING_MODULECTRL,[t.desc.classpath],e),this.$callback(t.cb,{error:!0})},g=function(t){var e=Function();return e.prototype=t,new e};t=function(t){var i=Aria.getClassRef(t.desc.classpath);i?(t.moduleCtrlConstr=i,e.call(this,t)):Aria.load({classes:[t.desc.classpath],oncomplete:{args:t,scope:this,fn:e},onerror:{args:t,scope:this,fn:_}})},e=function(t){try{var e=t.desc.classpath,r=t.moduleCtrlConstr;if(r||(r=Aria.getClassRef(e),t.moduleCtrlConstr=r),!r||!aria.utils.Type.isInstanceOf(r.prototype,"aria.templates.ModuleCtrl"))return this.$logError(this.INVALID_MODULE_CTRL,[e]),_.call(this,t);var n=new t.moduleCtrlConstr(t.desc.constructorArgs);if(t.moduleCtrlPrivate=n,n.$hasFlowCtrl){var s,a=n.$hasFlowCtrl;a===!0&&(a=e+"Flow"),a=aria.core.environment.Customizations.getFlowCP(a),t.flowCtrlClasspath=a,s=Aria.getClassRef(a),s?(t.flowCtrlConstr=s,i.call(this,t)):Aria.load({classes:[a],oncomplete:{args:t,scope:this,fn:i},onerror:{args:t,scope:this,fn:_}})}else i.call(this,t)}catch(o){return _.call(this,t,o)}},i=function(t){try{var e,i,n=t.moduleCtrlPrivate,s=n.$publicInterface();if(t.flowCtrlClasspath){if(t.flowCtrlConstr||(t.flowCtrlConstr=Aria.getClassRef(t.flowCtrlClasspath)),!t.flowCtrlConstr||!aria.utils.Type.isInstanceOf(t.flowCtrlConstr.prototype,"aria.templates.FlowCtrl"))return this.$logError(this.INVALID_FLOW_CTRL,[t.flowCtrlClasspath]),_.call(this,t);e=new t.flowCtrlConstr,e.setModuleCtrl(s),n.$addInterceptor(n.$publicInterfaceName,e),i=e.$publicInterface()}var a=m(f),o={moduleCtrlPrivate:n,moduleCtrl:s,flowCtrlPrivate:e,flowCtrl:i,subModuleInfos:t.subModuleInfos};f[a]=o,s[p]=a,n[p]=a,t.res={error:!1,moduleCtrlPrivate:n,moduleCtrl:s};var l=aria.core.environment.Customizations.getCustomModules(t.desc.classpath);if(l.length>0){var c=t.recursionCheck;c=c?g(c):{},c[t.desc.classpath]=1,u.call(this,o,l,{fn:r,scope:this,args:t},!0,c)}else r.call(this,null,t)}catch(h){return _.call(this,t,h)}},r=function(t,e){try{var i=e.registerListeners;if(i&&e.res.moduleCtrl.$on(i),e.session&&e.res.moduleCtrl.setSession(e.session),e.skipInit)this.$callback(e.cb,e.res);else{var r=e.desc.initArgs;r||(r={}),e.res.moduleCtrl.init(r,{fn:n,args:e,scope:this})}}catch(s){return _.call(this,e,s)}},n=function(t,e){this.$callback(e.cb,e.res)},s=function(t){var e=t[p],i=f[e];return i?i:(aria.templates.ModuleCtrlFactory.$logError(aria.templates.ModuleCtrlFactory.MODULECTRL_BYPASSED_FACTORY,[t.$classpath]),null)},a=s,o=function(t,e){var i=s(t);return i?i.moduleCtrlPrivate!=t?(aria.templates.ModuleCtrlFactory.$logError(aria.templates.ModuleCtrlFactory.EXPECTING_MODULECTRL_PRIVATE,[e,t.$classpath]),null):i:null},l=function(t,e,i,r){for(var n,s=i.length,a=0;s-1>a;a++)n=i[a],null==t[n]&&(t[n]={}),t=t[n];n=i[s-1];var o=!1;return null!=r?(null==t[n]&&(t[n]=[]),t=t[n],t[r]&&(o=!0),t[r]=e):(t[n]&&(o=!0),t[n]=e),o},c=function(t,e,i,r){var n,s=e.refpath,a=t.moduleCtrlPrivate,o=t.moduleCtrl.getData(),c=t.moduleCtrl,h=i?i.getData():null;r?(n=[s],a=null):(n=s.split("."),"_"==s.charAt(0)&&(o=null,c=null));var u=!1;a&&(u=l(a,i,n,e.arrayIndex)||u),o&&(u=l(o,h,n,e.arrayIndex)||u),c&&(u=l(c,i,n,e.arrayIndex)||u),null!=i&&u&&this.$logError(this.SUBMODULE_REFPATH_ALREADY_USED,[s,e.classpath,t.moduleCtrlPrivate.$classpath])},h=function(t,e){var i=e.common,r=e.subModuleDesc,n=t.moduleCtrl;if(i.res.subModules[e.subModuleIdx]=n,i.alreadyLoaded++,n){var s=i.parentModule,a=s.subModules;c.call(this,s,r,n,i.customModules),a?a.push(t.moduleCtrlPrivate):s.subModules=[t.moduleCtrlPrivate]}else{var o=e.error||this.SM_CREATION_FAILED;i.res.errors++,this.$logError(o,[r.refpath,r.classpath,i.parentModule.moduleCtrlPrivate.$classpath])}i.alreadyLoaded>=i.toBeLoaded&&this.$callback(i.cb,i.res)},u=function(e,i,r,n,s){var a=i.length;if(0===a)return this.$callback(r,{subModules:[],errors:0}),void 0;for(var o=e.moduleCtrlPrivate,l={cb:r,res:{subModules:[],errors:0},parentModule:e,alreadyLoaded:0,toBeLoaded:a,customModules:n},c=aria.utils.Type,u=0;a>u;u++){var d=i[u],p=!1;n&&c.isString(d)&&(d={classpath:d,refpath:"custom:"+d});var f=d.classpath;aria.core.JsonValidator.check(d,"aria.templates.CfgBeans.SubModuleDefinition")?n&&"custom:"!=d.refpath.substring(0,7)?p=this.INVALID_CUSTOM_MODULE_REFPATH:s&&s[f]&&(p=this.CUSTOM_MODULES_INFINITE_RECURSION):p=this.INVALID_SM_DEF,p?h.call(this,{},{error:p,subModuleIdx:u,subModuleDesc:d,common:l}):t.call(this,{recursionCheck:s,subModuleInfos:{parentModule:e,customModule:n,subModuleDesc:d},registerListeners:n?null:{"*":{fn:o.onSubModuleEvent,scope:o,args:{smRef:d.refpath}},beforeDispose:{fn:o._onSubModuleBeforeDisposeEvent,scope:o,args:{smRef:d.refpath}}},desc:{classpath:f,initArgs:d.initArgs,constructorArgs:d.constructorArgs},session:e.moduleCtrlPrivate._session,cb:{fn:h,scope:this,args:{subModuleIdx:u,subModuleDesc:d,common:l}}})}},d=function(t,e){var i=e.objectLoading,r=t.subModules[0];if(r){var n=aria.core.Interfaces;if(n.linkItfWrappers(e.oldModuleCtrl,r),e.oldFlowCtrl){var a=s(r),o=a.flowCtrl;o&&n.linkItfWrappers(e.oldFlowCtrl,o)}}i.notifyObjectLoaded(r),i.$dispose(),this.$callback(e.callback)},Aria.classDefinition({$classpath:"aria.templates.ModuleCtrlFactory",$dependencies:["aria.templates.CfgBeans","aria.templates.ObjectLoading","aria.core.environment.Customizations"],$singleton:!0,$statics:{INVALID_SM_DEF:"Sub-module load failure: invalid module definition:\nreference: %1,\nclasspath: %2,\nparent class: %3",INVALID_CUSTOM_MODULE_REFPATH:"Error : invalid custom module refpath.\nrefpath: %1\nmodule class: %2\nparent class: %3",CUSTOM_MODULES_INFINITE_RECURSION:"Error: custom modules infinite recursion detected.\nrefpath: %1\nmodule class: %2\nparent class: %3",SM_CREATION_FAILED:"Sub-module creation failed:\nmodule name: %1,\nmodule class: %2\nparent class: %3",MODULECTRL_BYPASSED_FACTORY:"Error : module controller is already disposed or was not created using the module controller factory.\nmodule class: %1.",INVALID_MODULE_CTRL:"Error: %1 is not a module controller.",INVALID_FLOW_CTRL:"Error: %1 is not a flow controller.",EXPECTING_MODULECTRL_PRIVATE:"Error: %1 expected the whole module controller and only an interface was provided.\nmodule class: %2",EXCEPTION_CREATING_MODULECTRL:"Error: an exception occurred during the process of module controller creation.\nmodule class: %1",SUBMODULE_REFPATH_ALREADY_USED:"Sub-module refpath is already used (the existing path was replaced).\nrefpath: %1\nmodule class: %2\nparent class: %3",EXCEPTION_SUBMODULE_DISPOSE:"An exception occurred while disposing a sub-module.\nparent module class: %1\nchild module class: %2",RELOAD_ONLY_FOR_SUBMODULES:"The module reload feature is only available for sub-modules, and not for root modules.\nmodule class: %1",DISPOSE_NOT_SUBMODULE:"Error: disposeSubModule was called with a parameter which is not a sub-module of the current module.\nparent module class: %1\nclass of the parameter: %2"},$prototype:{createModuleCtrl:function(e,i,r){var n={desc:e,cb:i,skipInit:r};t.call(this,n)},__disposeSubModule:function(t,e){var i=s(e);if(i){var r=i.subModuleInfos;return r&&r.parentModule.moduleCtrlPrivate==t?(i.moduleCtrlPrivate.$dispose(),void 0):(this.$logError(this.DISPOSE_NOT_SUBMODULE,[t.$classpath,i.moduleCtrlPrivate.$classpath]),void 0)}},__loadSubModules:function(t,e,i){var r=o(t,"loadSubModules");return r?(u.call(this,r,e,i,!1),void 0):this.$callback(i,{error:!0})},__getModulePrivateInfoMethod:function(){var t=a;return a=null,t},isModuleCtrlReloadable:function(t){if(null==t)return!1;var e=t[p],i=f[e];if(!i)return!1;if(i.moduleCtrlPrivate!=t)return!1;var r=i.subModuleInfos;return null!=r},reloadModuleCtrl:function(t,e){var i=o(t,"reloadModuleCtrl");if(i){var r=i.subModuleInfos;if(null==r)return this.$logError(this.RELOAD_ONLY_FOR_SUBMODULES,[t.$classpath]),void 0;var n=r.parentModule;this.$assert(668,null!=n);var s=i.moduleCtrl,a=i.flowCtrl,l=aria.core.ClassMgr,c=[t.$classpath,t.$publicInterfaceName],h=i.flowCtrlPrivate;h&&(c[2]=h.$classpath,c[3]=h.$publicInterfaceName);var p=new aria.templates.ObjectLoading;t.__$reloadingObject=p,t.$dispose();for(var f=0,m=c.length;m>f;f++)l.unloadClass(c[f],!0);u.call(this,n,[r.subModuleDesc],{fn:d,scope:this,args:{objectLoading:p,oldModuleCtrl:s,oldFlowCtrl:a,callback:e}},r.customModule)}},__notifyModuleCtrlDisposed:function(t){var e=t[p],i=o(t,"notifyModuleCtrlDisposed");if(i){i.isDisposing=!0;var r=i.subModuleInfos,n=r?r.parentModule:null;n&&!n.isDisposing&&(aria.utils.Array.remove(n.subModules,t),c.call(this,n,r.subModuleDesc,null,r.customModule));var s=i.subModules;if(s){for(var a=s.length-1;a>=0;a--)try{s[a].$dispose()}catch(l){this.$logError(this.EXCEPTION_SUBMODULE_DISPOSE,[t.$classpath,s[a].$classpath],l)}i.subModules=null}f[e]=null,delete f[e],i.flowCtrlPrivate&&(i.flowCtrlPrivate.$dispose(),i.flowCtrlPrivate=null,i.flowCtrl=null),i.moduleCtrl=null,i.moduleCtrlPrivate=null,i.subModuleInfos=null}}}})})();
//*******************
//LOGICAL-PATH:aria/templates/RefreshManager.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.RefreshManager",$singleton:!0,$constructor:function(){this._stops=0,this._queue=[],this._hierarchies=[],this._updatedNodes=[],this._nodesToRefresh=[],this._isResuming=!1},$destructor:function(){this._queue=null,this._hierarchies=null,this._updatedNodes=null,this._nodesToRefresh=null},$statics:{PARENT_PROP:Aria.FRAMEWORK_PREFIX+"containedIn"},$prototype:{queue:function(t,e){this._queue.push({cb:t,elem:e})},stop:function(){this._isResuming||this._stops++},_triggerCB:function(t){var e,i=t.scope;i=i?i:this,e=t.fn?t.fn:t,"string"==typeof e&&(e=i[e]),t.scope.$Widget?e.call(i,null,t.args):e.call(i,t.args)},resume:function(){if(!(this._isResuming||(this._stops--,this._stops>0))){this._stops=0,this._isResuming=!0;var t=this._queue.length;if(null==Aria.rootTemplates||0===Aria.rootTemplates.length){for(var e=0;t>e;e++)this._triggerCB(this._queue[e].cb);return this._queue=[],this._isResuming=!1,void 0}this.updateHierarchies(),this._updatedNodes.length=0;for(var i=this._hierarchies.length,r=0;i>r;r++)for(var n=this._hierarchies[r],s=0;t>s;s++){var a=this._queue[s],o=this._findInHierarchy(a,n);o&&(o.updated||(o.updated=!0,o.qElem=a,this._updatedNodes.push(o)),this._queue.splice(s,1),s--,t--)}this._computeMinimal();for(var a,l,e=0,c=this._nodesToRefresh.length;c>e;e++)a=this._nodesToRefresh[e].qElem,l=a.cb,this._triggerCB(l);for(var h=0;t>h;h++)a=this._queue[h],l=a.cb,this._triggerCB(l);this._queue=[],this._isResuming=!1}},isResuming:function(){return this._isResuming},_findInHierarchy:function(t,e){if(this._elemMatches(t,e))return e;if(null==e.content)return null;if(e.content.length>0)for(var i=0;e.content.length>i;i++){var r=e.content[i],n=this._findInHierarchy(t,r);if(null!=n)return n}return null},_elemMatches:function(t,e){var i=t.cb.args&&(null!=t.cb.args.filterSection||null!=t.cb.args.outputSection);if(i){if("section"==e.type){var r=e.elem.tplCtxt;if(r!=t.elem)return!1;var n=t.cb.args.filterSection||t.cb.args.outputSection,s=e.elem.id;return n==s}return!1}return"template"==e.type?t.elem==e.elem:"templateWidget"==e.type?e.elem.behavior?e.elem.behavior.subTplCtxt==t.elem:e.elem.subTplCtxt==t.elem:"widget"==e.type?e.elem.behavior._subTplCtxt==t.elem?!0:e.elem.behavior==t.elem:"section"==e.type?e.elem==t.elem:void 0},isStopped:function(){return this._stops>0},getHierarchies:function(){return this._hierarchies},updateHierarchies:function(){this._hierarchies.length=0;for(var t=0;Aria.rootTemplates.length>t;t++){var e=Aria.rootTemplates[t];if(e._mainSection){var i=this._fillNode(e);this._hierarchies.push(i)}}},_computeMinimal:function(){this._nodesToRefresh.length=0;for(var t=0;this._hierarchies.length>t;t++)this._markSubnodesToRefresh(this._hierarchies[t])},_markSubnodesToRefresh:function(t){if(t.updated){this._nodesToRefresh.push(t);var e=t.elem;if(!e.refreshManagerWholeUpdate)return;if(e.refreshManagerWholeUpdate())return}if(t.content&&t.content.length>0)for(var i=0;t.content.length>i;i++){var r=t.content[i];this._markSubnodesToRefresh(r)}},_fillNode:function(t){var e={type:null,elem:t,content:[]};if("aria.templates.TemplateCtxt"==t.$classpath){e.type="template";var i=t._mainSection._content;this._addContent(e,i)}else if("aria.widgets.Template"==t.$classpath){if(e.type="templateWidget",t.subTplCtxt&&t.subTplCtxt._mainSection){var r=t.subTplCtxt._mainSection._content;this._addContent(e,r)}}else if(1==t._type){var n=t.behavior;if("aria.widgets.Template"==n.$classpath){if(e.type="templateWidget",n.subTplCtxt&&n.subTplCtxt._mainSection){var r=n.subTplCtxt._mainSection._content;this._addContent(e,r)}}else if(e.type="widget",t.behavior._subTplCtxt){var s=t.behavior._subTplCtxt._mainSection._content;this._addContent(e,s)}else if("aria.widgets.form.DatePicker"==t.behavior.$classpath){if(t.behavior.controller._calendar&&t.behavior.controller._calendar._tplWidget){var a=[t.behavior.controller._calendar._tplWidget];this._addContent(e,a)}}else if("aria.widgets.form.MultiSelect"==t.behavior.$classpath){if(t.behavior.controller._listWidget){var a=[t.behavior.controller._listWidget._tplWidget];this._addContent(e,a)}}else e.content=null}else null!=t.idMap&&(e.type="section",this._addContent(e,t._content));return e},_addContent:function(t,e){for(var i=0;e.length>i;i++){var r=this._fillNode(e[i]);r[this.PARENT_PROP]=t,t.content.push(r)}}}});
//*******************
//LOGICAL-PATH:aria/templates/ModuleCtrl.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.ModuleCtrl",$extends:"aria.templates.PublicWrapper",$implements:["aria.templates.IModuleCtrl"],$dependencies:["aria.utils.Json","aria.utils.Type","aria.templates.ModuleCtrlFactory","aria.templates.RefreshManager","aria.modules.RequestMgr"],$constructor:function(){this.$PublicWrapper.constructor.call(this),this._data={},this._dataBeanName=null,this._smList=null,this.__resources=null,this._session=null,this.$requestHandler=null,this.$requestJsonSerializer=null,null==this._enableMethodEvents&&(this.$logWarn(this.DEPRECATED_METHOD_EVENTS),this._enableMethodEvents=!0),this._enableMethodEvents=this._enableMethodEvents!==!0?!1:this._enableMethodEvents,this._enableMethodEvents&&this.$addInterceptor(this.$publicInterfaceName,{fn:this._interceptPublicInterface,scope:this})},$destructor:function(){this.$raiseEvent({name:"beforeDispose",reloadingObject:this.__$reloadingObject}),this._enableMethodEvents&&this.$removeInterceptors(this.$publicInterfaceName,this,this._interceptPublicInterface),this._smLoads=null,this._data=null,this._resources=null,this._smList=null,aria.templates.ModuleCtrlFactory.__notifyModuleCtrlDisposed(this),this.$PublicWrapper.$destructor.call(this),this.$requestJsonSerializer=null},$statics:{INIT_CALLBACK_ERROR:"An error occured while processing a Module init callback in class %1",DATA_CONTENT_INVALID:"Content of datamodel does not match databean:\nbean name: %1,\nmodule class: %2",DEPRECATED_METHOD_EVENTS:"Generic method events (methodCallBegin, methodCallEnd, methodCallback) will be turned off by default in a future release. If the application relies on those events please set the enableMethodEvents variable to true. To already benefit from performance improvements by disabling them, you can set this variable to false."},$prototype:{$hasFlowCtrl:!1,$publicInterfaceName:"aria.templates.IModuleCtrl",$init:function(t){t.json=aria.utils.Json},init:function(t,e){this.$callback(e,!0,this.INIT_CALLBACK_ERROR)},_interceptPublicInterface:function(t){"CallBegin"!=t.step||aria.templates.ModuleCtrl.prototype[t.method]||aria.templates.RefreshManager.stop();var e={name:"method"+t.step,method:t.method};this.$raiseEvent(e),"CallEnd"!=t.step||aria.templates.ModuleCtrl.prototype[t.method]||aria.templates.RefreshManager.resume()},submitJsonRequest:function(t,e,i){var r=aria.utils.Type;if(r.isString(i)||r.isFunction(i)){var s={fn:i,scope:this};i=s}else r.isObject(i)&&null==i.scope&&(i.scope=this);var n={fn:this._submitJsonRequestCB,scope:this,args:{cb:i}},a={moduleName:this.$package,session:this._session,actionQueuing:null,requestHandler:this.$requestHandler,urlService:this.$urlService,requestJsonSerializer:this.$requestJsonSerializer};r.isString(t)?a.actionName=t:a.serviceSpec=t,aria.modules.RequestMgr.submitJsonRequest(a,e,n)},_submitJsonRequestCB:function(t,e){aria.templates.RefreshManager.stop(),this.$callback(e.cb,t),aria.templates.RefreshManager.resume()},onSubModuleEvent:function(){},_onSubModuleBeforeDisposeEvent:function(t){var e=this._smList;if(e)for(var i=0,r=e.length;r>i;i++)if(e[i]==t.src){aria.utils.Array.removeAt(e,i),t.reloadingObject&&t.reloadingObject.$onOnce({objectLoaded:{scope:this,fn:this.__onSubModuleReloaded}});break}},__onSubModuleReloaded:function(t){this._smList&&this._smList.push(t.object)},loadSubModules:function(t,e){aria.templates.ModuleCtrlFactory.__loadSubModules(this,t,{fn:this.__onLoadSubModulesComplete,scope:this,args:e})},__onLoadSubModulesComplete:function(t,e){var i=t.subModules;i&&i.length>0&&(this._smList||(this._smList=[]),this._smList=this._smList.concat(t.subModules)),this.$callback(e,t)},disposeSubModule:function(t){aria.templates.ModuleCtrlFactory.__disposeSubModule(this,t)},getData:function(){return this._data},setData:function(t,e){this.json.inject(t,this._data,e),this._dataBeanName&&(aria.core.JsonValidator.normalize({json:this._data,beanName:this._dataBeanName})||this.$logError(this.DATA_CONTENT_INVALID,[this._dataBeanName,this.$classpath]))},getResourceSet:function(){if(!this.__resources){if(!this.$resources)return void 0;this.__resources={};for(var t in this.$resources)this.__resources[t]=this.$resources[t].hasOwnProperty("provider")?this[t]:Aria.getClassRef(this.$resources[t])}return this.__resources},getSubModuleCtrl:function(t){if(this._smList)for(var e=this._smList.length,i=0;e>i;i++){var r=this._smList[i];if(r&&t==r.getData())return r}return this.$publicInterface()},registerListener:function(t){var e=this.$publicInterface();this.$on({"*":t},e)},unregisterListeners:function(t){var e=this.$publicInterface();this.$unregisterListeners(t,e)},setSession:function(t){if(this._session=t,this._smList)for(var e=this._smList.length,i=0;e>i;i++){var r=this._smList[i];r&&r.setSession(t)}}}});
//*******************
//LOGICAL-PATH:aria/templates/Template.js
//*******************
(function(){var t=function(t){t&&t.changedProperties&&!aria.utils.Array.contains(t.changedProperties,"contextualMenu")||Aria.load({classes:[i]})},e=function(){var t=aria.core.AppEnvironment.applicationSettings.contextualMenu;return t&&t.enabled},i="aria.tools.contextual.ContextualMenu",r=["aria.tools.contextual.environment.ContextualMenu","aria.templates.TemplateCtxt","aria.utils.Array","aria.utils.Json","aria.templates.ITemplate","aria.utils.environment.VisualFocus"];e()&&r.push(i),Aria.classDefinition({$classpath:"aria.templates.Template",$extends:"aria.templates.BaseTemplate",$dependencies:r,$statics:{EXCEPTION_IN_CONTROL_PARAMETERS:"line %2: Uncaught runtime exception in control %3 for parameters '%1'",EXCEPTION_IN_REPEATER_PARAMETER:"line %2: Uncaught runtime exception in repeater parameter '%1'"},$onload:function(){var e=aria.tools.contextual.environment.ContextualMenu;e.getContextualMenu().enabled||aria.core.AppEnvironment.$on({environmentChanged:t,scope:{}})},$prototype:{$width:void 0,$height:void 0,$init:function(t,e){t.$BaseTemplate.constructor.classDefinition.$prototype.$init(t,e);var i=aria.templates.ITemplate.prototype;for(var r in i)i.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(t[r]=i[r]);t.$json=aria.utils.Json},onModuleEvent:function(){},onFlowEvent:function(){},$dataReady:function(){},$viewReady:function(){},$displayReady:function(){}}})})();
//*******************
//LOGICAL-PATH:aria/templates/TemplateCtxt.js
//*******************
(function(){var t,e,i,r=["$refresh","$getChild","$getElementById","$focus","$hdim","$vdim","getContainerScroll","setContainerScroll","__$writeId","__$processWidgetMarkup","__$beginContainerWidget","$getId","__$endContainerWidget","__$statementOnEvent","__$statementRepeater","__$createView","__$beginSection","__$endSection","__$bindAutoRefresh","$setFocusedWidget","$getFocusedWidget"],s=["data","moduleCtrl","flowCtrl","moduleRes"],a={},n=function(t){var e=a[t];return null==e&&(e=Aria.getClassRef(t),a[t]=e),void 0===e&&this.$logError(this.WIDGET_LIBRARY_NOT_FOUND,[t,this.tplClasspath]),e},o=0;Aria.classDefinition({$classpath:"aria.templates.TemplateCtxt",$dependencies:["aria.templates.Layout","aria.templates.CfgBeans","aria.utils.Array","aria.utils.Function","aria.utils.Type","aria.templates.TemplateCtxtManager","aria.templates.RefreshManager","aria.templates.CSSMgr","aria.utils.Path","aria.utils.Delegate","aria.templates.NavigationManager","aria.templates.SectionWrapper","aria.core.environment.Customizations","aria.utils.Dom","aria.templates.DomElementWrapper","aria.templates.MarkupWriter","aria.utils.DomOverlay"],$implements:["aria.templates.ITemplate","aria.templates.ITemplateCtxt"],$extends:"aria.templates.BaseCtxt",$onload:function(){t=aria.templates.Layout,e=aria.core.JsonValidator},$onunload:function(){t=null,e=null},$events:{Ready:""},$constructor:function(){this.$BaseCtxt.constructor.apply(this,arguments),this._differed=null,this._ready=!1,this.__dataGround=null,this.__wrappers=[],this.__loadingOverlays=[],this.__loadingOverlaysSection={},this._cfg=null,this._persistentStorage=null,this._focusedWidgetPath=[],this._globalCssDepsLoaded=!1},$destructor:function(){if(aria.templates.TemplateCtxtManager.remove(this),this._cssClasses){if(aria.templates.CSSMgr.unloadDependencies(this),this._globalCssDepsLoaded){var e=["aria.templates.GlobalStyle"];aria.widgets&&aria.widgets.AriaSkin&&e.push("aria.templates.LegacyGeneralStyle"),aria.templates.CSSMgr.unloadWidgetDependencies("aria.templates.Template",e),this._globalCssDepsLoaded=!1}this._cssClasses=null}this.__dataGround&&(aria.utils.Json.setValue(this.__dataGround,"data",null),this.__dataGround=null),this.__disposeProcessingIndicators(),this.__disposeWrappers();var i=this._tpl;if(i){try{this.flowCtrl&&this.flowCtrl.$unregisterListeners(i),this.moduleCtrl&&this.moduleCtrl.$removeListeners({"*":{fn:i.onModuleEvent,scope:i,firstOnly:!0},beforeDispose:{fn:this._beforeModuleDispose,scope:this,firstOnly:!0}})}catch(a){this.$logError(this.TEMPLATE_EXCEPTION_REMOVING_LISTENERS,[this.tplClasspath],a)}try{i.$dispose()}catch(a){this.$logError(this.TEMPLATE_DESTR_ERROR,[this.tplClasspath],a)}i.__$write=null;for(var n,o=0;n=s[o];o++)delete i[n];for(o=0;n=r[o];o++)delete i[n];this._tpl=null}var l=this._mainSection;l&&(l.$dispose(),this._mainSection=null);var c=this._cfg;if(c){var h=c.tplDiv;if(h&&(this.__removeDebugInfo(h),c.tplDiv=null),c.div){var u=aria.utils.Type.isObject;(u(c.width)||u(c.height))&&t.unregisterAutoresize(c.div),aria.utils.Dom.replaceHTML(c.div,""),c.div=null}if(c.toDispose){for(var d=c.toDispose,p=d.length-1;p>=0;p--)d[p].$dispose();c.toDispose=null,d=null}c.data=null,c.macro=null,this._cfg=null}this.data=null,this.moduleRes=null,this.moduleCtrl=null,this.moduleCtrlPrivate=null,this.flowCtrl=null,this.flowCtrlPrivate=null,this.$BaseCtxt.$destructor.call(this)},$statics:{WIDGET_LIBRARY_NOT_FOUND:"Error in template '%2': widget library '%1' was not found.",INVALID_STATE_FOR_REFRESH:"Error in template '%1': calling $refresh while the template is being refreshed is not allowed.",SECTION_OUTPUT_NOT_FOUND:"Error while refreshing template '%1': output section '%2' was not found.",VAR_NULL_OR_UNDEFINED:"Template %2 \nLine %1: expression is null or undefined.",SECTION_BINDING_ERROR_SINGLE_VAR:"line %1: Cannot bind section to single variable except data. Binding must be something like container.parameter",BINDREFRESHTO_STATEMENT_DEPRECATED:"Template '%1', line %2:\nThe {bindRefreshTo} statement is deprecated. It will be removed in Aria Templates 1.5.1. Please use 'bindRefreshTo' property of a {section} statement instead.",SECTION_MACRO_MISUSED:"Template %1 \nline %2: section statement must either be a container or have a non-null macro property.",SECTION_MISSING_ID:"Template %1 \nline %2: A section used as a container must have an id.",TEMPLATE_EXCEPTION_REMOVING_LISTENERS:"Error in template '%1' while removing module or flow listeners.",TEMPLATE_NOT_READY_FOR_REFRESH:"Error in template '%1': the $refresh method was called, but the template is not yet ready to be refreshed.",FOCUS_FAILURE:"Focus failure: widget/element with id '%1' in '%2' does not exist or it is not yet ready for focus.",DATA_READY_EXCEPTION:"Error in template %1: an exception happened in $dataReady.",VIEW_READY_EXCEPTION:"Error in template %1: an exception happened in $viewReady.",DISPLAY_READY_EXCEPTION:"Error in template %1: an exception happened in $displayReady.",BEFORE_REFRESH_EXCEPTION:"Error in template %1: an exception happened in $beforeRefresh.",AFTER_REFRESH_EXCEPTION:"Error in template %1: an exception happened in $afterRefresh.",ALREADY_REFRESHING:"$refresh was called while another refresh is happening on the same template (%1). This is not allowed. Please check bindings.",MISSING_MODULE_CTRL_FACTORY:"Template %1 cannot be initialized without aria.templates.ModuleCtrlFactory, make sure it is loaded",DEPRECATED_FILTER_SECTION:"Template %1 : '%2' is deprecated. Please use 'section' with the section id"},$prototype:{dataReady:function(){try{this._tpl.$dataReady()}catch(t){this.$logError(this.DATA_READY_EXCEPTION,[this.tplClasspath],t)}},viewReady:function(){try{this._tpl.$viewReady()}catch(t){this.$logError(this.VIEW_READY_EXCEPTION,[this.tplClasspath],t)}},displayReady:function(){try{this._tpl.$displayReady()}catch(t){this.$logError(this.DISPLAY_READY_EXCEPTION,[this.tplClasspath],t)}},beforeRefresh:function(t){if(this._tpl.$beforeRefresh)try{this._tpl.$beforeRefresh(t)}catch(e){this.$logError(this.BEFORE_REFRESH_EXCEPTION,[this.tplClasspath],e)}},afterRefresh:function(t){if(this._tpl.$afterRefresh)try{this._tpl.$afterRefresh(t)}catch(e){this.$logError(this.AFTER_REFRESH_EXCEPTION,[this.tplClasspath],e)}},$refresh:function(t){if(aria.templates.RefreshManager.isStopped()){if(t){var i=t.section||t.outputSection||t.filterSection;if(i&&this._mainSection){var r=this._mainSection.getSectionById(i);if(r)return r.notifyRefreshPlanned(t),void 0}}aria.templates.RefreshManager.queue({fn:this.$refresh,args:t,scope:this},this)}else{if(!this._cfg.tplDiv)return this.$logError(this.TEMPLATE_NOT_READY_FOR_REFRESH,[this.tplClasspath]),void 0;this._refreshing&&this.$logError(this.ALREADY_REFRESHING,[this.tplClasspath]),this._refreshing=!0,aria.templates.RefreshManager.stop(),aria.templates.CSSMgr.stop(),this.$assert(304,!!this._tpl);var s={json:t,beanName:"aria.templates.CfgBeans.RefreshCfg"};e.normalize(s),t=s.json,this.beforeRefresh(t);var r=this.getRefreshedSection({filterSection:t.filterSection,outputSection:t.outputSection,section:t.section,macro:t.macro});this.__disposeProcessingIndicators(r),r&&!r.id&&this.__disposeWrappers(),aria.templates.CSSMgr.resume(),null!=r&&this.insertSection(r),this._refreshing=!1,aria.templates.RefreshManager.resume(),null!=r&&(this.afterRefresh(t),this.$raiseEvent({name:"SectionRefreshed",sectionID:r.id}))}},$getFocusedWidget:function(){return this._focusedWidgetPath},$setFocusedWidget:function(){var t=Aria.$window.document.activeElement;this._focusedWidgetPath=this._getWidgetPath(t)},_getWidgetPath:function(t){if("BODY"===t.tagName||!aria.utils.Dom.isInDom(t))return[];for(var e=[];!t.__widget;)t=t.parentElement||t.parentNode;var i=t.__widget.getId();if(!i)return[];e.unshift(i);for(var r=t.__widget._context;this!==r&&null!==r;){if(i=r.getOriginalId(),!i)return[];e.unshift(i),r=r.parent}return null===r?[]:e},getOriginalId:function(){return this._cfg.originalId},getMarkup:function(t,e){this.$assert(299,null==this._cfg.tplDiv),this.$assert(301,null==this._mainSection);var i=this.getRefreshedSection({macro:t,filterSection:e,outputSection:null});return i.html},linkToPreviousMarkup:function(t){var e=this._cfg;this.$assert(320,null!=t),this.$assert(322,null==e.tplDiv),this.$assert(324,null!=this._mainSection),e.tplDiv=t,e.div=t.parentNode?t.parentNode:null,this.__addDebugInfo(t),this.insertSection(this._mainSection,!0),this.afterRefresh(),this.$raiseEvent({name:"SectionRefreshed",sectionID:null})},__addDebugInfo:function(t){t&&t.setAttribute&&(t.setAttribute("_template",this.tplClasspath),t.__template=this._tpl,t.__moduleCtrl=this.moduleCtrlPrivate?this.moduleCtrlPrivate:this.moduleCtrl,t.__data=this.data)},__removeDebugInfo:function(t){t&&(t.__data=null,t.__moduleCtrl=null,t.__template=null)},getRefreshedSection:function(t){var i={json:t,beanName:"aria.templates.CfgBeans.GetRefreshedSectionCfg"};e.normalize(i),t=i.json,t.filterSection&&this.$logWarn(this.DEPRECATED_FILTER_SECTION,[this.tplClasspath,"filterSection"]),t.outputSection&&this.$logWarn(this.DEPRECATED_FILTER_SECTION,[this.tplClasspath,"outputSection"]);var r=t.filterSection,s=t.section||t.outputSection||r,a=null;if(null!=s){if(a=this._mainSection?this._mainSection.getSectionById(s):null,null==a)return this.$logError(this.SECTION_OUTPUT_NOT_FOUND,[this.tplClasspath,s]),null;a.beforeRefresh(t),a.stopListeners()}var n=t.writerCallback;null==n&&(n={fn:this._callMacro,args:t.macro,scope:this});var o=this.createSection(n,{filterSection:r,ownIdMap:null==a});if(null==o)return null;if(null==a)this._mainSection&&this._mainSection.$dispose(),this._mainSection=o;else if(r){a.copyConfigurationTo(o);var l=a.parent;this.$assert(402,null!=l),a.$dispose(),l.addSubSection(o)}else a.removeContent(),a.removeDelegateIdsAndCallbacks(),o.moveContentTo(a),a.html=o.html,o.$dispose(),o=a,o.resumeListeners();return o},_setOut:function(t){this._out=t;for(var e=this._macrolibs||[],i=0,r=e.length;r>i;i++)e[i]._setOut(t)},insertAdjacentSections:function(t){var i=t.position,r={json:t,beanName:"aria.templates.CfgBeans.InsertAdjacentSectionsCfg"};e.normalize(r);var s=this.createSection({fn:this.__dynamicSectionWriter,scope:this,args:t});aria.utils.Dom.insertAdjacentHTML(t.refSection.domElt,i,s.html),aria.utils.Dom.refreshDomElt(this._cfg.tplDiv);var a=t.refSection.object;("beforeBegin"==i||"afterEnd"==i)&&(a=a.parent),this.$assert(459,a);var n=s.moveContentTo(a);s.$dispose(),this.$assert(466,n),this.__processDifferedItems(n);for(var o=0;t.sections.length>o;o++)this.afterRefresh({outputSection:t.sections[o].id})},__dynamicSectionWriter:function(t,e){for(var i=e.sections,r=0,s=i.length;s>r;r++)this.__$beginSection(null,!1,i[r]),this.__$endSection()},createSection:function(t,e){if(null!=this._out)return this.$logError(this.INVALID_STATE_FOR_REFRESH,[this.tplClasspath]),null;var i=new aria.templates.MarkupWriter(this,e),r=null;return this._setOut(i),this.$callback(t,i),r=i.getSection(),i.$dispose(),this._setOut(null),r},insertSection:function(e,i){var r,s=this._cfg,a=this._tpl,n=e.id?e.getDom():s.tplDiv;n&&(i||(n=aria.utils.Dom.replaceHTML(n,e.html),e.setDom(n)),e.id||t.setDivSize(n,a.$width,a.$height,"hidden"),aria.utils.Delegate.addExpando(n,e.delegateId),r=e.initWidgets(),this.__processDifferedItems(r)),i||(this.$assert(743,s.tplDiv&&a),aria.utils.Dom.refreshDomElt(s.tplDiv))},__processDifferedItems:function(t){if(t.length>0){for(var e=0,i=t.length;i>e;e++)t[e].$onOnce({ElementReady:this.__checkContextReadyCb,scope:this});this._differed=t}else this.__checkContextReadyCb()},__checkContextReadyCb:function(t){if(t){var e=t.src,i=this._differed;i&&aria.utils.Array.remove(i,e)}i&&i.length||(this._differed=null,this._ready=!0,this.displayReady(),this.$raiseEvent("Ready"))},__$processWidgetMarkup:function(t,e,i,r){var s=this._out;if(s.sectionState==s.SECTION_KEEP){var a=n.call(this,t);a&&a.processWidgetMarkup(e,s,i,r)}},__$beginContainerWidget:function(t,e,i,r){var s=this._out;if(s.sectionState==s.SECTION_SKIP)return!1;s.skipContent=!1;var a=n.call(this,t);if(!a)return!1;var o=a.processWidgetMarkupBegin(e,s,i,r);return s.skipContent||null==o?(o&&o.writeMarkupEnd(s),!1):(s.addToCtrlStack(o),!0)},__$endContainerWidget:function(){var t=this._out,e=t.removeFromCtrlStack();e.writeMarkupEnd(t)},__$statementOnEvent:function(t,e){this._out.pushDelegate(t,e)},__$statementRepeater:function(t,e){this._out.repeater(e)},initTemplate:function(a){if(!e.normalize({json:a,beanName:"aria.templates.CfgBeans.InitTemplateCfg"}))return!1;this._out=null,this._cfg=a,a.id?this._id=a.id:(this._id="tpl"+o,o++),Aria.testMode&&(this._prefixIds={}),this.tplClasspath=a.classpath;var n;try{n=Aria.getClassInstance(a.classpath)}catch(l){return this.$logError(this.TEMPLATE_CONSTR_ERROR,[a.classpath],l),!1}this._tpl=n,null==a.macro&&(a.macro={name:"main",args:a.args,scope:n}),a.macro=this.checkMacro(a.macro);var c,h,u=a.context,d=a.moduleCtrl,p=a.data;if(u&&!d&&(p||(p=u.data),d=u.moduleCtrl),d)if(aria.templates.ModuleCtrlFactory){if(i||(i=aria.templates.ModuleCtrlFactory.__getModulePrivateInfoMethod()),c=i.call(this,d),!c)return!1;if(h=c.moduleCtrlPrivate,p){if(u){var f=h.getSubModuleCtrl(p);if(f!=d){if(d=f,c=i.call(this,d),!c)return!1;h=c.moduleCtrlPrivate}}}else p=h.getData()}else this.$logError(this.MISSING_MODULE_CTRL_FACTORY,[a.classpath]);this.data=p,this.moduleCtrl=d,c&&(this.flowCtrl=c.flowCtrl,this.flowCtrlPrivate=c.flowCtrlPrivate,this.moduleCtrlPrivate=h,this.moduleRes=h.getResourceSet()),a.data=p,a.moduleCtrl=d,aria.templates.TemplateCtxtManager.add(this),null!=this.data&&(this.__dataGround={data:this.data});var _,m,g=this;for(_=0;m=s[_];_++)n[m]=this[m];var $=aria.utils.Function;for(_=0;m=r[_];_++)n[m]=$.bind(this[m],this);n.__$write=function(t,e){return g.__$write(t,e,this.$classpath)},this.moduleCtrl&&this.moduleCtrl.$on({"*":{fn:n.onModuleEvent,scope:n},beforeDispose:{fn:this._beforeModuleDispose,scope:this}}),this.flowCtrl&&this.flowCtrl.$on({"*":n.onFlowEvent,scope:n}),this._width={},this._height={},this.$setViewportWidth(t.realWidth(a.width)),this.$setViewportHeight(t.realHeight(a.height)),this.$setSizeCfg(n.__$width,n.__$height),this.__addDebugInfo(a.tplDiv);var v=n.__$initTemplate();return this.__loadLibs(n.__$macrolibs,"macrolibs"),v},__$beginSection:function(t,e,i,r){aria.utils.Type.isString(i)&&(i={id:i},r&&(i.type=r)),e&&!i.id&&this.$logError(this.SECTION_MISSING_ID,[this.tplClasspath,t]),e===(null!=i.macro)&&(this.$logError(this.SECTION_MACRO_MISUSED,[this.tplClasspath,t]),e&&(i.macro=null)),this._out.beginSection(i)},__$endSection:function(){return this._out.endSection()},__$write:function(t,e,i){return(void 0===t||null===t)&&this.$logWarn(this.VAR_NULL_OR_UNDEFINED,[e,i]),this._out.write(t)},$hdim:function(e,i,r){return t.getSODim(this._width,e,i,r)},$vdim:function(e,i,r){return t.getSODim(this._height,e,i,r)},getContainerDiv:function(){return this._cfg&&this._cfg.div?this._cfg.div:null},$setViewportWidth:function(e){var i=this._width;return t.setSOViewport(i,e),this._tpl.$width!=i.value?(this._tpl.$width=i.value,!0):!1},$setViewportHeight:function(e){var i=this._height;return t.setSOViewport(i,e),this._tpl.$height!=i.value?(this._tpl.$height=i.value,!0):!1},$setSizeCfg:function(e,i){e&&t.setSOSizeCfg(this._width,e),this._tpl.$width=this._width.value,i&&t.setSOSizeCfg(this._height,i),this._tpl.$height=this._height.value},evalCallback:function(t,e,i){return this._tpl.$callback(t,e,i)},$getId:function(t){return[this._id,t].join("_")},$getAutoId:function(t){t=this._id+"_"+t.replace(/\+/g,"");var e=this._prefixIds,i=e[t]=(e[t]||0)+1;return t+"_auto_"+i},__$writeId:function(t){var e=this._out.tplCtxt.getDomId(t);e&&this._out.write('id="'+e+'"')},getDomId:function(t){var t=t+"";return t&&-1!=t.indexOf("+")?Aria.testMode?this.$getAutoId(t):null:this.$getId(t)},$getElementById:function(t){var e=this.$getId(t),i=aria.utils.Dom.getElementById(e);if(!i)return null;var r,s=this._mainSection.getSectionById(t);return r=s?new aria.templates.SectionWrapper(i,s):new aria.templates.DomElementWrapper(i,this),this.__wrappers&&this.__wrappers.push(r),r},$getChild:function(t,e){var i=aria.utils.Dom,r=this.$getId(t),s=i.getElementById(r);if(s)var a=i.getDomElementChild(s,e);if(a){var n=new aria.templates.DomElementWrapper(a,this);return this.__wrappers&&this.__wrappers.push(n),n}return null},getBehaviorById:function(t){return null==this._mainSection?null:this._mainSection.getBehaviorById(t)},getPersistentStorage:function(){var t=this._persistentStorage;return null==t&&(this.data?(t=this.data[Aria.FRAMEWORK_PREFIX+"persist::"+this.tplClasspath],null==t&&(t={},this.data[Aria.FRAMEWORK_PREFIX+"persist::"+this.tplClasspath]=t)):t={},this._persistentStorage=t),t},$focus:function(t){(aria.core.Browser.isIE7||aria.core.Browser.isIE8)&&Aria.$window.document.body.focus();var e;if(aria.utils.Type.isArray(t)?(t=t.slice(0),e=t.shift()):(e=t,t=[]),e){var i=!1,r=this.getBehaviorById(e);if(r&&r.focus!==void 0&&(r.focus(t),i=!0),!i){var s=this.$getId(e),a=aria.utils.Dom.getElementById(s);a&&(a.focus(),i=!0)}i||this.$logError(this.FOCUS_FAILURE,[e,this.tplClasspath])}},$focusFromParent:function(){if(this._tpl.$focusFromParent)return this._tpl.$focusFromParent();var t=aria.utils.Dom.getElementById(this._id);return aria.templates.NavigationManager.focusFirst(t)},__$createView:function(t,e,i){var r=this.getPersistentStorage();e.unshift(t);for(var s,a=e.length,n=r,o=0;a-1>o;o++)s=e[o],n[s]||(n[s]=[]),n=n[s];return s=e[a-1],n[s]?(n=n[s],n.initialArray=i):(n[s]=new aria.templates.View(i),n=n[s]),n.refresh(),r[t]},isReady:function(){return this._ready},_beforeModuleDispose:function(t){var e=t.reloadingObject,i=this._getReloadCfg(),r=e&&this.moduleCtrl.getData()==i.data;if(Aria.disposeTemplate(i.div),e){var s=this;e.$on({scope:{},objectLoaded:function(t){i.moduleCtrl=t.object,r&&(i.data=t.object.getData()),s._callLoadTemplate(i)}})}},_getReloadCfg:function(){var t=this.getContainerDiv(),e=this._cfg.origClasspath?this._cfg.origClasspath:this._cfg.classpath,i={classpath:e,width:this._cfg.width,height:this._cfg.height,printOptions:this._cfg.printOptions,div:t,data:this._cfg.data,moduleCtrl:this.moduleCtrlPrivate,provideContext:!0,args:this._cfg.args};return this._cfg.toDispose=[],i},_callLoadTemplate:function(t,e){var i=t.div;if(!aria.utils.Dom.isInDom(i))return this.$callback(e),void 0;var r=i.__widget;Aria.loadTemplate(t,function(t){if(t.success&&r){var i=t.tplCtxt,s=aria.templates.TemplateCtxtManager;s.remove(i),t.tplCtxt._cfg.isRootTemplate=!1,s.add(i),r.subTplCtxt=i}null!=e&&this.$callback(e)})},$reload:function(t,e){var i=this._getReloadCfg();t&&aria.templates.TemplateManager.$onOnce({unloadTemplate:{fn:function(){var e=i.classpath.replace(/\./g,"/")+".tpl",r=aria.core.Cache.getItem("files",e,!0);r.status=3,r.value=t},scope:this}}),i.reload=!0,i.reloadByPassCache=!0;var r=Aria.disposeTemplate(i.div);r?this._callLoadTemplate(i,e):this.$logError("Could not reload template: "+i.classpath)},__$bindAutoRefresh:function(t,e,i){if(this.$logWarn(this.BINDREFRESHTO_STATEMENT_DEPRECATED,[this.tplClasspath,i]),this._out._currentSection){var r={inside:t,to:e};null===e&&(t==this.data?(r.inside=this.__dataGround,r.to="data"):this.$logError(this.SECTION_BINDING_ERROR_SINGLE_VAR,[i])),this._out._currentSection.registerBinding(r)}},getCSSDependencies:function(){var t;return this._tpl&&(t=this._tpl.$css),null==t&&(t=[]),t},getCSSClassNames:function(t){var e=this._cssClasses;if(!e){if(this._cfg.isRootTemplate){var i=["aria.templates.GlobalStyle"];aria.widgets&&aria.widgets.AriaSkin&&i.push("aria.templates.LegacyGeneralStyle"),aria.templates.CSSMgr.loadWidgetDependencies("aria.templates.Template",i),this._globalCssDepsLoaded=!0}e=aria.templates.CSSMgr.loadDependencies(this),this._cssClasses=e}if(t)return e.join(" ");var r=["xTplContent"];return e.length&&(r=r.concat(e)),aria.core.TplClassLoader.addPrintOptions(r.join(" "),this._cfg.printOptions)},registerProcessingIndicator:function(t,e,i){this.$assert(1200,null!=e),t?i?this.__loadingOverlaysSection[i]=e:this.__loadingOverlays.push(e):i?delete this.__loadingOverlaysSection[i]:aria.utils.Array.remove(this.__loadingOverlays,e)},refreshProcessingIndicator:function(){this._mainSection&&this._mainSection.refreshProcessingIndicator(!0)},__disposeProcessingIndicators:function(t){var e=aria.utils.DomOverlay;e.disposeOverlays(this.__loadingOverlays),this.__loadingOverlays=[],!t||t.isRoot?(e.disposeOverlays(aria.utils.Array.extractValuesFromMap(this.__loadingOverlaysSection)),this.__loadingOverlaysSection={}):(e.disposeOverlays([this.__loadingOverlaysSection[t.id]]),delete this.__loadingOverlaysSection[t.id])},__disposeWrappers:function(){for(var t=this.__wrappers.length;t--;)this.__wrappers[t].$dispose(),this.__wrappers.splice(t,1)},getContainerScroll:function(){var t=null,e=this.getContainerDiv();return e&&(t={scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),t},setContainerScroll:function(t){var e=this.getContainerDiv();e&&t&&(t.hasOwnProperty("scrollLeft")&&null!=t.scrollLeft&&(e.scrollLeft=t.scrollLeft),t.hasOwnProperty("scrollTop")&&null!=t.scrollTop&&(e.scrollTop=t.scrollTop))}}})})();
//*******************
//LOGICAL-PATH:aria/templates/TemplateManager.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.TemplateManager",$singleton:!0,$events:{unloadTemplate:""},$prototype:{unloadTemplate:function(t,e,i){var r=aria.core.ClassMgr,s=t+"Script";(Aria.nspace(s,!1)||aria.core.Cache.getItem("classes",s))&&r.unloadClass(s,e);var a=Aria.$classDefinitions[t];if(a){if(!Aria.nspace(t,!1)&&a.$css&&aria.templates.CSSMgr.unregisterDependencies(t,a.$css,!0,e),null!=a.$resources){var n=a.$resources;for(var o in n)n.hasOwnProperty(o)&&!n[o].hasOwnProperty("provider")&&r.unloadClass(n[o],e)}var l=a.$extends;null!=l&&"aria.templates.Template"!=l&&void 0!==i&&i!=t&&this.unloadTemplate(l,e,i)}r.unloadClass(t,e),this.$raiseEvent({name:"unloadTemplate",classpath:t})}}});
//*******************
//LOGICAL-PATH:aria/templates/TemplateTrait.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.TemplateTrait",$prototype:{_onModuleCtrlLoad:function(){var t=this._tplcfg;if(t)if(this._needCreatingModuleCtrl){var e=this._cfg.moduleCtrl;aria.templates.ModuleCtrlFactory.createModuleCtrl(e,{fn:this._onTplLoad,scope:this,args:{autoDispose:e.autoDispose}})}else this._onTplLoad({moduleCtrl:t.moduleCtrl},{autoDispose:!1})},__innerTplReadyCb:function(){this.subTplCtxt.viewReady(),this.$raiseEvent("ElementReady"),this.isDiffered=!1},_focusHelper:function(t){return t&&t.length?(this.subTplCtxt.$focus(t),!0):this.subTplCtxt.$focusFromParent()},focus:function(t,e){return this.subTplCtxt?this._focusHelper(t):(this.$onOnce({ElementReady:function(){var i=this._focusHelper(t);i===!1&&this.$callback(e)},scope:this}),!0)}}});
//*******************
//LOGICAL-PATH:aria/widgetLibs/BaseWidget.js
//*******************
(function(){var t=null,e=null,i=function(t,e){return t._context&&(e||(e=[]),e.unshift("Template: "+t._context.tplClasspath+", Line: "+t._lineNumber+"\n")),e};Aria.classDefinition({$classpath:"aria.widgetLibs.BaseWidget",$dependencies:["aria.utils.IdManager","aria.templates.CSSMgr"],$onload:function(){t=new aria.utils.IdManager("w"),e=aria.utils.Array},$onunload:function(){t.$dispose(),t=null,e=null},$constructor:function(t,e,i){this._cfg=t,this._context=e,this._lineNumber=i,this._dynamicIds=null,aria.templates.CSSMgr.loadWidgetDependencies(this.$classpath,this.$css),this.__cssLoaded=!0},$destructor:function(){this._releaseAllDynamicIds(),this.__cssLoaded?(aria.templates.CSSMgr.unloadWidgetDependencies(this.$classpath,this.$css),this.__cssLoaded=!1):this.$logError(this.WIDGET_DISPOSED_TWICE),this._context=null,this._cfg=null},$statics:{WIDGET_CONTAINER_ONLY:"%1This widget must be used as a container.",WIDGET_NOT_CONTAINER:"%1This widget cannot be used as a container.",WIDGET_DISPOSED_TWICE:"This widget was disposed twice."},$prototype:{writeMarkup:function(){this.$logError(this.WIDGET_CONTAINER_ONLY)},writeMarkupBegin:function(){this.$logError(this.WIDGET_NOT_CONTAINER)},getDom:function(){return null},$logError:function(t,e,r){this.$JsObject.$logError.call(this,t,i(this,e),r)},$logWarn:function(t,e,r){this.$JsObject.$logWarn.call(this,t,i(this,e),r)},$logInfo:function(t,e,r){this.$JsObject.$logInfo.call(this,t,i(this,e),r)},$logDebug:function(t,e,r){this.$JsObject.$logDebug.call(this,t,i(this,e),r)},writeMarkupEnd:function(){},initWidget:function(){},_createDynamicId:function(){var e=t.getId();return this._dynamicIds?this._dynamicIds.push(e):this._dynamicIds=[e],e},_releaseDynamicId:function(i){var r=this._dynamicIds;if(r){var s=e.indexOf(r,i);-1!=s&&(t.releaseId(i),1==r.length?this._dynamicIds=null:e.removeAt(r,s))}},_releaseAllDynamicIds:function(){var e=this._dynamicIds;if(e){for(var i=e.length-1;i>=0;i--)t.releaseId(e[i]);this._dynamicIds=null}}}})})();
//*******************
//LOGICAL-PATH:aria/widgetLibs/BindableWidget.js
//*******************
Aria.classDefinition({$classpath:"aria.widgetLibs.BindableWidget",$extends:"aria.widgetLibs.BaseWidget",$statics:{INVALID_BEAN:"%1Invalid property '%2' in widget's '%3' configuration."},$dependencies:["aria.utils.Json","aria.utils.Type"],$constructor:function(t,e,i){this.$BaseWidget.constructor.call(this,t,e,i),this._bindingListeners={}},$destructor:function(){var t=this._bindingListeners,e=aria.utils.Json;for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];e.removeListener(r.inside,r.to,r.cb)}this._bindingListeners=null,this.$BaseWidget.$destructor.call(this)},$prototype:{_registerBindings:function(){var t=this._cfg.bind,e=aria.utils.Json;if(t)for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];if(r){var s={fn:this._notifyDataChange,scope:this,args:i};try{e.addListener(r.inside,r.to,s,!0),this._bindingListeners[i]={inside:r.inside,to:r.to,transform:r.transform,cb:s};var a=this._transform(r.transform,r.inside[r.to],"toWidget");this.setWidgetProperty(i,a)}catch(n){this.$logError(this.INVALID_BEAN,[i,"bind"])}}}},_notifyDataChange:Aria.empty,setWidgetProperty:Aria.empty,_transform:function(t,e,i){var r=e;if(t){var s=!1,a=aria.utils.Type;a.isString(t)&&-1!=t.indexOf(".")&&(t=Aria.getClassInstance(t),s=!0),t[i]?r=this.evalCallback(t[i],r):a.isFunction(t)&&(r=this.evalCallback(t,r)),s&&t.$dispose()}return r},evalCallback:function(t,e){return this._context.evalCallback(t,e)}}});
//*******************
//LOGICAL-PATH:aria/widgetLibs/WidgetLib.js
//*******************
Aria.classDefinition({$classpath:"aria.widgetLibs.WidgetLib",$statics:{UNKWOWN_WIDGET:"Unknown widget name in the library.",ERROR_WIDGET_INIT:"Template %1, line %2: an error occurred while initializing widget %3. Please check the name and classpath of the widget in the library, the constructor of the widget and its %4 method."},$prototype:{widgets:{},getWidgetDependencies:function(t,e){var i=this.widgets[t];return null==i?null:e||null==Aria.getClassRef(i)?[i]:[]},processWidgetMarkup:function(t,e,i,r){var s=this.widgets[t];try{if(!s)throw this.UNKWOWN_WIDGET;i||(i={});var a=Aria.getClassRef(s),n=new a(i,e.tplCtxt,r);e.registerBehavior(n),n.writeMarkup(e)}catch(o){e.write("#Error in widget:"+t+"#"),this.$logError(this.ERROR_WIDGET_INIT,[e.tplCtxt.tplClasspath,r,t,"writeMarkup"],o)}},processWidgetMarkupBegin:function(t,e,i,r){var s=this.widgets[t];try{if(s){i||(i={});var a=Aria.getClassRef(s),n=new a(i,e.tplCtxt,r);return e.registerBehavior(n),n.writeMarkupBegin(e),n}throw this.UNKWOWN_WIDGET}catch(o){e.write("#Error in widget:"+t+"#"),this.$logError(this.ERROR_WIDGET_INIT,[e.tplCtxt.tplClasspath,r,t,"writeMarkupBegin"],o)}}}});
//*******************
//LOGICAL-PATH:aria/tools/contextual/environment/ContextualMenuCfgBeans.js
//*******************
Aria.beanDefinitions({$package:"aria.tools.contextual.environment.ContextualMenuCfgBeans",$namespaces:{json:"aria.core.JsonTypes",environmentBase:"aria.core.environment.EnvironmentBaseCfgBeans"},$beans:{AppCfg:{$type:"json:Object",$restricted:!1,$properties:{contextualMenu:{$type:"ContextualMenuCfg",$default:{}}}},ContextualMenuCfg:{$type:"json:Object",$properties:{enabled:{$type:"json:Boolean",$default:Aria.debug},template:{$type:"json:PackageName",$default:"aria.tools.contextual.ContextualDisplay"},moduleCtrl:{$type:"json:PackageName",$default:"aria.tools.contextual.ContextualModule"}}}}});
//*******************
//LOGICAL-PATH:aria/tools/contextual/environment/ContextualMenu.js
//*******************
Aria.classDefinition({$classpath:"aria.tools.contextual.environment.ContextualMenu",$dependencies:["aria.tools.contextual.environment.ContextualMenuCfgBeans"],$extends:"aria.core.environment.EnvironmentBase",$singleton:!0,$prototype:{_cfgPackage:"aria.tools.contextual.environment.ContextualMenuCfgBeans.AppCfg",getContextualMenu:function(){return this.checkApplicationSettings("contextualMenu")}}});
//*******************
//LOGICAL-PATH:aria/html/DisabledTrait.js
//*******************
Aria.classDefinition({$classpath:"aria.html.DisabledTrait",$dependencies:["aria.utils.Type","aria.utils.Json"],$prototype:{initDisabledWidgetAttribute:function(){var t=this._cfg.bind,e=t.disabled;if(e){var i=this._transform(e.transform,e.inside[e.to],"toWidget");aria.utils.Type.isBoolean(i)?this._domElt.disabled=i:aria.utils.Json.setValue(e.inside,e.to,this._domElt.disabled)}},onDisabledBind:function(t,e){"disabled"===t&&(this._domElt.disabled=e)}}});
//*******************
//LOGICAL-PATH:aria/html/beans/ElementCfg.js
//*******************
Aria.beanDefinitions({$package:"aria.html.beans.ElementCfg",$namespaces:{json:"aria.core.JsonTypes",html:"aria.templates.CfgBeans"},$beans:{Properties:{$type:"json:Object",$properties:{id:{$type:"json:String",$mandatory:!1},tagName:{$type:"json:String",$sample:"div",$mandatory:!0},attributes:{$type:"html:HtmlAttribute",$default:{}},bind:{$type:"json:Object",$default:{},$restricted:!1},on:{$type:"json:Object",$default:{},$restricted:!1}},$restricted:!1}}});
//*******************
//LOGICAL-PATH:aria/html/Element.js
//*******************
(function(){function t(t){t.writeMarkup=Aria.empty,t.writeMarkupBegin=Aria.empty,t.writeMarkupEnd=Aria.empty,t.initWidget=Aria.empty}Aria.classDefinition({$classpath:"aria.html.Element",$extends:"aria.widgetLibs.BindableWidget",$dependencies:["aria.html.beans.ElementCfg","aria.core.JsonValidator","aria.utils.Html","aria.utils.Json","aria.utils.Delegate","aria.templates.DomEventWrapper","aria.utils.Dom","aria.utils.Type"],$constructor:function(e){this.$cfgBean=this.$cfgBean||"aria.html.beans.ElementCfg.Properties";var i=aria.core.JsonValidator.normalize({json:e,beanName:this.$cfgBean});if(this.$BindableWidget.constructor.apply(this,arguments),!i)return t(this);var r=e.id;this._id=r?this._context.$getId(r):this._createDynamicId(),this._domElt=null,this.__delegateId=null,this._registerBindings(),this._normalizeCallbacks()},$destructor:function(){this.__delegateId&&(aria.utils.Delegate.remove(this.__delegateId),this.__delegateId=null),this.$BindableWidget.$destructor.call(this),this._domElt=null},$prototype:{_normalizeCallbacks:function(){var t,e=this._cfg.on,i=!1;for(var r in e)if(e.hasOwnProperty(r)){i=!0,t=e[r],aria.utils.Type.isArray(t)||(t=[t]);for(var s=0,a=t.length;a>s;s++)t[s]=this.$normCallback.call(this._context._tpl,t[s]);e[r]=t}if(i){var n=aria.utils.Delegate;this.__delegateId=n.add({fn:this._delegate,scope:this})}},_delegate:function(t){var e,i,r=t.type,s=this._cfg.on[r];if(s){for(var a=new aria.templates.DomEventWrapper(t),n=0,o=s.length;o>n&&(e=s[n],i=e.fn.call(e.scope,a,e.args),i!==!1);n++);return a.$dispose(),i}},writeMarkup:function(t){this._openTag(t),t.write("/>")},writeMarkupBegin:function(t){this._openTag(t),t.write(">")},writeMarkupEnd:function(t){t.write("</"+this._cfg.tagName+">")},onbind:Aria.empty,initWidget:function(){this._domElt=aria.utils.Dom.getElementById(this._id)},getDom:function(){return this._domElt},_openTag:function(t){var e=this._cfg,i=aria.utils.Html.buildAttributeList(e.attributes),r=["<",e.tagName," id='",this._id,"' "];i&&r.push(i," "),this.__delegateId&&r.push(aria.utils.Delegate.getMarkup(this.__delegateId)," "),t.write(r.join(""))},_notifyDataChange:function(t,e){this.onbind(e,this._transform(this._cfg.bind[e].transform,t.newValue,"toWidget"),t.oldValue)},_chainListener:function(t,e,i,r){var s=t[e]||[];aria.utils.Type.isArray(s)||(s=[s]),r?s.push(i):s.splice(0,0,i),t[e]=s}}})})();
//*******************
//LOGICAL-PATH:aria/html/HtmlLibrary.js
//*******************
Aria.classDefinition({$classpath:"aria.html.HtmlLibrary",$extends:"aria.widgetLibs.WidgetLib",$singleton:!0,$prototype:{widgets:{TextInput:"aria.html.TextInput",Template:"aria.html.Template",CheckBox:"aria.html.CheckBox",RadioButton:"aria.html.RadioButton",Select:"aria.html.Select"}}});
//*******************
//LOGICAL-PATH:aria/html/InputElement.js
//*******************
(function(){Aria.classDefinition({$classpath:"aria.html.InputElement",$extends:"aria.html.Element",$dependencies:["aria.html.DisabledTrait"],$statics:{INVALID_USAGE:"Widget %1 can only be used as a %2.",BINDING_NEEDED:"The property '%2' from Widget %1 should be bound to a data model"},$constructor:function(t,e,i,r){t.tagName="input",t.attributes=t.attributes||{},t.attributes.type=r,this.$Element.constructor.call(this,t,e,i)},$prototype:{$init:function(t){var e=aria.html.DisabledTrait.prototype;for(var i in e)e.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=e[i])},writeMarkupBegin:function(){this.$logError(this.INVALID_USAGE,[this.$class,"container"])},writeMarkupEnd:Aria.empty,initWidget:function(){this.$Element.initWidget.call(this),this.initDisabledWidgetAttribute()},onbind:function(t,e,i){this.$Element.onbind.apply(this,arguments),this.onDisabledBind(t,e,i)}}})})();
//*******************
//LOGICAL-PATH:aria/html/beans/InputElementCfg.js
//*******************
Aria.beanDefinitions({$package:"aria.html.beans.InputElementCfg",$namespaces:{base:"aria.html.beans.ElementCfg",common:"aria.widgetLibs.CommonBeans"},$beans:{Properties:{$type:"base:Properties",$properties:{bind:{$type:"base:Properties.bind",$properties:{disabled:{$type:"common:BindingRef"}}}}}}});
//*******************
//LOGICAL-PATH:aria/html/beans/RadioButtonCfg.js
//*******************
Aria.beanDefinitions({$package:"aria.html.beans.RadioButtonCfg",$namespaces:{json:"aria.core.JsonTypes",base:"aria.html.beans.InputElementCfg",common:"aria.widgetLibs.CommonBeans"},$beans:{Properties:{$type:"base:Properties",$properties:{value:{$type:"json:String"},bind:{$type:"base:Properties.$properties.bind",$properties:{selectedValue:{$type:"common:BindingRef"}}}}}}});
//*******************
//LOGICAL-PATH:aria/html/RadioButton.js
//*******************
(function(){function t(){var t=this._bindingListeners.selectedValue,e=this._transform(t.transform,this._cfg.value,"fromWidget");aria.utils.Json.setValue(t.inside,t.to,e)}Aria.classDefinition({$classpath:"aria.html.RadioButton",$extends:"aria.html.InputElement",$dependencies:["aria.html.beans.RadioButtonCfg"],$constructor:function(e,i,r){this.$cfgBean=this.$cfgBean||"aria.html.beans.RadioButtonCfg.Properties",e.on=e.on||{},this._chainListener(e.on,"click",{fn:t,scope:this}),this.$InputElement.constructor.call(this,e,i,r,"radio")},$prototype:{initWidget:function(){this.$InputElement.initWidget.call(this);var t=this._cfg.bind,e=t.selectedValue;if(e){var i=this._transform(e.transform,e.inside[e.to],"toWidget");this._domElt.checked=i===this._cfg.value}else this.$logWarn(this.BINDING_NEEDED,[this.$class,"selectedValue"])},onbind:function(t,e){this.$InputElement.onbind.apply(this,arguments),"selectedValue"===t&&(this._domElt.checked=e===this._cfg.value)}}})})();
//*******************
//LOGICAL-PATH:aria/html/beans/SelectCfg.js
//*******************
Aria.beanDefinitions({$package:"aria.html.beans.SelectCfg",$namespaces:{json:"aria.core.JsonTypes",base:"aria.html.beans.ElementCfg",common:"aria.widgetLibs.CommonBeans",html:"aria.templates.CfgBeans"},$beans:{Properties:{$type:"base:Properties",$properties:{options:{$type:"json:Array",$contentType:{$type:"json:MultiTypes",$contentTypes:[{$type:"ListItemCfg"},{$type:"json:String"}]},$default:[]},bind:{$type:"base:Properties.bind",$properties:{selectedIndex:{$type:"common:BindingRef"},value:{$type:"common:BindingRef"},disabled:{$type:"common:BindingRef"}}}}},ListItemCfg:{$type:"json:Object",$restricted:!1,$properties:{value:{$type:"json:MultiTypes",$mandatory:!1,$contentTypes:[{$type:"json:Integer"},{$type:"json:String"}]},label:{$type:"json:String",$mandatory:!0},attributes:{$type:"html:HtmlAttribute"}}}}});
//*******************
//LOGICAL-PATH:aria/html/Select.js
//*******************
Aria.classDefinition({$classpath:"aria.html.Select",$extends:"aria.html.Element",$statics:{BINDING_NEEDED:"The property '%2' from Widget %1 should be bound to a data model",WRONG_OPTIONS:"Can't use the options property if an html body content is defined for %1"},$dependencies:["aria.html.beans.SelectCfg","aria.utils.Type","aria.html.DisabledTrait"],$constructor:function(t,e,i){this.$cfgBean=this.$cfgBean||"aria.html.beans.SelectCfg.Properties",t.tagName="select",t.attributes=t.attributes||{},t.on=t.on||{},this._chainListener(t.on,"click",{fn:this.__updateDataModel,scope:this}),this.$Element.constructor.call(this,t,e,i)},$prototype:{$init:function(t){var e=aria.html.DisabledTrait.prototype;for(var i in e)e.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=e[i])},writeMarkup:function(t){this._openTag(t),t.write(">");var e=this._cfg.options;if(e){this.options=[];for(var i=aria.utils.String,s=0,r=e.length;r>s;s++){t.write("<option ");var a=e[s];a=aria.utils.Type.isString(a)?{label:a,value:a}:{label:a.label,attributes:a.attributes,value:a.value||a.label};var n=i.encodeForQuotedHTMLAttribute(a.value);if(t.write('value="'+n+'"'),a.attributes){var o=aria.utils.Html.buildAttributeList(a.attributes);t.write(o)}t.write(">"),t.write(i.escapeHTML(a.label)),t.write("</option>"),this.options[s]=a}}t.write("</"+this._cfg.tagName+">")},writeMarkupBegin:function(t){this.options&&this.$logError(this.WRONG_OPTIONS,[this.$class]),this._openTag(t),t.write(">")},writeMarkupEnd:function(t){t.write("</"+this._cfg.tagName+">")},initWidget:function(){this.$Element.initWidget.call(this),this.setOptions();var t=this.getSelectedIndexFromBindings();null!=t&&(this._domElt.selectedIndex=t),this.initDisabledWidgetAttribute(),this.__updateDataModel()},isIndexValid:function(t){return aria.utils.Type.isNumber(t)&&t>=0&&this.options.length-1>=t},getSelectedIndexFromBindings:function(){var t=this._cfg.bind,e=!1;if(t.selectedIndex){var i=this._transform(t.selectedIndex.transform,t.selectedIndex.inside[t.selectedIndex.to],"toWidget");if(null!=i)return this.isIndexValid(i)||(i=-1),i;e=!0}if(t.value){var s=this._transform(t.value.transform,t.value.inside[t.value.to],"toWidget");if(null!=s)return this.getIndex(s);e=!0}e||this.$logWarn(this.BINDING_NEEDED,[this.$class,"selectedIndex"])},setOptions:function(){if(!this.options&&(this.options=[],this._domElt.options))for(var t=0,e=this._domElt.options.length;e>t;t++){var i={value:this._domElt.options[t].value,label:this._domElt.options[t].label};this.options.push(i)}},onbind:function(t,e,i){"selectedIndex"===t?(this._domElt.selectedIndex=e,this.setValueInDataModel(),this.isIndexValid(e)||this.setIndexInDataModel()):"value"===t&&(this._domElt.selectedIndex=this.getIndex(e),this.setIndexInDataModel(),-1===this._domElt.selectedIndex&&this.setValueInDataModel()),this.onDisabledBind(t,e,i)},getIndex:function(t){if(this.options)for(var e=0,i=this.options.length;i>e;e++)if(this.options[e].value===t)return e;return-1},__updateDataModel:function(){this.setIndexInDataModel(),this.setValueInDataModel()},setValueInDataModel:function(){var t=this._bindingListeners.value;if(t){var e=this._domElt.selectedIndex,i="";-1!=e&&(i=this.options[this._domElt.selectedIndex].value);var s=this._transform(t.transform,i,"fromWidget");aria.utils.Json.setValue(t.inside,t.to,s,t.cb)}},setIndexInDataModel:function(){var t=this._bindingListeners.selectedIndex;if(t){var e=this._transform(t.transform,this._domElt.selectedIndex,"fromWidget");aria.utils.Json.setValue(t.inside,t.to,e,t.cb)}}}});
//*******************
//LOGICAL-PATH:aria/html/beans/TemplateCfg.js
//*******************
Aria.beanDefinitions({$package:"aria.html.beans.TemplateCfg",$namespaces:{json:"aria.core.JsonTypes",html:"aria.templates.CfgBeans"},$beans:{Properties:{$type:"json:Object",$properties:{attributes:{$type:"html:HtmlAttribute"},id:{$type:"json:String",$mandatory:!1},classpath:{$type:"json:PackageName",$mandatory:!0},type:{$type:"json:String",$default:"div"},data:{$type:"json:ObjectRef",$mandatory:!1},moduleCtrl:{$type:"html:ModuleCtrl",$mandatory:!1},args:{$type:"json:Array",$contentType:{$type:"json:MultiTypes"},$default:[]},baseTabIndex:{$type:"json:Integer",$default:0}}}}});
//*******************
//LOGICAL-PATH:aria/html/Template.js
//*******************
Aria.classDefinition({$classpath:"aria.html.Template",$extends:"aria.widgetLibs.BaseWidget",$dependencies:["aria.html.beans.TemplateCfg","aria.templates.TemplateTrait","aria.utils.Html","aria.templates.TemplateCtxt","aria.utils.Dom","aria.templates.ModuleCtrlFactory","aria.core.environment.Customizations"],$events:{ElementReady:""},$statics:{ERROR_SUBTEMPLATE:"#ERROR IN SUBTEMPLATE#"},$constructor:function(t){this.$BaseWidget.constructor.apply(this,arguments),this._domId=t.id?this._context.$getId(t.id):this._createDynamicId(),this._subTplDiv=null,this.subTplCtxt=null,this._needCreatingModuleCtrl=t.moduleCtrl&&null==t.moduleCtrl.getData,this._tplcfg={classpath:aria.core.environment.Customizations.getTemplateCP(t.classpath),args:t.args,id:this._domId,moduleCtrl:t.moduleCtrl},this._checkCfgConsistency(t);var e=new aria.templates.TemplateCtxt;this.subTplCtxt=e,this._initCtxDone=!1,this.isDiffered=!1,this._cssClassNames=""},$destructor:function(){this._subTplDiv=null,this.subTplCtxt&&(this.subTplCtxt.$dispose(),this.subTplCtxt=null),this.$BaseWidget.$destructor.apply(this,arguments)},$prototype:{$init:function(t){var e=aria.templates.TemplateTrait.prototype;for(var i in e)e.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=e[i])},_checkCfgConsistency:function(t){var e=aria.core.JsonValidator;this._cfgOk=e.validateCfg("aria.html.beans.TemplateCfg.Properties",t),this._needCreatingModuleCtrl&&(this._cfgOk=this._cfgOk&&e.validateCfg("aria.templates.CfgBeans.InitModuleCtrl",t.moduleCtrl))},_onTplLoad:function(t,e){var i=this._tplcfg;if(!i)return e.autoDispose&&t.moduleCtrlPrivate.$dispose(),void 0;var s=this._subTplDiv;i.tplDiv=s,i.data=this._cfg.data,t.moduleCtrl?i.moduleCtrl=t.moduleCtrl:i.context=this._context,e.autoDispose&&(null==i.toDispose?i.toDispose=[t.moduleCtrlPrivate]:i.toDispose.push(t.moduleCtrlPrivate));var a=this.subTplCtxt;a.parent=this._context,t=a.initTemplate(i),this._initCtxDone=!0,t?(a.dataReady(),s&&a._cfg&&(s.className=s.className+" "+a.getCSSClassNames(!0),a.$onOnce({Ready:this.__innerTplReadyCb,scope:this}),a.$refresh()),this.tplcfg=null):(a.$dispose(),this.subTplCtxt=null),s=null},initWidget:function(){aria.html.Template.superclass.initWidget.call(this);var t=aria.utils.Dom.getElementById(this._domId);if(this._subTplDiv=t,this._initCtxDone){var e=this.subTplCtxt;t.className=t.className+" "+this._cssClassNames,e.linkToPreviousMarkup(t),e.viewReady()}},writeMarkup:function(t){if(this._cfgOk){var e=this._tplcfg;if(Aria.load({templates:[e.classpath],classes:this._needCreatingModuleCtrl?[this._cfg.moduleCtrl.classpath]:null,oncomplete:{scope:this,fn:this._onModuleCtrlLoad}}),this._tplcfg){var i=this._cfg.type,s=["<",i,' id="',this._domId,'"'];if(this._cfg.attributes&&s.push(" "+aria.utils.Html.buildAttributeList(this._cfg.attributes)),s.push(">"),this._initCtxDone){var a=this.subTplCtxt;this._cssClassNames=a.getCSSClassNames(!0);var r=a.getMarkup();null!=r?s.push(r):s.push(this.ERROR_SUBTEMPLATE)}else this.isDiffered=!0;s.push("</"+i+">"),t.write(s.join(""))}else t.write("<div>"+this.ERROR_SUBTEMPLATE+"</div>")}},getId:function(){return this._cfg.id}}});
//*******************
//LOGICAL-PATH:aria/html/beans/TextInputCfg.js
//*******************
Aria.beanDefinitions({$package:"aria.html.beans.TextInputCfg",$namespaces:{json:"aria.core.JsonTypes",base:"aria.html.beans.ElementCfg",baseInput:"aria.html.beans.InputElementCfg",common:"aria.widgetLibs.CommonBeans"},$beans:{Properties:{$type:"base:Properties",$properties:{tagName:{$type:"base:Properties.tagName",$mandatory:!0},bind:{$type:"baseInput:Properties.bind",$properties:{value:{$type:"common:BindingRef"}}},on:{$type:"base:Properties.on",$properties:{type:{$type:"common:Callback"}}},password:{$type:"json:Boolean",$default:!1},autoselect:{$type:"json:Boolean",$default:!1}}}}});
//*******************
//LOGICAL-PATH:aria/html/TextInput.js
//*******************
(function(){function t(t,e){t.fn.call(t.scope,e,t.args)}function e(e){this._typeCallback=null;for(var i,s=0,a=e.length;a>s;s++)i=this.$normCallback.call(this._context._tpl,e[s]),t(i,this._domElt.value)}function i(t,i){this._typeCallback=aria.core.Timer.addCallback({fn:e,scope:this,delay:12,args:i})}function s(t){this._hasPlaceholder&&(aria.utils.Array.contains(o,t.keyCode)?t.preventDefault():this._removePlaceholder())}function a(t){var e=this._bindingListeners.value,i=this._transform(e.transform,t.target.getValue(),"fromWidget");this._hasFocus=!1,this._hasPlaceholder?aria.utils.Json.setValue(e.inside,e.to,"",e.cb):aria.utils.Json.setValue(e.inside,e.to,i,e.cb),this._firstFocus=!0}function r(){this._hasFocus=!0,this._hasPlaceholder&&aria.core.Timer.addCallback({fn:this._setCaretForPlaceholder,scope:this,delay:4})}function n(){this._hasPlaceholder?aria.utils.Caret.setPosition(this._domElt,0,0):this._cfg.autoselect&&this._autoselect()}var o=null,l=null;Aria.classDefinition({$classpath:"aria.html.TextInput",$extends:"aria.html.InputElement",$dependencies:["aria.html.beans.TextInputCfg","aria.utils.Caret","aria.DomEvent"],$statics:{DEPRECATED_PASSWORD:"The Password property is deprecated. Add the input type as an attribute"},$onload:function(){var t=aria.DomEvent;o=[t.KC_END,t.KC_RIGHT,t.KC_ARROW_RIGHT,t.KC_DOWN,t.KC_ARROW_DOWN,t.KC_DELETE,t.KC_BACKSPACE]},$constructor:function(t,e,i){this.$cfgBean=this.$cfgBean||"aria.html.beans.TextInputCfg.Properties",t.tagName="input",t.attributes=t.attributes||{};var s=t.attributes.type;t.password?(s="password",this.$logWarn(this.DEPRECATED_PASSWORD,[this.tplClasspath,i])):s||(s="text"),t.on=t.on||{},l="placeholder"in Aria.$window.document.createElement("input"),t.placeholder&&l&&(t.attributes.placeholder=t.placeholder),this._registerListeners(t),this._reactOnType=this._registerType(t.on,e),this._firstFocus=!0,this._hasFocus=!1,this._hasPlaceholder=!1,this.$InputElement.constructor.call(this,t,e,i,s)},$destructor:function(){this._typeCallback&&aria.core.Timer.cancelCallback(this._typeCallback),this.$InputElement.$destructor.call(this)},$prototype:{initWidget:function(){this.$InputElement.initWidget.call(this);var t=this._cfg.bind;if(t.value){var e=this._transform(t.value.transform,t.value.inside[t.value.to],"toWidget");null!=e&&(this._domElt.value=e)}else this.$logWarn(this.BINDING_NEEDED,[this.$class,"value"]);this._setPlaceholder()},onbind:function(t,e){this.$InputElement.onbind.apply(this,arguments),"value"===t&&(e=null!=e?e+"":"",e&&this._removePlaceholder(),this._domElt.value=e,this._setPlaceholder())},getId:function(){return this._cfg.id},focus:function(){this._domElt.focus()},_registerType:function(t){t.type&&(this._chainListener(t,"keydown",{fn:i,scope:this,args:aria.utils.Type.isArray(t.type)?t.type:[t.type]}),delete t.type)},_autoselect:function(){this._firstFocus&&(this._firstFocus=!1,aria.utils.Caret.select(this._domElt))},_setPlaceholder:function(){if(!l&&this._cfg.placeholder){var t=this._domElt;if(""===t.value){t.value=this._cfg.placeholder;var e=new aria.utils.ClassList(t);e.add("placeholder"),e.$dispose(),this._hasFocus&&aria.utils.Caret.setPosition(t,0,0),this._hasPlaceholder=!0,this._domElt.unselectable="on"}}},_removePlaceholder:function(){if(this._hasPlaceholder){var t=this._domElt,e=new aria.utils.ClassList(t);t.value="",this._hasPlaceholder=!1,e.remove("placeholder"),e.$dispose(),this._domElt.unselectable="off"}},_registerListeners:function(t){var e=t.on;this._chainListener(e,"blur",{fn:a,scope:this}),(!l&&t.placeholder||t.autoselect)&&(this._chainListener(e,"focus",{fn:r,scope:this}),this._chainListener(e,"click",{fn:n,scope:this}),this._chainListener(e,"keydown",{fn:s,scope:this}),this._chainListener(e,"type",{fn:this._setPlaceholder,scope:this}))},_setCaretForPlaceholder:function(){this._hasPlaceholder&&aria.utils.Caret.setPosition(this._domElt,0,0)}}})})();
//*******************
//LOGICAL-PATH:aria/html/controllers/Suggestions.js
//*******************
(function(){function t(){this.getSuggestions=function(t,e){this.pendingSuggestion={entry:t,callback:e}},this.getAllSuggestions=function(t){this.pendingSuggestion={callback:t}},this.$dispose=Aria.empty}function e(t){var e=t.scope;e._autoDisposeHandler=!1,e.$logError(e.INVALID_RESOURCES_HANDLER,t.classpath)}function i(t){var e=t.scope,i=Aria.getClassInstance(t.classpath),s=e._resourcesHandler.pendingSuggestion;e._resourcesHandler=i,e._autoDisposeHandler=!0,s&&(s.entry?i.getSuggestions(s.entry,s.callback):i.getAllSuggestions(s.callback))}function s(t){aria.core.Timer.addCallback({fn:i,args:t,scope:{},delay:12})}function a(i,a){var r=Aria.getClassRef(i);if(r)return new r;var n={scope:a,classpath:i};return Aria.load({classes:[i],oncomplete:{fn:s,args:n},onerror:{fn:e,args:n}}),new t}Aria.classDefinition({$classpath:"aria.html.controllers.Suggestions",$dependencies:["aria.utils.Json","aria.utils.Type"],$constructor:function(){this._init()},$destructor:function(){this.dispose()},$statics:{INVALID_RESOURCES_HANDLER:"Invalid resources handler '%1'"},$prototype:{_init:function(){this.data={suggestions:[],value:null},this._resourcesHandler=null,this._autoDisposeHandler=!1},dispose:function(){this._autoDisposeHandler&&this._resourcesHandler&&this._resourcesHandler.$dispose()},setResourcesHandler:function(t){aria.utils.Type.isString(t)&&(t=a(t,this),this._autoDisposeHandler=!0),this._resourcesHandler=t},suggestValue:function(t){this._resourcesHandler.getSuggestions(t,{fn:this._callback,scope:this})},_callback:function(t){aria.utils.Json.setValue(this.data,"suggestions",t||[])},setSelected:function(t){aria.utils.Json.setValue(this.data,"value",t),this.empty()},empty:function(){aria.utils.Json.setValue(this.data,"suggestions",[])}}})})();
//*******************
//LOGICAL-PATH:aria/embed/CfgBeans.js
//*******************
Aria.beanDefinitions({$package:"aria.embed.CfgBeans",$namespaces:{json:"aria.core.JsonTypes",html:"aria.templates.CfgBeans"},$beans:{ElementCfg:{$type:"json:Object",$properties:{controller:{$type:"json:ObjectRef"},type:{$type:"json:String",$default:"div"},attributes:{$type:"html:HtmlAttribute"},args:{$type:"json:MultiTypes"}}},PlaceholderCfg:{$type:"json:Object",$properties:{name:{$type:"json:String",$mandatory:!0},type:{$type:"json:String",$default:"div"},attributes:{$type:"html:HtmlAttribute"}}},MapCfg:{$type:"json:Object",$properties:{id:{$type:"json:String",$mandatory:!0},provider:{$type:"json:String",$mandatory:!0},initArgs:{$type:"json:MultiTypes"},loadingIndicator:{$type:"json:Boolean",$default:!1},type:{$type:"json:String",$default:"div"},attributes:{$type:"html:HtmlAttribute"}}}}});
//*******************
//LOGICAL-PATH:aria/embed/EmbedLib.js
//*******************
Aria.classDefinition({$classpath:"aria.embed.EmbedLib",$extends:"aria.widgetLibs.WidgetLib",$singleton:!0,$prototype:{widgets:{Element:"aria.embed.Element",Map:"aria.embed.Map",Placeholder:"aria.embed.Placeholder"}}});
//*******************
//LOGICAL-PATH:aria/embed/IContentProvider.js
//*******************
Aria.interfaceDefinition({$classpath:"aria.embed.IContentProvider",$events:{contentChange:""},$interface:{getContent:function(){}}});
//*******************
//LOGICAL-PATH:aria/embed/PlaceholderManager.js
//*******************
Aria.classDefinition({$classpath:"aria.embed.PlaceholderManager",$dependencies:["aria.utils.Type","aria.utils.Array"],$singleton:!0,$constructor:function(){this._contentChangeListener={fn:this._onContentChange,scope:this},this._providers=[]},$destructor:function(){this.unregisterAll(),this._contentChangeListener=null},$events:{contentChange:""},$statics:{PLACEHOLDER_PATH_NOT_FOUND:"No content has been found for the placeholder path '%1'"},$prototype:{getContent:function(t){for(var e=[],i=aria.utils.Type,s=this._providers,a=0,r=s.length;r>a;a++){var n=s[a],o=n.getContent(t);if(o)if(i.isArray(o))for(var l=0,c=o.length;c>l;l++)e.push(o[l]);else e.push(o)}return 0===e.length&&this.$logWarn(this.PLACEHOLDER_PATH_NOT_FOUND,[t]),e},register:function(t){var e=this._providers;aria.utils.Array.contains(e,t)||(t.$addListeners({contentChange:this._contentChangeListener}),e.push(t))},unregister:function(t){var e=this._providers;aria.utils.Array.remove(e,t)&&t.$removeListeners({contentChange:this._contentChangeListener})},unregisterAll:function(){for(var t=this._providers;t.length>0;)this.unregister(t[0])},_onContentChange:function(t){this.$raiseEvent({name:"contentChange",placeholderPaths:t.contentPaths})}}});
//*******************
//LOGICAL-PATH:aria/embed/Placeholder.js
//*******************
Aria.classDefinition({$classpath:"aria.embed.Placeholder",$extends:"aria.widgetLibs.BaseWidget",$dependencies:["aria.embed.CfgBeans","aria.core.JsonValidator","aria.html.Template","aria.embed.PlaceholderManager","aria.utils.Array"],$constructor:function(t,e){this.$BaseWidget.constructor.apply(this,arguments),this._cfgOk=aria.core.JsonValidator.validateCfg(this._cfgBeanName,t),this._placeholderPath=this._getPlaceholderPath(e),this._sectionId="p_"+this._createDynamicId(),this._onContentChangeListener={fn:this._onContentChange,scope:this},this._placeholderManager=aria.embed.PlaceholderManager,this._placeholderManager.$addListeners({contentChange:this._onContentChangeListener})},$destructor:function(){this._placeholderManager.$removeListeners({contentChange:this._onContentChangeListener}),this._onContentChangeListener=null,this.$BaseWidget.$destructor.apply(this,arguments)},$prototype:{_cfgBeanName:"aria.embed.CfgBeans.PlaceholderCfg",writeMarkup:function(t){if(this._cfgOk){var e=this._cfg,i={id:this._sectionId,type:e.type,attributes:e.attributes};t.beginSection(i),this._writePlaceholderContent(t),t.endSection()}},_writePlaceholderContent:function(t){for(var e=aria.utils.Type,i=aria.embed.PlaceholderManager,s=this._placeholderPath,a=i.getContent(s),r=0,n=a.length;n>r;r++){var o=a[r];if(e.isString(o))t.write(o);else{var l=new aria.html.Template(o,this._context,this._lineNumber);l.subTplCtxt.placeholderPath=s,t.registerBehavior(l),l.writeMarkup(t)}}},_onContentChange:function(t){var e=t.placeholderPaths;if(aria.utils.Array.contains(e,this._placeholderPath)){var i=this._context.getRefreshedSection({section:this._sectionId,writerCallback:{fn:this._writePlaceholderContent,scope:this}});this._context.insertSection(i)}},_getPlaceholderPath:function(){for(var t="",e=this._context;e;){if(e.placeholderPath){t=e.placeholderPath+".";break}e=e.parent}return t+this._cfg.name}}});
//*******************
//LOGICAL-PATH:aria/utils/css/AnimationsBean.js
//*******************
Aria.beanDefinitions({$package:"aria.utils.css.AnimationsBean",$namespaces:{json:"aria.core.JsonTypes"},$beans:{AnimationCfg:{$type:"json:Object",$properties:{from:{$type:"json:ObjectRef"},to:{$type:"json:ObjectRef"},reverse:{$type:"json:Boolean"},type:{$type:"json:Integer"},hiddenClass:{$type:"json:String"}}},AnimationName:{$type:"json:MultiTypes",$sample:"slide left",$contentTypes:[{$type:"json:Enum",$enumValues:["slide left","slide right","slide up","slide down","fade","fade reverse","pop","pop reverse","flip","flip reverse"]},{$type:"json:String"}]}}});
//*******************
//LOGICAL-PATH:aria/pageEngine/CfgBeans.js
//*******************
Aria.beanDefinitions({$package:"aria.pageEngine.CfgBeans",$namespaces:{json:"aria.core.JsonTypes",core:"aria.core.CfgBeans",animation:"aria.utils.css.AnimationsBean"},$beans:{ExtendedCallback:{$type:"json:Object",$properties:{onsuccess:{$type:"core:Callback"},onfailure:{$type:"core:Callback"}}},Start:{$type:"json:Object",$properties:{pageProvider:{$type:"json:Object",$mandatory:!0},onerror:{$type:"core:Callback"},oncomplete:{$type:"core:Callback"}}},Site:{$type:"json:Object",$restricted:!1,$properties:{containerId:{$type:"json:String",$mandatory:!0},commonModules:{$type:"json:Map",$contentType:{$type:"CommonModule"},$default:{}},appData:{$type:"json:Map",$contentType:{$type:"json:MultiTypes"},$default:{}},contentProcessors:{$type:"json:Map",$contentType:{$type:"json:PackageName"},$default:{}},navigation:{$type:"json:Enum",$enumValues:["history","hash"]},storage:{$type:"json:Object",$properties:{active:{$type:"json:Boolean",$default:!0},suffix:{$type:"json:String",$default:""},expiresAfter:{$type:"json:Integer",$default:86400}},$default:{active:!0,suffix:"",expiresAfter:86400}},animations:{$type:"json:Boolean",$default:!1},css:{$type:"json:Array",$contentType:{$type:"json:String"}}}},PageRequest:{$type:"json:Object",$restricted:!1,$properties:{pageId:{$type:"json:String"},url:{$type:"json:String"}}},PageNavigationInformation:{$type:"PageRequest",$restricted:!1,$properties:{replace:{$type:"json:Boolean"},title:{$type:"json:String"},data:{$type:"json:Object"},forceReload:{$type:"json:Boolean"}}},PageDefinition:{$type:"json:Object",$restricted:!1,$properties:{contents:{$type:"PageContents",$mandatory:!0},pageComposition:{$type:"PageComposition",$mandatory:!0},pageId:{$type:"json:String",$mandatory:!0},url:{$type:"json:String"},title:{$type:"json:String"},animation:{$type:"PageAnimation"}}},PageContents:{$type:"json:Object",$properties:{menus:{$type:"json:Map",$keyType:{$type:"json:String"},$contentType:{$type:"json:Object",$restricted:!1}},placeholderContents:{$type:"json:Map",$keyType:{$type:"json:String"},$contentType:{$type:"Content"}}}},PageComposition:{$type:"json:Object",$properties:{template:{$type:"json:String",$mandatory:!0},pageData:{$type:"json:Object",$restricted:!1,$default:{}},modules:{$type:"json:Map",$contentType:{$type:"Module"},$default:{}},placeholders:{$type:"json:Map",$keyType:{$type:"json:String",$sample:"body.top"},$contentType:{$type:"Placeholder"},$mandatory:!0},css:{$type:"json:Array",$contentType:{$type:"json:String"}}}},PageAnimation:{$type:"json:Object",$properties:{animateOut:{$type:"animation:AnimationName",$sample:"slide left"},animateIn:{$type:"animation:AnimationName",$sample:"slide left",$mandatory:!0},type:{$type:"json:Integer"}}},Placeholder:{$type:"json:MultiTypes",$contentTypes:[{$type:"json:String"},{$type:"json:Object",$properties:{template:{$type:"json:String"},contentId:{$type:"json:String"},module:{$type:"json:String"},data:{$type:"json:Object"},args:{$type:"json:Array",$contentType:{$type:"json:MultiTypes"}},css:{$type:"json:Array",$contentType:{$type:"json:String"}}}},{$type:"json:Array",$contentType:{$type:"Placeholder"}}]},Module:{$type:"json:Object",$properties:{classpath:{$type:"json:PackageName",$mandatory:!0},initArgs:{$type:"json:ObjectRef"},bind:{$type:"json:ObjectRef"}}},CommonModule:{$type:"Module",$properties:{priority:{$type:"json:Integer",$default:1,$minValue:1,$maxValue:2}}},Content:{$type:"json:Object",$properties:{value:{$type:"json:String",$mandatory:!0},contentType:{$type:"json:String"}}}}});
//*******************
//LOGICAL-PATH:aria/pageEngine/PageEngineInterface.js
//*******************
Aria.interfaceDefinition({$classpath:"aria.pageEngine.PageEngineInterface",$events:{pageReady:"",beforePageTransition:""},$interface:{navigate:{$type:"Function",$callbackParam:1},getData:{$type:"Function"},getPageProvider:{$type:"Function"},isModuleInPage:{$type:"Function"}}});
//*******************
//LOGICAL-PATH:aria/pageEngine/SiteRootModuleInterface.js
//*******************
Aria.interfaceDefinition({$classpath:"aria.pageEngine.SiteRootModuleInterface",$extends:"aria.templates.IModuleCtrl",$events:{pageReady:""},$interface:{getPageModule:{$type:"Function"},loadModules:{$type:"Function",$callbackParam:2},unloadCommonModules:{$type:"Function"},unloadPageModules:{$type:"Function"},unloadAllModules:{$type:"Function"},navigate:{$type:"Function"}}});
//*******************
//LOGICAL-PATH:aria/pageEngine/utils/PageEngineUtils.js
//*******************
Aria.classDefinition({$classpath:"aria.pageEngine.utils.PageEngineUtils",$singleton:!0,$dependencies:["aria.utils.Array","aria.utils.Path"],$prototype:{addIfMissing:function(t,e){t&&!aria.utils.Array.contains(e,t)&&e.push(t)},wiseConcat:function(t,e){for(var i,s=0,a=e.length;a>s;s++)i=e[s],this.addIfMissing(i,t)},extractPropertyFromArrayElements:function(t,e){for(var i,s=[],a=0,n=t.length;n>a;a++)i=t[a],i[e]&&s.push(i[e]);return s},addKeyAsProperty:function(t,e){for(var i in t)t.hasOwnProperty(i)&&(t[i][e]=i)},resolvePath:function(t,e){var i;try{i=aria.utils.Path.resolve(t,e)}catch(s){i=void 0}return i},logMultipleErrors:function(t,e,i){i.$logError.apply(i,[t+":"]);for(var s=0,a=e.length;a>s;s++)i.$logError.apply(i,[s+1+" - "+e[s].msgId,e[s].msgArgs])}}});
//*******************
//LOGICAL-PATH:aria/pageEngine/SiteRootModule.js
//*******************
Aria.classDefinition({$classpath:"aria.pageEngine.SiteRootModule",$extends:"aria.templates.ModuleCtrl",$implements:["aria.pageEngine.SiteRootModuleInterface"],$dependencies:["aria.utils.Path","aria.pageEngine.utils.PageEngineUtils"],$constructor:function(){this._enableMethodEvents=!1,this.$ModuleCtrl.constructor.call(this),this.commonModules={},this.pageModules={},this._modulesPaths={common:[],page:{}},this._utils=aria.pageEngine.utils.PageEngineUtils,this._pathUtils=aria.utils.Path,this._bindings={},this._pageEngine=null},$destructor:function(){this.json.removeListener(this._data,"storage",{fn:this._updateModulesData,scope:this},!0),this.unloadAllModules(),this._data=null,this.commonModules=null,this.pageModules=null,this.$ModuleCtrl.$destructor.call(this)},$prototype:{$publicInterfaceName:"aria.pageEngine.SiteRootModuleInterface",init:function(t,e){this._data={storage:{appData:t.appData,pageData:{}}},this.json.addListener(this._data,"storage",{fn:this._updateModulesData,scope:this},!1,!0),this._pageEngine=t.pageEngine,this.$callback(e)},onSubModuleEvent:function(t){"navigate"==t.name&&this._pageEngine.navigate(t.page)},navigate:function(t,e){this._pageEngine.navigate(t,e)},getPageModule:function(t,e){var i=-1!=e.indexOf("common:"),s=this.buildModuleRefpath(e.replace(/^common:/,""),i,t);return this._utils.resolvePath(s,this)},buildModuleRefpath:function(t,e,i){return e?"commonModules."+t:"pageModules."+i+"."+t},loadModules:function(t,e,i){for(var s,a,n,r,o=[],l=[],c=[{modules:e.page,isCommon:!1},{modules:e.common,isCommon:!0}],h=0;2>h;h++){s=c[h].modules,n=c[h].isCommon;for(var u=0,d=s.length;d>u;u+=1)a=this.buildModuleRefpath(s[u].refpath,n,t),null==this._utils.resolvePath(a,this)&&(r=aria.utils.Json.copy(s[u]),r.refpath=a,o.push({classpath:r.classpath,initArgs:this._injectPageEngine(r.initArgs),refpath:a}),l.push(r),this._addRefpath(t,n,a))}this.loadSubModules(o,{fn:this.connectBindings,scope:this,resIndex:-1,args:{pageId:t,callback:i,modules:l}})},_injectPageEngine:function(t){return t=t||{},t.pageEngine=this._pageEngine,t},_unloadModules:function(t){for(var e,i=0,s=t.length;s>i;i++)e=t[i],this._disconnectModuleBindings(e),this.disposeSubModule(this._utils.resolvePath(e,this))},unloadCommonModules:function(){var t=this._modulesPaths.common||[];this._unloadModules(t),this._modulesPaths.common=[]},unloadPageModules:function(t){var e=t&&this._modulesPaths.page[t]?this._modulesPaths.page[t]:[];this._unloadModules(e),delete this._modulesPaths.page[t]},unloadAllModules:function(){this.unloadCommonModules();var t=this._modulesPaths.page;for(var e in t)t.hasOwnProperty(e)&&this.unloadPageModules(e)},_addRefpath:function(t,e,i){var s=this._modulesPaths;return e?(s.common.push(i),void 0):(s.page[t]=s.page[t]||[],s.page[t].push(i),void 0)},connectBindings:function(t){for(var e=t.modules,i=0;e.length>i;i+=1){var s=e[i].bind,a=e[i].refpath;if(s)for(var n in s)if(s.hasOwnProperty(n)&&!this.json.isMetadata(n)){var r=this._getStorage(s[n]);if(r){var o=this._getModuleDataDescription(a,n);this.$assert(2,!!o);var l={fn:this._bindModuleChange,scope:this,args:{boundTo:r,moduleDescription:o}};this.json.addListener(o.container,o.property,l,!1,!0),this._bindings[a]=this._bindings[a]||{},this._bindings[a][n]=[s[n],l]}}}this._updateModulesData(),this.$callback(t.callback,t.callback.args)},disconnectBindings:function(t){if(t)for(var e=0,i=t.length;i>e;e++)this._disconnectModuleBindings(t[e]);else{this.disconnectBindings(this._modulesPaths.common);var s=this._modulesPaths.page;for(var a in s)s.hasOwnProperty(a)&&this.disconnectBindings(s[a])}},_disconnectModuleBindings:function(t){var e=this._bindings[t];if(e){for(var i in e)if(e.hasOwnProperty(i)){var s=this._getModuleDataDescription(t,i);this.json.removeListener(s.container,s.property,e[i][1],!0)}delete this._bindings[t]}},_updateModulesData:function(){var t=this._bindings;for(var e in t)if(t.hasOwnProperty(e)){var i=t[e];for(var s in i)if(i.hasOwnProperty(s)){var a=this._getModuleDataDescription(e,s),n=this._getStorage(i[s][0]),r=this._utils.resolvePath(n.path,n.storage);this.json.setValue(a.container,a.property,r,i[s][1])}}},_getModuleDataDescription:function(t,e){var i=this._utils.resolvePath(t,this._data);return this._utils.resolvePath(e,i)||this._pathUtils.setValue(i,e,null),this._pathUtils.describe(i,e)},_getStorage:function(t){var e=t.split(":");if(2>e.length)return null;var i=this._data.storage[e[0]];return i?(e.splice(0,1),{storage:i,path:e.join(":")}):null},_bindModuleChange:function(t,e){var i=e.moduleDescription.container[e.moduleDescription.property],s=e.boundTo;null==this._utils.resolvePath(s.path,s.storage)&&this._pathUtils.setValue(s.storage,s.path,null);var a=this._pathUtils.describe(s.storage,s.path);this.json.setValue(a.container,a.property,i)}}});
//*******************
//LOGICAL-PATH:aria/pageEngine/utils/SiteConfigHelper.js
//*******************
Aria.classDefinition({$classpath:"aria.pageEngine.utils.SiteConfigHelper",$dependencies:["aria.utils.Dom","aria.pageEngine.utils.PageEngineUtils","aria.utils.Array"],$constructor:function(t){this.siteConfig=t,this._contentProcessorsInstances={},aria.pageEngine.utils.PageEngineUtils.addKeyAsProperty(this.siteConfig.commonModules,"refpath")},$destructor:function(){this.disposeContentProcessorsInstances()},$statics:{CONTAINER_ID_CANT_BE_BODY_ID:"The 'containerId' page engine config entry must not be the id of BODY element",MISSING_PROCESS_METHOD:"The processContent method is not implemented"},$prototype:{getRootDiv:function(){var t=this.getRootDivId(),e=aria.utils.Dom.getElementById(t);return e===Aria.$window.document.body?this.$logError(this.CONTAINER_ID_CANT_BE_BODY_ID):e||(e=Aria.$window.document.createElement("DIV"),e.id=t,Aria.$window.document.body.appendChild(e)),e},getRootDivId:function(){return this.siteConfig.containerId},getAppData:function(){return this.siteConfig.appData},getListOfContentProcessors:function(){var t=[];for(var e in this.siteConfig.contentProcessors)this.siteConfig.contentProcessors.hasOwnProperty(e)&&t.push(this.siteConfig.contentProcessors[e]);return t},getContentProcessorInstances:function(){var t={},e=aria.utils.Type;for(var i in this.siteConfig.contentProcessors)if(this.siteConfig.contentProcessors.hasOwnProperty(i)){var s=Aria.getClassRef(this.siteConfig.contentProcessors[i]),a=e.isFunction(s)?new s:s;a.processContent?t[i]=a:this.$logError(this.MISSING_PROCESS_METHOD,this.siteConfig.contentProcessors[i])}return this._contentProcessorsInstances=t,t},disposeContentProcessorsInstances:function(){var t=aria.utils.Type,e=this._contentProcessorsInstances;for(var i in e)if(e.hasOwnProperty(i)){var s=Aria.getClassRef(this.siteConfig.contentProcessors[i]);t.isFunction(s)&&e[i].$dispose()}},getCommonModulesDescription:function(t){var e=this.siteConfig.commonModules;if(!t)return aria.utils.Array.extractValuesFromMap(e);var i,s=t.priority,a=t.refpaths,n=[];if(a){for(var r=0,o=a.length;o>r;r++)i=e[a[r]],!i||s&&s!=i.priority||n.push(i);return n}for(var l in e)e.hasOwnProperty(l)&&(i=e[l],s&&s!=i.priority||n.push(i));return n},getNavigationManagerClass:function(){var t=this.siteConfig.navigation;if(t){if("history"==t)return"aria.pageEngine.utils.HistoryManager";if("hash"==t)return"aria.pageEngine.utils.HashManager"}return null},getNavigationManager:function(t,e){var i=this.siteConfig.navigation;if(i){if("history"==i)return new aria.pageEngine.utils.HistoryManager(t,e);if("hash"==i)return new aria.pageEngine.utils.HashManager(t,e)}return null},getSiteCss:function(){return this.siteConfig.css||[]}}});
//*******************
//LOGICAL-PATH:aria/pageEngine/utils/PageConfigHelper.js
//*******************
Aria.classDefinition({$classpath:"aria.pageEngine.utils.PageConfigHelper",$dependencies:["aria.pageEngine.utils.PageEngineUtils","aria.utils.Type","aria.utils.Array"],$constructor:function(t){this._pageConfig=t,this._utils=aria.pageEngine.utils.PageEngineUtils,this._pageModules=aria.utils.Json.copy(this._pageConfig.pageComposition.modules)||{},this._utils.addKeyAsProperty(this._pageModules,"refpath")},$prototype:{getMenus:function(){return this._pageConfig.contents.menus},getPageDependencies:function(t){var e={templates:[],classes:[],modules:{page:[],common:[]},css:[]},i=this._pageConfig.pageComposition,s=i.placeholders||{},a=aria.utils.Type;t||(this._utils.addIfMissing(i.template,e.templates),i.css&&(e.css=i.css.slice(0)));for(var n in s)if(s.hasOwnProperty(n)){var r=s[n];a.isArray(r)||(r=[r]);for(var o=0;r.length>o;o+=1)this._addPlaceholderDependencies(r[o],e,t)}return e},_addPlaceholderDependencies:function(t,e,i){var s,a,n=this._pageModules,r=aria.utils.Type;if(r.isObject(t)){var o=t.lazy;i&&!o||!i&&o||("module"in t&&(s=t.module,s.match(/^common:/)?this._utils.addIfMissing(s.replace(/^common:/,""),e.modules.common):(a=n[s],a&&(this._utils.addIfMissing(a.classpath,e.classes),this._utils.addIfMissing(s,e.modules.page)))),"template"in t&&this._utils.addIfMissing(t.template,e.templates),"css"in t&&this._utils.wiseConcat(e.css,t.css))}},getPageModulesDescriptions:function(t){var e,i,s,a=this._pageModules,n=[];if(t){for(e=0,i=t.length;i>e;e++)s=a[t[e]],s&&n.push(s);return n}return aria.utils.Array.extractValuesFromMap(a)},getLazyPlaceholdersIds:function(){var t,e=[],i=aria.utils.Type,s=this._pageConfig.pageComposition.placeholders||{};for(var a in s)if(s.hasOwnProperty(a)){t=!1;var n=s[a];i.isArray(n)||(n=[n]);for(var r=0;n.length>r;r+=1)n[r].lazy&&(t=!0);t&&e.push(a)}return e}}});
//*******************
//LOGICAL-PATH:aria/pageEngine/PageEngine.js
//*******************
Aria.classDefinition({$classpath:"aria.pageEngine.PageEngine",$implements:["aria.embed.IContentProvider","aria.pageEngine.PageEngineInterface"],$dependencies:["aria.pageEngine.CfgBeans","aria.pageEngine.SiteRootModule","aria.templates.ModuleCtrlFactory","aria.core.JsonValidator","aria.pageEngine.utils.SiteConfigHelper","aria.pageEngine.utils.PageConfigHelper","aria.embed.PlaceholderManager","aria.utils.Type","aria.pageEngine.utils.PageEngineUtils","aria.utils.CSSLoader","aria.utils.Json","aria.core.Browser"],$constructor:function(){this._config=null,this._pageProvider=null,this._navigationManager=null;var t=aria.core.Browser;this._animationsDisabled=t.isIE&&10>t.majorVersion||t.isFirefox&&4>t.majorVersion,this._animationsManager=null,this._siteConfigHelper=null,this._rootModule=null,this._pageConfigs={},this._currentPageCSS=[],this._previousPageCSS=[],this.contentProcessors={},this.currentPageId=null,this._utils=aria.pageEngine.utils.PageEngineUtils,this._wrapper=this.$interface("aria.pageEngine.PageEngineInterface"),this._isTemplateLoaded=!1,this._activeDiv=1,this._firstDiv=null,this._secondDiv=null,this._data={},this._modulesInPage=[],this._onPageDefinitionChangeListener={fn:this._onPageDefinitionChange,scope:this}},$destructor:function(){aria.embed.PlaceholderManager.unregister(this),this._navigationManager&&this._navigationManager.$dispose(),this._isTemplateLoaded&&Aria.disposeTemplate(this._getContainer()),this._animationsManager&&this._animationsManager.$dispose(),this._firstDiv=null,this._secondDiv&&(this._secondDiv.parentNode.removeChild(this._secondDiv),this._secondDiv=null);var t=this._siteConfigHelper,e=aria.utils.CSSLoader;t&&(e.remove(t.getSiteCss()),t.$dispose()),e.remove(this._previousPageCSS),e.remove(this._currentPageCSS),this._modulesInPage=null,this._rootModule&&(this._rootModule.$dispose(),this._rootModule=null),this._pageProvider.$removeListeners({pageDefinitionChange:this._onPageDefinitionChangeListener}),this._onPageDefinitionChangeListener=null},$statics:{SITE_CONFIG_NOT_AVAILABLE:"Unable to retrieve the site configuration",INVALID_SITE_CONFIGURATION:"The configuration object of the application is not valid",PAGE_NOT_AVAILABLE:"Unable to retrieve page %1",INVALID_PAGE_DEFINITION:"The page definition does not match the bean aria.pageEngine.CfgBeans.PageDefinition",MISSING_DEPENDENCIES:"Unable to download Page Engine dependencies"},$prototype:{start:function(t){this._config=t,this._pageProvider=t.pageProvider,aria.embed.PlaceholderManager.register(this),this._pageProvider.$addListeners({pageDefinitionChange:this._onPageDefinitionChangeListener}),this._pageProvider.loadSiteConfig({onsuccess:{fn:this._loadRootModule,scope:this},onfailure:{fn:this._errorCallback,scope:this,args:[this.SITE_CONFIG_NOT_AVAILABLE],resIndex:-1}})},_loadRootModule:function(t){var e=this.isConfigValid(t,"aria.pageEngine.CfgBeans.Site",this.INVALID_SITE_CONFIGURATION);if(e){var i=new aria.pageEngine.utils.SiteConfigHelper(t);this._siteConfigHelper=i;var s=i.getAppData();s.menus=s.menus||{},aria.templates.ModuleCtrlFactory.createModuleCtrl({classpath:"aria.pageEngine.SiteRootModule",initArgs:{appData:i.getAppData(),pageEngine:this._wrapper}},{fn:this._loadSiteDependencies,scope:this})}},_loadSiteDependencies:function(t){this._rootModule=t.moduleCtrlPrivate,this._data=this._rootModule.getData().storage;var e=this._siteConfigHelper;aria.utils.CSSLoader.add(e.getSiteCss());var i=e.getListOfContentProcessors(),s=e.getNavigationManagerClass();s&&i.push(s),e.siteConfig.animations&&i.push("aria.pageEngine.utils.AnimationsManager");var a=e.getCommonModulesDescription({priority:1});this._utils.wiseConcat(i,this._utils.extractPropertyFromArrayElements(a,"classpath")),Aria.load({classes:i,oncomplete:{fn:this._loadGlobalModules,scope:this,args:a},onerror:{fn:this._errorCallback,scope:this,args:[this.MISSING_DEPENDENCIES],resIndex:-1}})},_loadGlobalModules:function(t){this._rootModule.loadModules(null,{page:[],common:t},{fn:this._onSiteReady,scope:this})},_onSiteReady:function(){var t=this._siteConfigHelper;this.contentProcessors=t.getContentProcessorInstances(),this._firstDiv=t.getRootDiv(),!this._animationsDisabled&&t.siteConfig.animations&&(this._animationsManager=new aria.pageEngine.utils.AnimationsManager,this._secondDiv=this._animationsManager.createHiddenDiv(this._firstDiv)),this._navigationManager=t.getNavigationManager({fn:"navigate",scope:this},t.siteConfig.storage),this.navigate({url:this._navigationManager?this._navigationManager.getUrl():null,pageId:this._navigationManager?this._navigationManager.getPageId():null,replace:!0},this._config.oncomplete)},navigate:function(t,e){var i=t.pageId,s=t.forceReload;!s&&i&&i==this.currentPageId?(this.$callback(e),this._navigationManager&&(this._navigationManager.update(t),aria.utils.Json.setValue(this._data,"pageInfo",t))):(this._previousPageCSS=this._currentPageCSS,this._currentPageCSS=[],this._pageProvider.loadPageDefinition(t,{onsuccess:{fn:this._getPageDependencies,scope:this,args:{pageRequest:t,cb:e}},onfailure:{fn:this._errorCallback,scope:this,args:[this.PAGE_NOT_AVAILABLE,i],resIndex:-1}}))},_getPageDependencies:function(t,e){var i=this.isConfigValid(t,"aria.pageEngine.CfgBeans.PageDefinition",this.INVALID_PAGE_DEFINITION);if(!i)return this.$callback(e.cb),void 0;var s=new aria.pageEngine.utils.PageConfigHelper(t);aria.utils.Json.inject(s.getMenus(),this._siteConfigHelper.getAppData().menus),this._pageConfigHelper=s,this._lazyContent=!0,this._loadPageDependencies({lazy:!1,pageId:t.pageId,cb:{fn:this._displayPage,scope:this,args:{cb:e.cb,pageConfig:t,pageRequest:e.pageRequest}}})},_loadPageDependencies:function(t){var e=this._pageConfigHelper.getPageDependencies(t.lazy),i=this._siteConfigHelper.getCommonModulesDescription({priority:2,refpaths:e.modules.common});this._utils.wiseConcat(e.classes,this._utils.extractPropertyFromArrayElements(i,"classpath"));var s=this._pageConfigHelper.getPageModulesDescriptions(e.modules.page);this._currentPageCSS=this._currentPageCSS.concat(e.css),aria.utils.CSSLoader.add(e.css),delete e.css,e.oncomplete={scope:this,fn:this._loadPageModules,args:{pageId:t.pageId,cb:t.cb,subModules:{common:i,page:s}}},e.onerror={fn:this._errorCallback,scope:this,args:[this.MISSING_DEPENDENCIES],resIndex:-1},Aria.load(e)},_loadPageModules:function(t){var e=t.subModules;this._rootModule.loadModules(t.pageId,e,t.cb)},isConfigValid:function(t,e,i){try{aria.core.JsonValidator.normalize({json:t,beanName:e},!0)}catch(s){return this._utils.logMultipleErrors(i,s.errors,this),this._config.onerror&&this.$callback(this._config.onerror,i),!1}return!0},_displayPage:function(t){var e=t.pageConfig,i=e.pageComposition,s=e.pageId;this.$raiseEvent({name:"beforePageTransition",from:this.currentPageId,to:s}),this.currentPageId=s,this._pageConfigs[s]=e;var a=t.pageRequest;a.url=e.url,a.pageId=e.pageId,a.title=e.title;var n=aria.utils.Json;n.setValue(this._data,"pageData",i.pageData),n.setValue(this._data,"pageInfo",a);var r={classpath:i.template,div:null===e.animation?0===this._activeDiv?this._firstDiv:this._secondDiv:this._getContainer(!1),moduleCtrl:this._rootModule};this._modulesInPage=[],!this._animationsManager&&this._isTemplateLoaded&&Aria.disposeTemplate(this._getContainer()),Aria.loadTemplate(r,{fn:this._afterTemplateLoaded,scope:this,args:{pageConfig:e,cb:t.cb,div:r.div,pageRequest:a}})},_afterTemplateLoaded:function(t,e){this._navigationManager&&this._navigationManager.update(e.pageRequest);var i=aria.core.Browser;i.isIE&&8>parseInt(i.majorVersion,10)&&aria.core.Timer.addCallback({fn:function(){e.div.style.zoom=0,e.div.style.zoom=1,e.div=null},scope:this,delay:0}),this._isTemplateLoaded=!0,this._animationsManager&&e.pageConfig.animation?(this._animationsManager.$on({animationend:{fn:this._pageTransitionComplete,args:e},scope:this}),this._animationsManager.startPageTransition(this._getContainer(!1),this._getContainer(),e.pageConfig.animation)):this._finishDisplay(e)},_pageTransitionComplete:function(t,e){this._animationsManager.$removeListeners({animationend:this._pageTransitionComplete,scope:this}),this._activeDiv=(this._activeDiv+1)%2,Aria.disposeTemplate(this._getContainer(!1)),this._finishDisplay(e)},_finishDisplay:function(t){aria.utils.CSSLoader.remove(this._previousPageCSS),this.$raiseEvent({name:"pageReady",pageId:t.pageConfig.pageId}),t.cb&&this.$callback(t.cb),this._loadPageDependencies({lazy:!0,pageId:t.pageConfig.pageId,cb:{fn:this._afterLazyDependenciesLoad,scope:this}})},_getContainer:function(t){return this._animationsManager?(t=!(t===!1),t?0===this._activeDiv?this._firstDiv:this._secondDiv:1===this._activeDiv?this._firstDiv:this._secondDiv):this._firstDiv},_afterLazyDependenciesLoad:function(){var t=this._pageConfigHelper.getLazyPlaceholdersIds();this._lazyContent=!1,this.$raiseEvent({name:"contentChange",contentPaths:t}),this._pageConfigHelper.$dispose()},getContent:function(t){var e,i=aria.utils.Type,s=this._pageConfigs[this.currentPageId],a=s.pageComposition.placeholders,n=a[t]||[],r=[];i.isArray(n)||(n=[n]);for(var o=0,l=n.length;l>o;o++){var c=n[o];i.isObject(c)?this._lazyContent&&c.lazy?r.push({loading:!0,width:c.lazy.width||null,height:c.lazy.height||null,color:c.lazy.color||null,innerHTML:c.lazy.innerHTML||null}):c.template?r.push(this._getTemplateCfg(c,s)):c.contentId&&(e=this._getPlaceholderContents(s,c.contentId),r=r.concat(e)):r.push(c)}return r},_getTemplateCfg:function(t,e){var i={classpath:t.template},s=t.args||[],a={};if(t.contentId&&(a.contents=this._getPlaceholderContents(e,t.contentId)),s.push(a),i.args=s,t.module){var n=this._rootModule.getPageModule(this.currentPageId,t.module);i.moduleCtrl=n,this._modulesInPage.push(n)}return i},_getPlaceholderContents:function(t,e){var i=[],s=t.contents.placeholderContents[e];if(!s)return i;aria.utils.Type.isArray(s)||(s=[s]);for(var a=0,n=s.length;n>a;a++)i=i.concat(this.processContent(s[a]));return i},processContent:function(t){var e=t.contentType;return e&&e in this.contentProcessors?this.processContent(this.contentProcessors[e].processContent(t)):t.value||""},_errorCallback:function(t){var e=this._config;this.$logError.apply(this,t),e.onerror&&this.$callback(e.onerror,t[0])},_onPageDefinitionChange:function(t){var e=t.pageId;this.currentPageId==e&&(this._rootModule.unloadPageModules(e),this.navigate({pageId:e,url:this._navigationManager?this._navigationManager.getUrl():null,forceReload:!0}))},getData:function(){return this._data},getPageProvider:function(){return this._pageProvider},isModuleInPage:function(t){return aria.utils.Array.contains(this._modulesInPage,t.$publicInterface())}}});
//*******************
//LOGICAL-PATH:aria/pageEngine/pageProviders/PageProviderInterface.js
//*******************
Aria.interfaceDefinition({$classpath:"aria.pageEngine.pageProviders.PageProviderInterface",$events:{pageDefinitionChange:""},$interface:{loadSiteConfig:function(){},loadPageDefinition:function(){}}});
//*******************
//LOGICAL-PATH:aria/pageEngine/pageProviders/BasePageProvider.js
//*******************
Aria.classDefinition({$classpath:"aria.pageEngine.pageProviders.BasePageProvider",$implements:["aria.pageEngine.pageProviders.PageProviderInterface"],$dependencies:["aria.core.DownloadMgr"],$constructor:function(t){this._config=t,this._basePageUrl=null,"cache"in t||(t.cache=!0),this._cache={},this._urlMap={pageIdToUrl:{},urlToPageId:{}}},$prototype:{loadSiteConfig:function(t){this._sendRequest(aria.core.DownloadMgr.resolveURL(this._config.siteConfigLocation),{callback:t},"site")},loadPageDefinition:function(t,e){t=t||{};var i=this._getPageId(t);t.pageId=i,this._updateUrlMap(t);var s=this._config.cache?this._retrieveFromCache(t):null;return s?(this.$callback(e.onsuccess,this.processPageDefinition(s)),void 0):(this._basePageUrl=this._basePageUrl||aria.core.DownloadMgr.resolveURL(this._config.pageBaseLocation+"fake.json").replace(/fake\.json$/,""),this._sendRequest(this._basePageUrl+i+".json",{pageRequest:t,callback:e},"page"),void 0)},processSiteConfig:function(t){return t},processPageDefinition:function(t){return t},_sendRequest:function(t,e,i){aria.core.IO.asyncRequest({url:t,expectedResponseType:"json",callback:{fn:"page"==i?this._onPageSuccess:this._onSiteSuccess,scope:this,args:e,onerror:this._onFailure}})},_onSiteSuccess:function(t,e){var i=this.processSiteConfig(t.responseJSON);this.$callback(e.callback.onsuccess,i)},_onPageSuccess:function(t,e){var i=e.callback,s=e.pageRequest,a=t.responseJSON;this._updateUrlMap(a);var n=this._getUrl(s);this._config.cache&&this._updateCache(a,{url:n}),a.url=n,this._updateUrlMap(a),this.$callback(i.onsuccess,this.processPageDefinition(a))},_onFailure:function(t,e){this.$callback(e.callback.onfailure)},_updateUrlMap:function(t){var e=t.pageId,i=t.url,s=this._urlMap;if(e&&i){s.pageIdToUrl[e]=i,s.urlToPageId[i]=e;var a=i.replace(/\/$/,"");s.urlToPageId[a]=e}},_retrieveFromCache:function(t){var e=this._getPageId(t);if(e&&this._cache[e]){var i=this._cache[e];return i.url=this._getUrl(t),i}return null},_getPageId:function(t){var e=this._urlMap.urlToPageId,i=t.pageId,s=t.url;if(i)return i;if(s){var a=e[s]||e[s+"/"]||e[s.replace(/\/$/,"")];if(a)return a}return this._config.homePageId},_getUrl:function(t){var e=this._urlMap.pageIdToUrl,i=t.pageId,s=t.url;return s?s:i&&e[i]?e[i]:"/"+i},_updateCache:function(t,e){var i=e.url,s=t.url;s&&(this._cache[s]=t),this._cache[t.pageId]=t,this._cache[i]=t}}});
//*******************
//LOGICAL-PATH:aria/pageEngine/utils/AnimationsManager.js
//*******************
Aria.classDefinition({$classpath:"aria.pageEngine.utils.AnimationsManager",$dependencies:["aria.utils.css.Animations"],$constructor:function(){this._syncCfg={waiting:0,toDispose:[]}},$destructor:function(){this._syncCfg=null},$events:{animationend:""},$prototype:{createHiddenDiv:function(t){var e=t.cloneNode(!0);return e.setAttribute("id",""),e.className=e.className+" xanimation-element",e.innerHTML="",t.parentNode.insertBefore(e,t.nextSibling),e},_start:function(t,e){var i=new aria.utils.css.Animations;this._syncCfg.toDispose.push(i),i.$on({animationend:{fn:this._animationComplete},scope:this}),t.reverse=e.reverse,i.start(e.name,t)},startPageTransition:function(t,e,i){if(i.animateOut&&i.animateIn&&i.animateIn==i.animateOut){var s={from:e,to:t};i.type&&(s.type=i.type),this._syncCfg.waiting+=1,this._start(s,this._mappingAnimations(i.animateOut))}else{if(i.animateOut){var s={from:e};i.type&&(s.type=i.type),this._syncCfg.waiting+=1,this._start(s,this._mappingAnimations(i.animateOut))}else-1===e.className.indexOf("xanimation-element")&&(e.className=e.className+" xanimation-element");if(i.animateIn){var s={to:t};i.type&&(s.type=i.type),this._syncCfg.waiting+=1,this._start(s,this._mappingAnimations(i.animateIn))}}},_mappingAnimations:function(t){var e,i;switch(t){case"slide left":e="slide",i=!1;break;case"slide right":e="slide",i=!0;break;case"slide up":e="slideup",i=!1;break;case"slide down":e="slidedown",i=!1;break;case"fade":e="fade",i=!1;break;case"fade reverse":e="fade",i=!0;break;case"pop":e="pop",i=!1;break;case"pop reverse":e="pop",i=!0;break;case"flip":e="flip",i=!1;break;case"flip reverse":e="flip",i=!0;break;default:e=t,i=!1}return{name:e,reverse:i}},_animationComplete:function(){if(this._syncCfg.waiting-=1,0===this._syncCfg.waiting){for(var t,e=this._syncCfg.toDispose,i=e.length-1;i>=0;i--)t=e[i],t.$unregisterListeners(),t.$dispose(),e.splice(e.length-1,1);this.$raiseEvent("animationend")}}}});
//*******************
//LOGICAL-PATH:aria/storage/EventBus.js
//*******************
Aria.classDefinition({$classpath:"aria.storage.EventBus",$singleton:!0,$events:{change:""},$prototype:{stop:!1,notifyChange:function(t,e,i,s,a){this.$raiseEvent({name:"change",location:t,namespace:a,key:e,newValue:i,oldValue:s,url:Aria.$window.location})}}});
//*******************
//LOGICAL-PATH:aria/storage/IStorage.js
//*******************
Aria.interfaceDefinition({$classpath:"aria.storage.IStorage",$events:{change:""},$interface:{getItem:function(){},setItem:function(){},removeItem:function(){},clear:function(){}}});
//*******************
//LOGICAL-PATH:aria/storage/AbstractStorage.js
//*******************
Aria.classDefinition({$classpath:"aria.storage.AbstractStorage",$dependencies:["aria.storage.EventBus","aria.utils.json.JsonSerializer","aria.utils.Type"],$implements:["aria.storage.IStorage"],$statics:{INVALID_SERIALIZER:"Invalid serializer configuration. Make sure it implements aria.utils.json.ISerializer",INVALID_NAMESPACE:"Inavlid namespace configuration. Must be a string.",EVENT_KEYS:["name","key","oldValue","newValue","url"]},$constructor:function(t){this._disposeSerializer=!1,this._eventCallback={fn:this._onStorageEvent,scope:this},aria.storage.EventBus.$on({change:this._eventCallback});var e=t?t.serializer:null,i=!0;e&&("serialize"in e&&"parse"in e?i=!1:this.$logError(this.INVALID_SERIALIZER)),i&&(e=new aria.utils.json.JsonSerializer(!0),this._disposeSerializer=!0),this.serializer=e;var s="";t&&t.namespace&&(aria.utils.Type.isString(t.namespace)?s=t.namespace+"$":this.$logError(this.INVALID_NAMESPACE)),this.namespace=s},$destructor:function(){aria.storage.EventBus.$removeListeners({change:this._eventCallback}),this._disposeSerializer&&this.serializer&&this.serializer.$dispose(),this.serializer=null,this._eventCallback=null},$prototype:{getItem:function(t){var e=this._get(this.namespace+t);return this.serializer.parse(e)},setItem:function(t,e){var i=this.getItem(t),s=this.serializer.serialize(e,{reversible:!0,keepMetadata:!1});aria.storage.EventBus.stop=!0,this._set(this.namespace+t,s),aria.storage.EventBus.stop=!1,e=this.serializer.parse(s),aria.storage.EventBus.notifyChange(this.type,t,e,i,this.namespace)},removeItem:function(t){var e=this.getItem(t);null!==e&&(aria.storage.EventBus.stop=!0,this._remove(this.namespace+t),aria.storage.EventBus.stop=!1,aria.storage.EventBus.notifyChange(this.type,t,null,e,this.namespace))},clear:function(){aria.storage.EventBus.stop=!0,this._clear(),aria.storage.EventBus.stop=!1,aria.storage.EventBus.notifyChange(this.type,null,null,null)},_onStorageEvent:function(t){if(null===t.key||t.namespace===this.namespace){var e=aria.utils.Json.copy(t,!1,this.EVENT_KEYS);this.$raiseEvent(e)}}}});
//*******************
//LOGICAL-PATH:aria/storage/HTML5Storage.js
//*******************
Aria.classDefinition({$classpath:"aria.storage.HTML5Storage",$dependencies:["aria.utils.Event"],$extends:"aria.storage.AbstractStorage",$statics:{UNAVAILABLE:"%1 not supported by the browser."},$constructor:function(t,e,i){if(this.$AbstractStorage.constructor.call(this,t),this.type=e,this.storage=Aria.$window[e],this._browserEventCb={fn:this._browserEvent,scope:this},this.storage)aria.utils.Event.addListener(Aria.$window,"storage",this._browserEventCb);else if(i!==!1)throw this._disposeSerializer&&this.serializer&&this.serializer.$dispose(),this.$logError(this.UNAVAILABLE,[this.type]),Error(this.type)},$destructor:function(){aria.utils.Event.removeListener(Aria.$window,"storage",this._browserEventCb),this._browserEventCb=null,this.__target=null,this.$AbstractStorage.$destructor.call(this)},$prototype:{_get:function(t){return this.storage.getItem(t)},_set:function(t,e){this.storage.setItem(t,e)},_remove:function(t){this.storage.removeItem(t)},_clear:function(){this.storage.clear()},_browserEvent:function(t){if(!aria.storage.EventBus.stop){var e=this.namespace?t.key.substring(0,this.namespace.length)===this.namespace:!0;if(e){var i=t.oldValue,s=t.newValue;i&&(i=this.serializer.parse(i)),s&&(s=this.serializer.parse(s)),this._onStorageEvent({name:"change",key:t.key,oldValue:i,newValue:s,url:t.url,namespace:this.namespace})}}},$on:function(t){aria.core.Browser.isIE8&&this.$logWarn(this.UNAVAILABLE,"change event"),this.$AbstractStorage.$on.call(this,t)}}});
//*******************
//LOGICAL-PATH:aria/storage/UserData.js
//*******************
(function(){function t(){a||(a=new aria.utils.json.JsonSerializer(!0));var t=s.getAttribute("kMap");return t?a.parse(t):{}}function e(t,e){t?n[e]=t:delete n[e],s.setAttribute("kMap",a.serialize(n)),s.save("JSONPersist")}function i(i,s){if(n=t(),!s||i in n)return n[i];var a="uD"+r++;return e(a,i),a}var s,a,n={},r=4;Aria.classDefinition({$classpath:"aria.storage.UserData",$dependencies:["aria.utils.Object","aria.utils.Dom","aria.utils.json.JsonSerializer","aria.core.Browser"],$implements:["aria.storage.IStorage"],$extends:"aria.storage.AbstractStorage",$onload:function(){if(aria.core.Browser.isIE)try{var e=Aria.$frameworkWindow.document.createElement("form");e.innerHTML="<input type='hidden' id='__aria_storage_UserData__' style='behavior:url(#default#userData)'>",Aria.$frameworkWindow.document.body.appendChild(e),s=e.firstChild,s.load("JSONPersist"),t()}catch(i){}},$onunload:function(){aria.core.Browser.isIE&&(s&&s.parentNode.removeChild(s),s=null),a&&a.$dispose(),a=null},$prototype:{_get:function(t){var e=i(t);return e?s.getAttribute(e):null},_set:function(t,e){var a=i(t,!0);s.setAttribute(a,e),s.save("JSONPersist")},_remove:function(t){s.removeAttribute(i(t)),e(null,t),s.save("JSONPersist")},_clear:function(){var e=t();n={},s.removeAttribute("kMap");for(var i in e)e.hasOwnProperty(i)&&s.removeAttribute(e[i]);s.save("JSONPersist")}}})})();
//*******************
//LOGICAL-PATH:aria/storage/LocalStorage.js
//*******************
(function(){function t(t,e){t._get=e._get,t._set=e._set,t._remove=e._remove,t._clear=e._clear,t.storage=aria.storage.UserData._STORAGE,t.__keys=aria.storage.UserData._ALL_KEYS}Aria.classDefinition({$classpath:"aria.storage.LocalStorage",$extends:"aria.storage.HTML5Storage",$dependencies:["aria.core.Browser","aria.storage.UserData"],$constructor:function(e){var i=aria.core.Browser.isIE7;if(this.$HTML5Storage.constructor.call(this,e,"localStorage",!i),!this.storage&&i){var a=new aria.storage.UserData(e);t(this,a),this._fallback=a}},$destructor:function(){this._fallback&&(this._fallback.$dispose(),this._fallback=null),this.$HTML5Storage.$destructor.call(this)}})})();
//*******************
//LOGICAL-PATH:aria/pageEngine/utils/BaseNavigationManager.js
//*******************
Aria.classDefinition({$classpath:"aria.pageEngine.utils.BaseNavigationManager",$dependencies:["aria.storage.LocalStorage","aria.utils.Event","aria.utils.Type"],$statics:{STORAGE_KEY_PREFIX:"at_pe_navigation_cache",EXPIRATION_TIME:86400},$constructor:function(t,e){e=e||{},this._navigate=t||null,e.active?(this._storageKey=this.STORAGE_KEY_PREFIX+e.suffix,this._expiresAfter=aria.utils.Type.isNumber(e.expiresAfter)?e.expiresAfter:this.EXPIRATION_TIME,this._storage=new aria.storage.LocalStorage,this._saveCacheCB={fn:this._saveCache,scope:this},aria.utils.Event.addListener(Aria.$window,"unload",this._saveCacheCB),this._cache=this._storage.getItem(this._storageKey)||{},this._removeOldCache()):(this._storage=null,this._cache={})},$destructor:function(){this._navigate=null,this._storage&&this._saveCache(),this._cache=null},$prototype:{getPageId:function(){var t=this._cache[this.getUrl()];return t?t.id:null},_saveCache:function(){this._storage&&(this._removeOldCache(),this._storage.setItem(this._storageKey,this._cache),this._storage.$dispose(),this._storage=null),aria.utils.Event.removeListener(Aria.$window,"unload",this._saveCacheCB)},_removeOldCache:function(){var t=this._cache,e=(new Date).getTime()-1e3*this._expiresAfter;for(var i in t)t.hasOwnProperty(i)&&e>t[i].age&&delete t[i]},_addInCache:function(t,e){this._cache[t]={id:e,age:(new Date).getTime()}},getCache:function(){return this._cache}}});
//*******************
//LOGICAL-PATH:aria/pageEngine/utils/HashManager.js
//*******************
Aria.classDefinition({$classpath:"aria.pageEngine.utils.HashManager",$extends:"aria.pageEngine.utils.BaseNavigationManager",$dependencies:["aria.utils.HashManager","aria.utils.Type"],$constructor:function(){this.$BaseNavigationManager.constructor.apply(this,arguments),this._hashManager=aria.utils.HashManager,this._onHashChangeCallback={fn:this._onHashChange,scope:this},this._hashManager.addCallback(this._onHashChangeCallback)},$destructor:function(){this._hashManager.removeCallback(this._onHashChangeCallback),this._onHashChangeCallback=null,this._hashManager=null,this.$BaseNavigationManager.$destructor.call(this)},$prototype:{_onHashChange:function(){var t=this.getUrl(),e=this._cache[t]?this._cache[t].id:null;e&&this._navigate&&this.$callback(this._navigate,{pageId:e,url:t})},update:function(t){var e=t.url,i=t.title,a=aria.utils.Type;a.isString(e)&&(this._addInCache(e,t.pageId),this.getUrl()!=e&&this._hashManager.setHash(e)),a.isString(i)&&(Aria.$window.document.title=i)},getUrl:function(){return this._hashManager.getHashString()}}});
//*******************
//LOGICAL-PATH:aria/touch/Gesture.js
//*******************
Aria.classDefinition({$classpath:"aria.touch.Gesture",$dependencies:["aria.utils.Event","aria.utils.Delegate","aria.utils.AriaWindow","aria.touch.Event"],$statics:{NB_TOUCHES:1},$constructor:function(){this.body={},this.touchEventMap=aria.touch.Event.touchEventMap;var t=aria.utils.AriaWindow;t.$on({attachWindow:this._connectTouchEvents,detachWindow:this._disconnectTouchEvents,scope:this}),this.eventsAlreadyAttached=!1,t.isWindowUsed&&this._connectTouchEvents(),this.timerId=null,this.startData=null,this.currentData=null},$destructor:function(){aria.utils.AriaWindow.$unregisterListeners(this),this._disconnectTouchEvents(),this.body=null},$prototype:{_connectTouchEvents:function(){if(!this.eventsAlreadyAttached){this.body=Aria.$window.document.body;for(var t=this._getInitialListenersList(),e=0;t.length>e;e++)this._addListener(t[e].evt,t[e].cb);this.eventsAlreadyAttached=!0}},_disconnectTouchEvents:function(){for(var t=this._getInitialListenersList(),e=0;t.length>e;e++)this._removeListener(t[e].evt,t[e].cb);this.eventsAlreadyAttached=!1},_getInitialListenersList:function(){return[]},_getAdditionalListenersList:function(){return[]},_getFakeEventsMap:function(){return{}},_gestureStart:function(t,e){return this.__validateNbTouches(t)?(this._disconnectTouchEvents(),this.startData={positions:aria.touch.Event.getPositions(t),time:(new Date).getTime()},this.currentData=null,this._connectAdditionalTouchEvents(),this._getFakeEventsMap().start?this._raiseFakeEvent(t,this._getFakeEventsMap().start,e):null!=t.returnValue?t.returnValue:!t.defaultPrevented):null},_gestureMove:function(t,e){return this.__validateNbTouches(t)?(this.currentData={positions:aria.touch.Event.getPositions(t),time:(new Date).getTime()},this._getFakeEventsMap().move?this._raiseFakeEvent(t,this._getFakeEventsMap().move,e):null!=t.returnValue?t.returnValue:!t.defaultPrevented):null},_gestureEnd:function(t,e){return this.__validateNbTouches(t)?(this._disconnectAdditionalTouchEvents(),this._connectTouchEvents(),this.currentData={positions:aria.touch.Event.getPositions(t),time:(new Date).getTime()},this._getFakeEventsMap().end?this._raiseFakeEvent(t,this._getFakeEventsMap().end,e):null!=t.returnValue?t.returnValue:!t.defaultPrevented):null},_gestureCancel:function(t,e){return this._disconnectAdditionalTouchEvents(),this._connectTouchEvents(),this.currentData={positions:aria.touch.Event.getPositions(t),time:(new Date).getTime()},this._getFakeEventsMap().cancel?this._raiseFakeEvent(t,this._getFakeEventsMap().cancel,e):null!=t.returnValue?t.returnValue:!t.defaultPrevented},_connectAdditionalTouchEvents:function(){for(var t=this._getAdditionalListenersList(),e=0;t.length>e;e++)this._addListener(t[e].evt,t[e].cb)},_disconnectAdditionalTouchEvents:function(){for(var t=this._getAdditionalListenersList(),e=0;t.length>e;e++)this._removeListener(t[e].evt,t[e].cb)},_addListener:function(t,e){aria.utils.Event.addListener(this.body,t,e)},_removeListener:function(t,e){aria.utils.Event.removeListener(this.body,t,e)},_raiseFakeEvent:function(t,e,i){var a=t.target?t.target:t.srcElement,s=aria.DomEvent.getFakeEvent(e,a);t.returnValue||s.preventDefault(),t.cancelBubble&&s.stopPropagation(),s.pageX=t.pageX,s.pageY=t.pageY,s.clientX=t.clientX,s.clientY=t.clientY,s.touches=t.touches,s.changedTouches=t.changedTouches,s.isPrimary=t.isPrimary,this.startData&&this.startData.time&&(s.duration=(new Date).getTime()-this.startData.time),i||(i={}),i.startX=this.startData.positions[0].x,i.startY=this.startData.positions[0].y;var n=aria.touch.Event.getPositions(t);return i.currentX=n[0].x,i.currentY=n[0].y,s.detail=i,aria.utils.Delegate.delegate(s),t.cancelBubble=s.hasStopPropagation,t.returnValue=!s.hasPreventDefault,t.returnValue},_calculateDistance:function(t,e,i,a){return Math.sqrt(Math.pow(i-t,2)+Math.pow(a-e,2))},__validateNbTouches:function(t){var e=aria.touch.Event.getFingerIndex(t);return 1==this.NB_TOUCHES&&0===e||2==this.NB_TOUCHES&&e>=0}}});
//*******************
//LOGICAL-PATH:aria/touch/DoubleTap.js
//*******************
Aria.classDefinition({$singleton:!0,$classpath:"aria.touch.DoubleTap",$extends:"aria.touch.Gesture",$statics:{MARGIN:10,BETWEEN_DELAY:200},$prototype:{_getInitialListenersList:function(){return[{evt:this.touchEventMap.touchstart,cb:{fn:this._doubleTapStart,scope:this}}]},_getAdditionalListenersList:function(){return[{evt:this.touchEventMap.touchmove,cb:{fn:this._doubleTapMove,scope:this}},{evt:this.touchEventMap.touchend,cb:{fn:this._doubleTapEnd,scope:this}}]},_getFakeEventsMap:function(){return{doubletapstart:"doubletapstart",cancel:"doubletapcancel",finalize:"doubletap"}},_doubleTapStart:function(t){var e=this._gestureStart(t);return null==e?this.timerId?this._doubleTapCancel(t):null!=t.returnValue?t.returnValue:!t.defaultPrevented:this.timerId?(aria.core.Timer.cancelCallback(this.timerId),e):this._raiseFakeEvent(t,this._getFakeEventsMap().doubletapstart)},_doubleTapMove:function(t){var e=aria.touch.Event.getPositions(t);if(this.MARGIN>=this._calculateDistance(this.startData.positions[0].x,this.startData.positions[0].y,e[0].x,e[0].y)){var i=this._gestureMove(t);return null==i?this._doubleTapCancel(t):i}return this._doubleTapCancel(t)},_doubleTapEnd:function(t){var e=this._gestureEnd(t);return null==e?this._doubleTapCancel(t):this.timerId?(this.timerId=null,this._raiseFakeEvent(t,this._getFakeEventsMap().finalize)):(this.timerId=aria.core.Timer.addCallback({fn:this._doubleTapFinalCancel,scope:this,delay:this.BETWEEN_DELAY,args:t}),e)},_doubleTapCancel:function(t){return this.timerId&&(aria.core.Timer.cancelCallback(this.timerId),this.timerId=null),this._gestureCancel(t)},_doubleTapFinalCancel:function(t){return this.timerId&&(aria.core.Timer.cancelCallback(this.timerId),this.timerId=null),this._raiseFakeEvent(t,this._getFakeEventsMap().cancel)}}});
//*******************
//LOGICAL-PATH:aria/touch/Drag.js
//*******************
Aria.classDefinition({$singleton:!0,$classpath:"aria.touch.Drag",$extends:"aria.touch.Gesture",$prototype:{_getInitialListenersList:function(){return[{evt:this.touchEventMap.touchstart,cb:{fn:this._dragStart,scope:this}}]},_getAdditionalListenersList:function(){return[{evt:this.touchEventMap.touchmove,cb:{fn:this._dragMove,scope:this}},{evt:this.touchEventMap.touchend,cb:{fn:this._dragEnd,scope:this}}]},_getFakeEventsMap:function(){return{dragstart:"dragstart",dragmove:"dragmove",dragend:"drag",cancel:"dragcancel"}},_dragStart:function(t){var e=null!=this.currentData,i=this._gestureStart(t);return null==i&&e?(this.currentData={positions:aria.touch.Event.getPositions(t),time:(new Date).getTime()},this._raiseFakeEvent(t,this._getFakeEventsMap().cancel)):null==i?null!=t.returnValue?t.returnValue:!t.defaultPrevented:i},_dragMove:function(t){var e=null!=this.currentData,i=this._gestureMove(t);if(null!=i){var a=this._getFakeEventsMap().dragstart;return e&&(a=this._getFakeEventsMap().dragmove),this._raiseFakeEvent(t,a)}return this.currentData=null,e?this._gestureCancel(t):null!=t.returnValue?t.returnValue:!t.defaultPrevented},_dragEnd:function(t){var e=null!=this.currentData,i=this._gestureEnd(t);return e?null==i?null!=t.returnValue?t.returnValue:!t.defaultPrevented:this._raiseFakeEvent(t,this._getFakeEventsMap().dragend):null!=t.returnValue?t.returnValue:!t.defaultPrevented}}});
//*******************
//LOGICAL-PATH:aria/touch/LongPress.js
//*******************
Aria.classDefinition({$singleton:!0,$classpath:"aria.touch.LongPress",$extends:"aria.touch.Gesture",$statics:{MARGIN:10,PRESS_DURATION:1e3},$prototype:{_getInitialListenersList:function(){return[{evt:this.touchEventMap.touchstart,cb:{fn:this._longPressStart,scope:this}}]},_getAdditionalListenersList:function(){return[{evt:this.touchEventMap.touchmove,cb:{fn:this._longPressMove,scope:this}},{evt:this.touchEventMap.touchend,cb:{fn:this._longPressCancel,scope:this}}]},_getFakeEventsMap:function(){return{start:"longpressstart",cancel:"longpresscancel",finalize:"longpress"}},_longPressStart:function(t){var e=this._gestureStart(t);return null!=e?(this.timerId=aria.core.Timer.addCallback({fn:this._longPressFinalize,scope:this,delay:this.PRESS_DURATION,args:t}),e):this.timerId?this._longPressCancel(t):null!=t.returnValue?t.returnValue:!t.defaultPrevented},_longPressMove:function(t){var e=aria.touch.Event.getPositions(t);if(this.MARGIN>=this._calculateDistance(this.startData.positions[0].x,this.startData.positions[0].y,e[0].x,e[0].y)){var i=this._gestureMove(t);return null==i?this._longPressCancel(t):i}return this._longPressCancel(t)},_longPressCancel:function(t){return this.timerId&&(aria.core.Timer.cancelCallback(this.timerId),this.timerId=null),this._gestureCancel(t)},_longPressFinalize:function(t){this.timerId&&(aria.core.Timer.cancelCallback(this.timerId),this.timerId=null),this._gestureEnd(t),this._raiseFakeEvent(t,this._getFakeEventsMap().finalize)}}});
//*******************
//LOGICAL-PATH:aria/touch/Pinch.js
//*******************
Aria.classDefinition({$singleton:!0,$classpath:"aria.touch.Pinch",$extends:"aria.touch.Gesture",$statics:{NB_TOUCHES:2},$events:{pinchstart:"",pinchmove:"",pinchend:"",pinchcancel:""},$constructor:function(){this.$Gesture.constructor.call(this),this.lastKnownAngle=null,this.initialPinchData=null,this.primaryPoint=null,this.secondaryPoint=null},$prototype:{_getInitialListenersList:function(){return[{evt:this.touchEventMap.touchstart,cb:{fn:this._pinchStart,scope:this}}]},_getAdditionalListenersList:function(){return[{evt:this.touchEventMap.touchmove,cb:{fn:this._pinchMove,scope:this}},{evt:this.touchEventMap.touchend,cb:{fn:this._pinchEnd,scope:this}}]},_getFakeEventsMap:function(){return{start:"pinchstart",move:"pinchmove",end:"pinch",cancel:"pinchcancel"}},_pinchStart:function(t){if(t.touches&&t.touches.length>=2){var e=aria.touch.Event.getPositions(t);this.primaryPoint=e[0],this.secondaryPoint=e[1]}else t.isPrimary?this.primaryPoint=aria.touch.Event.getPositions(t)[0]:t.isPrimary!==void 0&&t.isPrimary===!1&&(this.secondaryPoint=aria.touch.Event.getPositions(t)[0]);if(t.touches&&t.touches.length>=2||t.isPrimary!==void 0&&t.isPrimary===!1){var i=this._calculateDistance(this.primaryPoint.x,this.primaryPoint.y,this.secondaryPoint.x,this.secondaryPoint.y),a=this.__calculateAngle(this.primaryPoint.x,this.primaryPoint.y,this.secondaryPoint.x,this.secondaryPoint.y);return this.initialPinchData={distance:i,dVariation:0,angle:a},this.lastKnownAngle=a,this.$raiseEvent({name:"pinchstart",distance:i,dVariation:0,angle:a,originalEvent:t}),this._gestureStart(t,this.initialPinchData)}return null!=t.returnValue?t.returnValue:!t.defaultPrevented},_pinchMove:function(t){if(t.touches&&t.touches.length>=2){var e=aria.touch.Event.getPositions(t);this.primaryPoint=e[0],this.secondaryPoint=e[1]}else{if(void 0===t.isPrimary)return this.$raiseEvent({name:"pinchcancel"}),this._gestureCancel(t);t.isPrimary?this.primaryPoint=aria.touch.Event.getPositions(t):this.secondaryPoint=aria.touch.Event.getPositions(t)}var i=this._calculateDistance(this.primaryPoint.x,this.primaryPoint.y,this.secondaryPoint.x,this.secondaryPoint.y),a=this.__calculateAngle(this.primaryPoint.x,this.primaryPoint.y,this.secondaryPoint.x,this.secondaryPoint.y);this.lastKnownAngle=a;var s={distance:i,dVariation:i-this.initialPinchData.distance,angle:a};return this.$raiseEvent({name:"pinchmove",distance:i,dVariation:i-this.initialPinchData.distance,angle:a,originalEvent:t}),this._gestureMove(t,s)},_pinchEnd:function(t){if(t.touches&&t.changedTouches&&(t.changedTouches.length||0)+(t.touches.length||0)>=2){var e=aria.touch.Event.getPositions(t);this.primaryPoint=e[0],this.secondaryPoint=e[1]}if(t.isPrimary!==void 0&&(t.isPrimary?this.primaryPoint=aria.touch.Event.getPositions(t):this.secondaryPoint=aria.touch.Event.getPositions(t)),t.touches&&t.changedTouches&&(t.changedTouches.length||0)+(t.touches.length||0)>=2||t.isPrimary!==void 0){var i=this._calculateDistance(this.primaryPoint.x,this.primaryPoint.y,this.secondaryPoint.x,this.secondaryPoint.y),a=this.__calculateAngle(this.primaryPoint.x,this.primaryPoint.y,this.secondaryPoint.x,this.secondaryPoint.y);Math.abs(a-this.lastKnownAngle)>150&&(a=this.__calculateAngle(this.secondaryPoint.x,this.secondaryPoint.y,this.primaryPoint.x,this.primaryPoint.y));var s={distance:i,dVariation:i-this.initialPinchData.distance,angle:a};return this.$raiseEvent({name:"pinchend",distance:i,dVariation:i-this.initialPinchData.distance,angle:a,originalEvent:t}),this._gestureEnd(t,s)}return this.$raiseEvent({name:"pinchcancel"}),this._gestureCancel(t)},__calculateAngle:function(t,e,i,a){return 180*Math.atan2(a-e,i-t)/Math.PI}}});
//*******************
//LOGICAL-PATH:aria/touch/SingleTap.js
//*******************
Aria.classDefinition({$singleton:!0,$classpath:"aria.touch.SingleTap",$extends:"aria.touch.Gesture",$statics:{MARGIN:10,FINAL_DELAY:250},$prototype:{_getInitialListenersList:function(){return[{evt:this.touchEventMap.touchstart,cb:{fn:this._singleTapStart,scope:this}}]},_getAdditionalListenersList:function(){return[{evt:this.touchEventMap.touchmove,cb:{fn:this._singleTapMove,scope:this}},{evt:this.touchEventMap.touchend,cb:{fn:this._singleTapEnd,scope:this}}]},_getFakeEventsMap:function(){return{start:"singletapstart",cancel:"singletapcancel",finalize:"singletap"}},_singleTapStart:function(t){if(this.timerId)return this._singleTapFinalCancel(t);var e=this._gestureStart(t);return null==e?null!=t.returnValue?t.returnValue:!t.defaultPrevented:e},_singleTapMove:function(t){var e=aria.touch.Event.getPositions(t);if(this.MARGIN>=this._calculateDistance(this.startData.positions[0].x,this.startData.positions[0].y,e[0].x,e[0].y)){var i=this._gestureMove(t);return null==i?this._singleTapCancel(t):i}return this._singleTapCancel(t)},_singleTapEnd:function(t){var e=this._gestureEnd(t);return null!=e?(this.timerId=aria.core.Timer.addCallback({fn:this._singleTapFinalize,scope:this,delay:this.FINAL_DELAY,args:t}),e):this._singleTapCancel(t)},_singleTapCancel:function(t){return this.timerId&&(aria.core.Timer.cancelCallback(this.timerId),this.timerId=null),this._gestureCancel(t)},_singleTapFinalize:function(t){this.timerId&&(aria.core.Timer.cancelCallback(this.timerId),this.timerId=null),this._raiseFakeEvent(t,this._getFakeEventsMap().finalize)},_singleTapFinalCancel:function(t){return this.timerId&&(aria.core.Timer.cancelCallback(this.timerId),this.timerId=null),this._raiseFakeEvent(t,this._getFakeEventsMap().cancel)}}});
//*******************
//LOGICAL-PATH:aria/touch/Swipe.js
//*******************
Aria.classDefinition({$singleton:!0,$classpath:"aria.touch.Swipe",$extends:"aria.touch.Gesture",$statics:{MARGIN:20},$events:{swipestart:"",swipemove:"",swipeend:"",swipecancel:""},$prototype:{_getInitialListenersList:function(){return[{evt:this.touchEventMap.touchstart,cb:{fn:this._swipeStart,scope:this}}]},_getAdditionalListenersList:function(){return[{evt:this.touchEventMap.touchmove,cb:{fn:this._swipeMove,scope:this}},{evt:this.touchEventMap.touchend,cb:{fn:this._swipeEnd,scope:this}}]},_getFakeEventsMap:function(){return{start:"swipestart",move:"swipemove",end:"swipe",cancel:"swipecancel"}},_swipeStart:function(t){var e=this._gestureStart(t);return null!=e?(this.$raiseEvent({name:"swipestart",startX:this.startData.positions[0].x,startY:this.startData.positions[0].y,originalEvent:t}),e):null!=t.returnValue?t.returnValue:!t.defaultPrevented},_swipeMove:function(t){var e=this._getRoute(this.startData.positions[0],aria.touch.Event.getPositions(t)[0]);if(e){var i=this._gestureMove(t,e);return null!=i?(this.$raiseEvent({name:"swipemove",route:e,originalEvent:t}),i):this._swipeCancel(t)}return this._swipeCancel(t)},_swipeEnd:function(t){var e=this._getRoute(this.startData.positions[0],aria.touch.Event.getPositions(t)[0]);if(e){var i=this._gestureEnd(t,e);return null!=i?(this.$raiseEvent({name:"swipeend",route:e,originalEvent:t}),i):this._swipeCancel(t)}return this._swipeCancel(t)},_swipeCancel:function(t){return this.$raiseEvent({name:"swipecancel"}),this._gestureCancel(t)},_getRoute:function(t,e){var i=e.x-t.x,a=e.y-t.y,s=Math.abs(i),n=Math.abs(a),r=n>s&&this.MARGIN>=s,o=s>n&&this.MARGIN>=n;return r?{direction:0>a?"up":"down",distance:n,startX:t.x,startY:t.y,endX:e.x,endY:e.y}:o?{direction:0>i?"left":"right",distance:s,startX:t.x,startY:t.y,endX:e.x,endY:e.y}:!1}}});
//*******************
//LOGICAL-PATH:aria/touch/Tap.js
//*******************
Aria.classDefinition({$singleton:!0,$classpath:"aria.touch.Tap",$extends:"aria.touch.Gesture",$statics:{MARGIN:10},$prototype:{_getInitialListenersList:function(){return[{evt:this.touchEventMap.touchstart,cb:{fn:this._tapStart,scope:this}}]},_getAdditionalListenersList:function(){return[{evt:this.touchEventMap.touchmove,cb:{fn:this._tapMove,scope:this}},{evt:this.touchEventMap.touchend,cb:{fn:this._tapEnd,scope:this}}]},_getFakeEventsMap:function(){return{start:"tapstart",end:"tap",cancel:"tapcancel"}},_tapStart:function(t){var e=this._gestureStart(t);return null==e?null!=t.returnValue?t.returnValue:!t.defaultPrevented:e},_tapMove:function(t){var e=aria.touch.Event.getPositions(t);if(this.MARGIN>=this._calculateDistance(this.startData.positions[0].x,this.startData.positions[0].y,e[0].x,e[0].y)){var i=this._gestureMove(t);return null==i?this._gestureCancel(t):i}return this._gestureCancel(t)},_tapEnd:function(t){var e=this._gestureEnd(t);return null==e?this._gestureCancel(t):null!=t.returnValue?t.returnValue:!t.defaultPrevented}}});